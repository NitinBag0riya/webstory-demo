{"version":3,"file":"wp-dashboard.js","mappings":"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B,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA,MAAM,yDAAyD;WAC/D;WACA,mCAAmC,u1OAAu1O;WAC13O;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;WCAA;;;;;WCAA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,CAAC;;WAED;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA,2BAA2B;WAC3B,4BAA4B;WAC5B,2BAA2B;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;;WAEH;WACA;WACA;WACA;WACA;WACA;WACA,oBAAoB,gBAAgB;WACpC;WACA;WACA;WACA,KAAK;WACL;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA,oBAAoB,gBAAgB;WACpC;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;;WAEH;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;WACA;WACA,GAAG;;WAEH;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;WAEA,iBAAiB,qCAAqC;WACtD;;WAEA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA,oBAAoB,iBAAiB;WACrC;WACA;WACA;WACA,GAAG;WACH;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH,EAAE;WACF;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA,QAAQ;WACR;WACA;WACA,QAAQ;WACR;WACA,MAAM;WACN,KAAK;WACL,IAAI;WACJ,GAAG;WACH;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;;WAEA;WACA;;WAEA;;WAEA;WACA;WACA,EAAE;WACF;;WAEA;WACA;WACA;WACA,GAAG;WACH;;WAEA;WACA;WACA;WACA,GAAG;WACH;;WAEA;WACA;;WAEA;WACA;WACA,EAAE;;WAEF;WACA;;WAEA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA,oBAAoB,oBAAoB;WACxC;WACA;WACA;WACA;WACA,EAAE;;WAEF;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;;WAEA;WACA;WACA;WACA;WACA,KAAK;WACL;WACA,IAAI;WACJ;;WAEA;WACA;WACA,GAAG;WACH,EAAE;WACF;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ,GAAG;WACH;WACA;WACA;WACA;;;;;WCrYA;;;;;WCAA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA,CAAC;;WAED;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCxDA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA,gBAAgB,6BAA6B;WAC7C;WACA;WACA;WACA;WACA;WACA,gBAAgB,8BAA8B;WAC9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;WAEA;WACA;WACA;WACA,UAAU;WACV,iBAAiB,oBAAoB;WACrC;WACA;WACA;WACA;WACA,EAAE;WACF,iBAAiB,oBAAoB;WACrC;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA,GAAG;WACH,EAAE;WACF;;;;;WClFA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mBAAmB,2BAA2B;WAC9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,KAAK;WACL;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA,kBAAkB,cAAc;WAChC;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,cAAc,MAAM;WACpB;WACA;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA,cAAc,aAAa;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,iBAAiB,4BAA4B;WAC7C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;;WAEA;;WAEA;WACA;WACA;WACA;WACA,IAAI;WACJ;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA,gBAAgB,4BAA4B;WAC5C;WACA;WACA;;WAEA;WACA;;WAEA;WACA;;WAEA;WACA;;WAEA;WACA,gBAAgB,4BAA4B;WAC5C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kBAAkB,uCAAuC;WACzD;WACA;WACA;WACA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA,mBAAmB,iCAAiC;WACpD;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sBAAsB,uCAAuC;WAC7D;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sBAAsB,sBAAsB;WAC5C;WACA;WACA,SAAS;WACT;WACA;WACA;WACA;WACA;WACA,WAAW;WACX,WAAW;WACX;WACA;WACA;WACA;WACA;WACA;WACA;WACA,YAAY;WACZ;WACA;WACA;WACA;WACA;WACA;WACA,UAAU;WACV;WACA;WACA;WACA;WACA;WACA;WACA,WAAW;WACX;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA,mBAAmB,wCAAwC;WAC3D;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;WACA;WACA;WACA,QAAQ;WACR,QAAQ;WACR;WACA;WACA;WACA;WACA;WACA;WACA,SAAS;WACT;WACA;WACA;WACA;WACA;WACA;WACA,OAAO;WACP;WACA;WACA;WACA;WACA;WACA,QAAQ;WACR;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE,IAAI;WACN;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA,EAAE;WACF;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,sCAAsC;WACtC;WACA;WACA,EAAE;WACF;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UE9jBA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA","sources":["webpack://web-story-creation-tool/./packages/dashboard/src/icons/compass.svg","webpack://web-story-creation-tool/./packages/dashboard/src/icons/floppyDisk.svg","webpack://web-story-creation-tool/./packages/dashboard/src/icons/homeWithHeart.svg","webpack://web-story-creation-tool/./packages/dashboard/src/icons/menu.svg","webpack://web-story-creation-tool/./packages/dashboard/src/icons/moreVertical.svg","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/apiProvider.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/useApi.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/useApiAlerts.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/useStoryApi.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/useTemplateApi.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/api/useUsersApi.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/config/configProvider.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/config/context.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/config/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/config/useConfig.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/reducer/stories.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/reducer/templates.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/router/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/router/route.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/router/routerProvider.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/router/useRouteHistory.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/serializers/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/serializers/templates.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/textContent/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/constants.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/content/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/content/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/content/templateGridItem.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/content/templateGridView.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/header/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/modal/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/modal/templateDetails/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/modal/templateDetails/content/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/exploreTemplates/modal/templateDetails/header/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/listView/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/listView/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storiesView/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storyGridItem/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storyGridItem/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storyGridItem/storyDisplayContent.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storyGridView/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storyListItem/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/content/storyListItem/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/header/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/myStories/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/shared/bodyViewOptions.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/shared/emptyContentMessage.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/shared/grid/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/shared/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/shared/pageHeading.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/utils/composeTemplateFilter.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/utils/getSearchOptions.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/utils/getTemplateFilters.js","webpack://web-story-creation-tool/./packages/dashboard/src/app/views/utils/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/cardGallery/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/cardGallery/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/cardGrid/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/cardGridItem/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/colorList/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/contentGutter/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/dialog/dialog.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/dialog/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/fileUpload/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/infiniteScroller/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/inlineInputForm/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/interfaceSkeleton/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/layout/fixed.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/layout/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/layout/provider.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/layout/scrollable.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/layout/useLayoutContext.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/navProvider.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/pageStructure/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/pageStructure/leftRail.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/pageStructure/menuButton.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/pageStructure/navigationComponents.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/pageStructure/pageStructureComponents.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/popoverMenu/story-menu-generator.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/scrollToTop/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/storyMenu/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/table/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/tooltip/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/tooltip/tooltip.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/types.js","webpack://web-story-creation-tool/./packages/dashboard/src/components/viewStyleBar/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/constants/components.js","webpack://web-story-creation-tool/./packages/dashboard/src/constants/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/constants/pageStructure.js","webpack://web-story-creation-tool/./packages/dashboard/src/constants/stories.js","webpack://web-story-creation-tool/./packages/dashboard/src/constants/templates.js","webpack://web-story-creation-tool/./packages/dashboard/src/dashboard.js","webpack://web-story-creation-tool/./packages/dashboard/src/getDefaultConfig.js","webpack://web-story-creation-tool/./packages/dashboard/src/icons/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/theme.js","webpack://web-story-creation-tool/./packages/dashboard/src/types.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/groupBy.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/index.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/keyboardOnlyOutline.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/noop.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/titleFormatted.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/useDashboardResultsLabel.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/usePagePreviewSize.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/useStoryView.js","webpack://web-story-creation-tool/./packages/dashboard/src/utils/useTemplateView.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/style.css?d939","webpack://web-story-creation-tool/external window [\"wp\",\"apiFetch\"]","webpack://web-story-creation-tool/external window [\"wp\",\"domReady\"]","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/authors.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/constants/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/fonts.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/useApiAlerts.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/useFontsApi.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/useMediaApi.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/usePagesApi.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/usePublisherLogosApi.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/useSettingsApi.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/hooks/useUserApi.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/media.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/pages.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/publisherLogo.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/reducers/media.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/reducers/publisherLogos.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/reducers/settings.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/settings.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/story.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/user.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/utils/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/api/utils/reshapeStoryObject.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/adManagement/adNetwork/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/adManagement/googleAdManager/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/adManagement/googleAdSense/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/adManagement/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/archive/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/components.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/context.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/customFonts/confirmationDialog.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/customFonts/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/customFonts/utils/getFontDataFromUrl.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/editorSettings.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/editorSettingsProvider.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/googleAnalytics/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/mediaOptimization/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/publisherLogo/gridItem.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/publisherLogo/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/publisherLogo/popoverLogoContextMenu.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/shopping/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/shopping/shopify/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/shopping/shoppingProviderDropDown.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/telemetry/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/useEditorSettings.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/utils/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/utils/validateAdManagerSlotIdFormat.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/utils/validateAdSensePublisherIdFormat.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/utils/validateAdSenseSlotIdFormat.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/utils/validateGoogleAnalyticsIdFormat.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/utils/validateShopifyHost.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/editorSettings/videoCache/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/layout/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/components/telemetryBanner/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/constants/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/constants/settings.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/constants/textConstants.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/constants/wpAdmin.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/effects/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/effects/useAdminSubMenu.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/effects/useMediaOptimization.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/effects/useTelemetryOptIn.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/index.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/publicPath.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/setLocaleData.js","webpack://web-story-creation-tool/./packages/wp-dashboard/src/theme.js","webpack://web-story-creation-tool/webpack/bootstrap","webpack://web-story-creation-tool/webpack/runtime/amd options","webpack://web-story-creation-tool/webpack/runtime/chunk loaded","webpack://web-story-creation-tool/webpack/runtime/compat get default export","webpack://web-story-creation-tool/webpack/runtime/create fake namespace object","webpack://web-story-creation-tool/webpack/runtime/define property getters","webpack://web-story-creation-tool/webpack/runtime/ensure chunk","webpack://web-story-creation-tool/webpack/runtime/get javascript chunk filename","webpack://web-story-creation-tool/webpack/runtime/get javascript update chunk filename","webpack://web-story-creation-tool/webpack/runtime/get mini-css chunk filename","webpack://web-story-creation-tool/webpack/runtime/get update manifest filename","webpack://web-story-creation-tool/webpack/runtime/getFullHash","webpack://web-story-creation-tool/webpack/runtime/global","webpack://web-story-creation-tool/webpack/runtime/hasOwnProperty shorthand","webpack://web-story-creation-tool/webpack/runtime/load script","webpack://web-story-creation-tool/webpack/runtime/make namespace object","webpack://web-story-creation-tool/webpack/runtime/hot module replacement","webpack://web-story-creation-tool/webpack/runtime/publicPath","webpack://web-story-creation-tool/webpack/runtime/react refresh","webpack://web-story-creation-tool/webpack/runtime/css loading","webpack://web-story-creation-tool/webpack/runtime/jsonp chunk loading","webpack://web-story-creation-tool/webpack/before-startup","webpack://web-story-creation-tool/webpack/startup","webpack://web-story-creation-tool/webpack/after-startup"],"sourcesContent":["var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { memo } from \"react\";\n\nconst SvgCompass = _ref => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 3v3M22 12.5h-3M12.5 22v-3M3 12.5h3M12.5 22a9.5 9.5 0 1 0 0-19 9.5 9.5 0 0 0 0 19Z\",\n    stroke: \"currentColor\",\n    strokeMiterlimit: 10,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.851 8.492a.5.5 0 0 1 .657.657l-2.13 4.967a.5.5 0 0 1-.262.263L9.15 16.508a.5.5 0 0 1-.657-.657l2.13-4.967a.5.5 0 0 1 .262-.263l4.967-2.129Z\",\n    stroke: \"currentColor\",\n    strokeMiterlimit: 10,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n};\n\nconst Memo = /*#__PURE__*/memo(SvgCompass);\nexport default Memo;","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { memo } from \"react\";\n\nconst SvgFloppyDisk = _ref => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.833 18C7.373 18 7 17.552 7 17v-4c0-.552.373-1 .833-1h8.334c.46 0 .833.448.833 1v4\",\n    stroke: \"currentColor\",\n    strokeMiterlimit: 10,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.2 22H4.8c-.477 0-.935-.21-1.273-.586A2.118 2.118 0 0 1 3 20V4c0-.53.19-1.04.527-1.414A1.714 1.714 0 0 1 4.8 2h11.255a1 1 0 0 1 .743.331l3.945 4.384a1 1 0 0 1 .257.669V20c0 .53-.19 1.04-.527 1.414A1.714 1.714 0 0 1 19.2 22ZM15 6v2\",\n    stroke: \"currentColor\",\n    strokeMiterlimit: 10,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n};\n\nconst Memo = /*#__PURE__*/memo(SvgFloppyDisk);\nexport default Memo;","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { memo } from \"react\";\n\nconst SvgHomeWithHeart = _ref => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.781 10.72a2.44 2.44 0 0 0-2.999-.367 2.493 2.493 0 0 0-.782.748 2.493 2.493 0 0 0-.782-.748 2.45 2.45 0 0 0-2.088-.21 2.47 2.47 0 0 0-1.443 1.375 2.476 2.476 0 0 0 .532 2.687L12 18l3.781-3.795a2.477 2.477 0 0 0 0-3.484Z\",\n    stroke: \"currentColor\",\n    strokeMiterlimit: 10,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m1 11 10.367-8.482a1 1 0 0 1 1.266 0L23 11M4 9v12a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9\",\n    stroke: \"currentColor\",\n    strokeMiterlimit: 10,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n};\n\nconst Memo = /*#__PURE__*/memo(SvgHomeWithHeart);\nexport default Memo;","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { memo } from \"react\";\n\nconst SvgMenu = _ref => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\",\n    fill: \"currentColor\"\n  })));\n};\n\nconst Memo = /*#__PURE__*/memo(SvgMenu);\nexport default Memo;","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\nimport { memo } from \"react\";\n\nconst SvgMoreVertical = _ref => {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"none\",\n    viewBox: \"0 0 4 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\",\n    fill: \"currentColor\"\n  })));\n};\n\nconst Memo = /*#__PURE__*/memo(SvgMoreVertical);\nexport default Memo;","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { createContext } from '@googleforcreators/react';\n\n/**\n * Internal dependencies\n */\nimport useStoryApi from './useStoryApi';\nimport useTemplateApi from './useTemplateApi';\nimport useUsersApi from './useUsersApi';\n\nexport const ApiContext = createContext({ state: {}, actions: {} });\n\nexport default function ApiProvider({ children }) {\n  const { api: usersApi } = useUsersApi();\n  const { templates, api: templateApi } = useTemplateApi();\n  const { stories, api: storyApi } = useStoryApi();\n\n  const value = {\n    state: {\n      stories,\n      templates,\n    },\n    actions: {\n      storyApi,\n      templateApi,\n      usersApi,\n    },\n  };\n\n  return <ApiContext.Provider value={value}>{children}</ApiContext.Provider>;\n}\n\nApiProvider.propTypes = {\n  children: PropTypes.node,\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as ApiProvider } from './apiProvider';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@googleforcreators/react';\n/**\n * Internal dependencies\n */\nimport { ApiContext } from './apiProvider';\n\nexport default function useApi(selector = identity) {\n  return useContextSelector(ApiContext, selector);\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useEffect, useDebouncedCallback } from '@googleforcreators/react';\nimport { useSnackbar } from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport useApi from './useApi';\n\nfunction useApiAlerts() {\n  const { storyError, templateError } = useApi(\n    ({\n      state: {\n        stories: { error: storyError },\n        templates: { error: templateError },\n      },\n    }) => ({\n      storyError,\n      templateError,\n    })\n  );\n  const { showSnackbar } = useSnackbar();\n\n  const debouncedShowSnackbar = useDebouncedCallback((message) => {\n    return showSnackbar({ message, dismissible: true });\n  }, 200);\n  // if there is an API error, display a snackbar\n  useEffect(() => {\n    if (storyError?.id) {\n      debouncedShowSnackbar(storyError.message);\n    }\n  }, [storyError, debouncedShowSnackbar]);\n\n  useEffect(() => {\n    if (templateError?.id) {\n      debouncedShowSnackbar(templateError.message);\n    }\n  }, [templateError, debouncedShowSnackbar]);\n}\nexport default useApiAlerts;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from '@googleforcreators/react';\nimport { getTimeTracker } from '@googleforcreators/tracking';\n\n/**\n * Internal dependencies\n */\nimport storyReducer, {\n  defaultStoriesState,\n  ACTION_TYPES as STORY_ACTION_TYPES,\n} from '../reducer/stories';\nimport { ERRORS } from '../textContent';\nimport { useConfig } from '../config';\n\nconst useStoryApi = () => {\n  const isInitialFetch = useRef(true);\n  const initialFetchListeners = useMemo(() => new Map(), []);\n  const [state, dispatch] = useReducer(storyReducer, defaultStoriesState);\n  const { apiCallbacks } = useConfig();\n\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const fetchStories = useCallback(\n    async (queryParams) => {\n      dispatch({\n        type: STORY_ACTION_TYPES.LOADING_STORIES,\n        payload: true,\n      });\n\n      // eslint-disable-next-line @wordpress/no-unused-vars-before-return -- False positive because of the finally().\n      const trackTiming = getTimeTracker('load_stories');\n\n      try {\n        // Maybe not making a lot of sense to expect fetchedStoryIds from the api callbacks response.\n        // However the order of ids get changed if we try to create that array here\n        // which may ( or may not ) cause some regression. @todo Reflect on fetchedStoryIds again in next phase.\n        const { stories, fetchedStoryIds, totalPages, totalStoriesByStatus } =\n          await apiCallbacks.fetchStories(queryParams);\n\n        if (!isMounted.current) {\n          return;\n        }\n\n        // Hook into first fetch of story statuses.\n        if (isInitialFetch.current) {\n          initialFetchListeners.forEach((listener) => {\n            listener(totalStoriesByStatus);\n          });\n        }\n\n        isInitialFetch.current = false;\n\n        dispatch({\n          type: STORY_ACTION_TYPES.FETCH_STORIES_SUCCESS,\n          payload: {\n            stories,\n            totalPages,\n            totalStoriesByStatus,\n            fetchedStoryIds,\n            page: queryParams.page,\n          },\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.FETCH_STORIES_FAILURE,\n          payload: {\n            message: ERRORS.LOAD_STORIES.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        dispatch({\n          type: STORY_ACTION_TYPES.LOADING_STORIES,\n          payload: false,\n        });\n        trackTiming();\n      }\n    },\n    [apiCallbacks, initialFetchListeners]\n  );\n\n  const updateStory = useCallback(\n    async (story) => {\n      const trackTiming = getTimeTracker('load_update_story');\n\n      try {\n        const response = await apiCallbacks.updateStory(story);\n\n        dispatch({\n          type: STORY_ACTION_TYPES.UPDATE_STORY,\n          payload: response,\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.UPDATE_STORY_FAILURE,\n          payload: {\n            message: ERRORS.UPDATE_STORY.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        trackTiming();\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const trashStory = useCallback(\n    async (story) => {\n      const trackTiming = getTimeTracker('load_trash_story');\n\n      try {\n        await apiCallbacks.trashStory(story.id);\n        dispatch({\n          type: STORY_ACTION_TYPES.TRASH_STORY,\n          payload: { id: story.id, storyStatus: story.status },\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.TRASH_STORY_FAILURE,\n          payload: {\n            message: ERRORS.DELETE_STORY.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        trackTiming();\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const createStoryFromTemplate = useCallback(\n    async (template) => {\n      dispatch({\n        type: STORY_ACTION_TYPES.CREATING_STORY_FROM_TEMPLATE,\n        payload: true,\n      });\n\n      try {\n        const response = await apiCallbacks.createStoryFromTemplate(template);\n\n        dispatch({\n          type: STORY_ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_SUCCESS,\n        });\n\n        window.location = response.editLink;\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_FAILURE,\n          payload: {\n            message: ERRORS.CREATE_STORY_FROM_TEMPLATE.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        dispatch({\n          type: STORY_ACTION_TYPES.CREATING_STORY_FROM_TEMPLATE,\n          payload: false,\n        });\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const duplicateStory = useCallback(\n    async (story) => {\n      const trackTiming = getTimeTracker('load_duplicate_story');\n\n      try {\n        const response = await apiCallbacks.duplicateStory(story);\n\n        dispatch({\n          type: STORY_ACTION_TYPES.DUPLICATE_STORY,\n          payload: response,\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.DUPLICATE_STORY_FAILURE,\n          payload: {\n            message: ERRORS.DUPLICATE_STORY.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        trackTiming();\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const addInitialFetchListener = useCallback(\n    (listener) => {\n      const key = Symbol();\n      initialFetchListeners.set(key, listener);\n      return () => {\n        initialFetchListeners.delete(key);\n      };\n    },\n    [initialFetchListeners]\n  );\n\n  return {\n    stories: state,\n    api: {\n      duplicateStory,\n      fetchStories,\n      createStoryFromTemplate,\n      trashStory,\n      updateStory,\n      addInitialFetchListener,\n    },\n  };\n};\n\nexport default useStoryApi;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useReducer } from '@googleforcreators/react';\nimport { compareDesc } from '@googleforcreators/date';\n\n/**\n * Internal dependencies\n */\nimport templateReducer, {\n  defaultTemplatesState,\n  ACTION_TYPES as TEMPLATE_ACTION_TYPES,\n} from '../reducer/templates';\nimport { reshapeTemplateObject } from '../serializers';\nimport { useConfig } from '../config';\n\nconst useTemplateApi = () => {\n  const [state, dispatch] = useReducer(templateReducer, defaultTemplatesState);\n  const { cdnURL } = useConfig();\n\n  const fetchExternalTemplates = useCallback(async () => {\n    dispatch({\n      type: TEMPLATE_ACTION_TYPES.LOADING_TEMPLATES,\n      payload: true,\n    });\n\n    const templatesByTag = {};\n\n    const { getAllTemplates } = await import(\n      /* webpackChunkName: \"chunk-web-stories-templates\" */ '@googleforcreators/templates'\n    );\n\n    const reshapedTemplates = (await getAllTemplates({ cdnURL }))\n      .map((template) => {\n        const reshapedTemplate = reshapeTemplateObject(template);\n\n        reshapedTemplate.tags.forEach((tag) => {\n          if (templatesByTag[tag]) {\n            templatesByTag[tag].push(reshapedTemplate.id);\n          } else {\n            templatesByTag[tag] = [reshapedTemplate.id];\n          }\n        });\n\n        return reshapedTemplate;\n      })\n      .sort((a, b) => compareDesc(a.creationDate, b.creationDate));\n    dispatch({\n      type: TEMPLATE_ACTION_TYPES.FETCH_TEMPLATES_SUCCESS,\n      payload: {\n        page: 1,\n        templates: reshapedTemplates,\n        totalPages: 1,\n        totalTemplates: reshapedTemplates.length,\n        templatesByTag,\n      },\n    });\n  }, [cdnURL]);\n\n  const fetchExternalTemplateById = useCallback(\n    (templateId) => {\n      if (state.templates[templateId]) {\n        return Promise.resolve(state.templates[templateId]);\n      }\n      return Promise.reject(new Error());\n    },\n    [state]\n  );\n\n  return {\n    templates: state,\n    api: {\n      fetchExternalTemplates,\n      fetchExternalTemplateById,\n    },\n  };\n};\n\nexport default useTemplateApi;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../config';\n\nfunction useUsersApi() {\n  const {\n    apiCallbacks: { getAuthors },\n  } = useConfig();\n\n  return {\n    api: {\n      getAuthors,\n    },\n  };\n}\n\nexport default useUsersApi;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport Context from './context';\n\nfunction ConfigProvider({ config, children }) {\n  return <Context.Provider value={config}>{children}</Context.Provider>;\n}\n\nConfigProvider.propTypes = {\n  children: PropTypes.node,\n  config: PropTypes.object.isRequired,\n};\n\nexport default ConfigProvider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createContext } from '@googleforcreators/react';\n\nexport default createContext({ api: {} });\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as ConfigProvider } from './configProvider';\nexport { default as useConfig } from './useConfig';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@googleforcreators/react';\n/**\n * Internal dependencies\n */\nimport Context from './context';\n\nfunction useConfig(selector = identity) {\n  return useContextSelector(Context, selector);\n}\n\nexport default useConfig;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './api';\nexport * from './config';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { STORY_STATUS } from '../../constants';\n\nexport const ACTION_TYPES = {\n  CREATING_STORY_FROM_TEMPLATE: 'creating_story_from_template',\n  CREATE_STORY_FROM_TEMPLATE_SUCCESS: 'create_story_from_template_success',\n  CREATE_STORY_FROM_TEMPLATE_FAILURE: 'create_story_from_template_failure',\n  LOADING_STORIES: 'loading_stories',\n  FETCH_STORIES_SUCCESS: 'fetch_stories_success',\n  FETCH_STORIES_FAILURE: 'fetch_stories_failure',\n  UPDATE_STORY: 'update_story',\n  UPDATE_STORY_FAILURE: 'update_story_failure',\n  TRASH_STORY: 'trash_story',\n  TRASH_STORY_FAILURE: 'trash_story_failure',\n  DUPLICATE_STORY: 'duplicate_story',\n  DUPLICATE_STORY_FAILURE: 'duplicate_story_failure',\n};\n\nexport const defaultStoriesState = {\n  error: {},\n  isLoading: false,\n  stories: {},\n  storiesOrderById: [],\n  totalStoriesByStatus: {},\n  totalPages: null,\n};\n\nfunction storyReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.LOADING_STORIES:\n    case ACTION_TYPES.CREATING_STORY_FROM_TEMPLATE: {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_FAILURE:\n    case ACTION_TYPES.FETCH_STORIES_FAILURE:\n    case ACTION_TYPES.UPDATE_STORY_FAILURE:\n    case ACTION_TYPES.TRASH_STORY_FAILURE:\n    case ACTION_TYPES.DUPLICATE_STORY_FAILURE: {\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n      };\n    }\n\n    case ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_SUCCESS: {\n      return {\n        ...state,\n        error: {},\n      };\n    }\n\n    case ACTION_TYPES.UPDATE_STORY:\n      return {\n        ...state,\n        error: {},\n        stories: {\n          ...state.stories,\n          [action.payload.id]: action.payload,\n        },\n      };\n\n    case ACTION_TYPES.TRASH_STORY: {\n      const storyGroupStatus =\n        action.payload.storyStatus === STORY_STATUS.DRAFT\n          ? STORY_STATUS.DRAFT\n          : STORY_STATUS.PUBLISH;\n\n      return {\n        ...state,\n        error: {},\n        storiesOrderById: state.storiesOrderById.filter(\n          (id) => id !== action.payload.id\n        ),\n        totalStoriesByStatus: {\n          ...state.totalStoriesByStatus,\n          all: state.totalStoriesByStatus.all - 1,\n          [storyGroupStatus]: state.totalStoriesByStatus[storyGroupStatus] - 1,\n        },\n        stories: Object.keys(state.stories).reduce((memo, storyId) => {\n          if (parseInt(storyId) !== action.payload.id) {\n            memo[storyId] = state.stories[storyId];\n          }\n          return memo;\n        }, {}),\n      };\n    }\n\n    case ACTION_TYPES.DUPLICATE_STORY:\n      return {\n        ...state,\n        error: {},\n        storiesOrderById: [action.payload.id, ...state.storiesOrderById],\n        totalStoriesByStatus: {\n          ...state.totalStoriesByStatus,\n          all: state.totalStoriesByStatus.all + 1,\n          [action.payload.status]:\n            state.totalStoriesByStatus[action.payload.status] + 1,\n        },\n        stories: {\n          ...state.stories,\n          [action.payload.id]: action.payload,\n        },\n      };\n\n    case ACTION_TYPES.FETCH_STORIES_SUCCESS: {\n      const {\n        fetchedStoryIds,\n        totalStoriesByStatus,\n        totalPages,\n        page,\n        stories: payloadStories,\n      } = action.payload;\n      const { storiesOrderById, stories } = state;\n\n      const combinedStoryIds =\n        page === 1\n          ? fetchedStoryIds\n          : [...storiesOrderById, ...fetchedStoryIds];\n\n      const uniqueStoryIds = [...new Set(combinedStoryIds)];\n\n      return {\n        ...state,\n        error: {},\n        storiesOrderById: uniqueStoryIds,\n        stories: {\n          ...stories,\n          ...payloadStories,\n        },\n        totalPages: totalPages || 1,\n        totalStoriesByStatus: totalStoriesByStatus,\n        allPagesFetched: page >= totalPages,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default storyReducer;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport groupBy from '../../utils/groupBy';\n\nexport const ACTION_TYPES = {\n  LOADING_TEMPLATES: 'loading_templates',\n  FETCH_TEMPLATES_SUCCESS: 'fetch_templates_success',\n  FETCH_TEMPLATES_FAILURE: 'fetch_templates_failure',\n  PLACEHOLDER: 'placeholder',\n};\n\nexport const defaultTemplatesState = {\n  allPagesFetched: false,\n  error: {},\n  isLoading: false,\n  templates: {},\n  templatesByTag: {},\n  templatesOrderById: [],\n  totalTemplates: null,\n  totalPages: null,\n};\n\nfunction templateReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.LOADING_TEMPLATES: {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.FETCH_TEMPLATES_FAILURE:\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n      };\n\n    case ACTION_TYPES.FETCH_TEMPLATES_SUCCESS: {\n      const fetchedTemplatesById = action.payload.templates.map(({ id }) => id);\n\n      const combinedTemplateIds =\n        action.payload.page === 1\n          ? fetchedTemplatesById\n          : [...state.templatesOrderById, ...fetchedTemplatesById];\n\n      const uniqueTemplateIds = [...new Set(combinedTemplateIds)];\n\n      return {\n        ...state,\n        error: {},\n        templatesOrderById: uniqueTemplateIds,\n        templates: {\n          ...state.templates,\n          ...groupBy(action.payload.templates, 'id'),\n        },\n        isLoading: false,\n        totalPages: action.payload.totalPages,\n        totalTemplates: action.payload.totalTemplates,\n        allPagesFetched: action.payload.page >= action.payload.totalPages,\n        templatesByTag: action.payload.templatesByTag,\n      };\n    }\n    case ACTION_TYPES.PLACEHOLDER:\n      return defaultTemplatesState;\n\n    default:\n      return state;\n  }\n}\n\nexport default templateReducer;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\n\nexport { default as RouterProvider, RouterContext } from './routerProvider';\nexport { default as useRouteHistory } from './useRouteHistory';\nexport { default as Route, matchPath, resolveRoute } from './route';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\n\nimport PropTypes from 'prop-types';\n/**\n * Internal dependencies\n */\nimport useRouteHistory from './useRouteHistory';\n\nexport function parentRoute() {\n  const potentialParent = window.location.hash\n    .split('/')\n    .slice(0, -1)\n    .join('/');\n  if (potentialParent.startsWith('#')) {\n    return potentialParent;\n  } else {\n    return '#/';\n  }\n}\n\nexport function resolveRoute(route) {\n  if (\n    route.toLowerCase().startsWith('http://') ||\n    route.toLowerCase().startsWith('https://')\n  ) {\n    /**\n     * If the url starts with a protocol assume it's a full path and\n     * visit it normally.\n     */\n    return route;\n  } else if (route.startsWith('/')) {\n    /**\n     * If the url starts with a backslash visit it as a root view\n     * within the context of the dashboard app.\n     */\n    return `#${route}`;\n  } else if (route === '') {\n    /**\n     * If the url is empty visit it as a root view\n     * within the context of the dashboard app.\n     */\n    return '#/';\n  } else {\n    /**\n     * If the url has no root append it to the current route and create\n     * a nested root within the context of the dashboard app.\n     */\n    return `${window.location.hash}/${route}`;\n  }\n}\n\nexport function matchPath({\n  currentPath,\n  path,\n  availableRoutes,\n  defaultRoute,\n  isDefault = false,\n  exact = false,\n}) {\n  const match = new RegExp(`^${path}`).exec(currentPath);\n\n  // allow paths through that don't match if they are default, not narrowed out yet.\n  if (!match && !isDefault) {\n    return null;\n  }\n\n  // Find all available url matches\n  const matchUrl = match?.[0];\n\n  // Check if there is a default before looking for more exact matches\n  // If there is and the current path fits 1 or less\n  // of the available routes then render it as default\n  if (isDefault) {\n    const isValidDefaultRoute =\n      availableRoutes.filter((route) => currentPath.startsWith(route)).length <=\n      1;\n\n    if (isValidDefaultRoute) {\n      return defaultRoute;\n    }\n  }\n\n  const isExactMatch = currentPath === matchUrl;\n  if (exact && !isExactMatch) {\n    return null;\n  }\n  return matchUrl;\n}\n\nfunction Route({ component, path, exact = false, isDefault = false }) {\n  const { availableRoutes, currentPath, defaultRoute } = useRouteHistory(\n    ({ state }) => state\n  );\n\n  const match = matchPath({\n    currentPath,\n    availableRoutes,\n    defaultRoute,\n    path,\n    exact,\n    isDefault,\n  });\n\n  if (!match) {\n    return null;\n  }\n  return component;\n}\n\nRoute.propTypes = {\n  component: PropTypes.node.isRequired,\n  path: PropTypes.string.isRequired,\n  exact: PropTypes.bool,\n};\n\nexport default Route;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useRef,\n  useMemo,\n  useEffect,\n  useState,\n  createContext,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { createHashHistory } from 'history';\n/**\n * Internal dependencies\n */\nimport { APP_ROUTES } from '../../constants';\n\nexport const RouterContext = createContext({ state: {}, actions: {} });\n\nexport const getActiveRoute = ({\n  availableRoutes,\n  currentPath,\n  defaultRoute,\n}) => {\n  const matchingRoutes = availableRoutes.filter((route) =>\n    currentPath.startsWith(route)\n  );\n  // this assumes that we have a route that's just the root path (/)\n  return matchingRoutes.length <= 1 ? defaultRoute : currentPath;\n};\nfunction RouterProvider({ children, ...props }) {\n  const history = useRef(props.history || createHashHistory());\n  const [currentPath, setCurrentPath] = useState(\n    history.current.location.pathname\n  );\n  const [availableRoutes, setAvailableRoutes] = useState([]);\n  const defaultRoute = APP_ROUTES.DASHBOARD;\n\n  const activeRoute = useMemo(\n    () => getActiveRoute({ availableRoutes, currentPath, defaultRoute }),\n    [availableRoutes, currentPath, defaultRoute]\n  );\n\n  const parse = (search) => {\n    const params = new URLSearchParams(search);\n    return Object.fromEntries(params);\n  };\n\n  const [queryParams, setQueryParams] = useState(\n    parse(history.current.location.search)\n  );\n\n  useEffect(() => {\n    return history.current.listen(({ location }) => {\n      setQueryParams(parse(location.search));\n      setCurrentPath(location.pathname);\n    });\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      state: {\n        activeRoute,\n        currentPath,\n        queryParams,\n        availableRoutes,\n        defaultRoute,\n      },\n      actions: {\n        push: history.current.push,\n        replace: history.current.replace,\n        setAvailableRoutes,\n      },\n    }),\n    [activeRoute, availableRoutes, currentPath, defaultRoute, queryParams]\n  );\n\n  return (\n    <RouterContext.Provider value={value}>{children}</RouterContext.Provider>\n  );\n}\n\nRouterProvider.propTypes = {\n  children: PropTypes.node,\n  history: PropTypes.object,\n};\n\nexport default RouterProvider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@googleforcreators/react';\n\n/**\n * Internal dependencies\n */\nimport { RouterContext } from './routerProvider';\n\nfunction useRouteHistory(selector = identity) {\n  return useContextSelector(RouterContext, selector);\n}\n\nexport default useRouteHistory;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as reshapeTemplateObject } from './templates';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { toUTCDate, toDate, getOptions } from '@googleforcreators/date';\n\nexport default function reshapeTemplateObject(\n  originalTemplateData,\n  isLocal = false\n) {\n  const { id, slug, modified, creationDate } = originalTemplateData;\n  if (!id || !slug) {\n    return null;\n  }\n\n  return {\n    ...originalTemplateData,\n    id,\n    slug,\n    creationDate: toDate(creationDate, getOptions()),\n    status: 'template',\n    modified: toUTCDate(modified),\n    isLocal,\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n\nexport const ERRORS = {\n  LOAD_STORIES: {\n    MESSAGE: __('Unable to load stories', 'web-stories'),\n  },\n  UPDATE_STORY: {\n    MESSAGE: __('Unable to update story', 'web-stories'),\n  },\n  DELETE_STORY: {\n    MESSAGE: __('Unable to delete story', 'web-stories'),\n  },\n  CREATE_STORY_FROM_TEMPLATE: {\n    MESSAGE: __('Unable to create story from template', 'web-stories'),\n  },\n  DUPLICATE_STORY: {\n    MESSAGE: __('Unable to duplicate story', 'web-stories'),\n  },\n  LOAD_TEMPLATES: {\n    DEFAULT_MESSAGE: __('Cannot connect to data source', 'web-stories'),\n    MESSAGE: __('Unable to load templates', 'web-stories'),\n  },\n  RENDER_PREVIEW: {\n    MESSAGE: __('Unable to render preview', 'web-stories'),\n  },\n  LOAD_TEMPLATE: {\n    DEFAULT_MESSAGE: __('Could not load the template', 'web-stories'),\n  },\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const TEMPLATE_META_DATA_TYPES = {\n  VERTICAL: 'VERTICAL',\n  COLOR: 'COLOR',\n  TAG: 'TAG',\n  TITLE: 'TITLE',\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { Gradient, Scrim, Poster } from '../../shared/grid/components';\n\n// Allows grid item contents to overlay in a set space\nexport const CardWrapper = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n\n  transition: opacity ease-in-out 300ms;\n\n  &:hover {\n    ${Gradient}, ${Scrim} {\n      opacity: 1;\n    }\n  }\n\n  ${Gradient}, ${Scrim} {\n    opacity: ${({ $isSelected }) => ($isSelected ? 1 : 0)};\n  }\n`;\n\nexport const TemplateDisplayContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  padding-bottom: 16px;\n\n  a,\n  button {\n    margin: auto auto 0;\n  }\n`;\n\nexport const PicturePoster = styled(Poster).attrs({ as: 'picture' })`\n  display: block;\n  & > img {\n    height: 100%;\n    width: 100%;\n    object-fit: fill;\n    border-radius: ${({ theme }) => theme.borders.radius.medium};\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  Headline,\n  LoadingSpinner,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../../../config';\nimport {\n  InfiniteScroller,\n  Layout,\n  StandardViewContentGutter,\n  LoadingContainer,\n} from '../../../../components';\nimport {\n  ViewPropTypes,\n  PagePropTypes,\n  SearchPropTypes,\n} from '../../../../utils/useTemplateView';\nimport { TemplatesPropType, TemplateActionsPropType } from '../../../../types';\nimport { EmptyContentMessage } from '../../shared';\nimport TemplateGridView from './templateGridView';\n\nfunction Content({\n  allPagesFetched,\n  isLoading,\n  page,\n  templates,\n  view,\n  totalTemplates,\n  search,\n  templateActions,\n}) {\n  const { newStoryURL } = useConfig();\n\n  const pageContent = useMemo(() => {\n    if (isLoading) {\n      return (\n        <LoadingContainer>\n          <LoadingSpinner />\n        </LoadingContainer>\n      );\n    }\n    return totalTemplates > 0 ? (\n      <>\n        <TemplateGridView\n          templates={templates}\n          pageSize={view.pageSize}\n          templateActions={templateActions}\n        />\n        <InfiniteScroller\n          canLoadMore={!allPagesFetched}\n          isLoading={isLoading}\n          allDataLoadedMessage={__('No more templates', 'web-stories')}\n          allDataLoadedAriaMessage={__(\n            'All templates are loaded',\n            'web-stories'\n          )}\n          loadingAriaMessage={__('Loading more templates', 'web-stories')}\n          onLoadMore={page.requestNextPage}\n        />\n      </>\n    ) : (\n      <EmptyContentMessage>\n        <Headline size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL} as=\"h3\">\n          {search?.keyword\n            ? sprintf(\n                /* translators: %s: search term. */\n                __(\n                  'Sorry, we couldn\\'t find any results matching \"%s\"',\n                  'web-stories'\n                ),\n                search.keyword\n              )\n            : __('No templates currently available.', 'web-stories')}\n        </Headline>\n        {!search?.keyword && (\n          <Button\n            type={BUTTON_TYPES.PRIMARY}\n            size={BUTTON_SIZES.MEDIUM}\n            as=\"a\"\n            href={newStoryURL}\n          >\n            {__('Create New Story', 'web-stories')}\n          </Button>\n        )}\n      </EmptyContentMessage>\n    );\n  }, [\n    allPagesFetched,\n    isLoading,\n    newStoryURL,\n    page.requestNextPage,\n    search.keyword,\n    templateActions,\n    templates,\n    totalTemplates,\n    view.pageSize,\n  ]);\n\n  return (\n    <Layout.Scrollable>\n      <StandardViewContentGutter>{pageContent}</StandardViewContentGutter>\n    </Layout.Scrollable>\n  );\n}\n\nContent.propTypes = {\n  allPagesFetched: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  page: PagePropTypes,\n  templates: TemplatesPropType,\n  totalTemplates: PropTypes.number,\n  search: SearchPropTypes,\n  templateActions: TemplateActionsPropType,\n  view: ViewPropTypes,\n};\nexport default Content;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  noop,\n} from '@googleforcreators/design-system';\nimport { forwardRef } from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport {\n  DEFAULT_GRID_IMG_HEIGHT,\n  DEFAULT_GRID_IMG_WIDTH,\n  TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS,\n} from '../../../../constants';\nimport { CardGridItem } from '../../../../components';\nimport { Container, Gradient, Scrim } from '../../shared/grid/components';\nimport {\n  TemplateDisplayContent,\n  CardWrapper,\n  PicturePoster,\n} from './components';\n\nexport const FOCUS_TEMPLATE_CLASS = 'focus_template';\n\nconst SeeDetailsButton = styled(Button).attrs({\n  type: BUTTON_TYPES.TERTIARY,\n  size: BUTTON_SIZES.SMALL,\n})`\n  background-color: ${({ theme }) => theme.colors.standard.white};\n`;\n\nconst TemplateGridItem = forwardRef(\n  (\n    {\n      onCreateStory,\n      onFocus,\n      height,\n      id,\n      isActive,\n      posterSrc,\n      slug,\n      title,\n      status,\n      onSeeDetailsClick = noop,\n    },\n    ref\n  ) => {\n    const tabIndex = isActive ? 0 : -1;\n    const posterAltText = sprintf(\n      /* translators: %s: Template title. */\n      __('First page of %s template', 'web-stories'),\n      title\n    );\n\n    return (\n      <CardGridItem\n        ref={ref}\n        id={`template-grid-item-${id}`}\n        className=\"templateGridItem\"\n        data-testid={`template-grid-item-${id}`}\n        $posterHeight={height}\n        onFocus={onFocus}\n      >\n        <Container>\n          <CardWrapper $isSelected={isActive}>\n            <PicturePoster>\n              <source srcSet={posterSrc?.webp} type=\"image/webp\" />\n              <source srcSet={posterSrc?.png} type=\"image/png\" />\n              <img\n                src={posterSrc?.png}\n                alt={posterAltText}\n                decoding=\"async\"\n                width={DEFAULT_GRID_IMG_WIDTH}\n                height={DEFAULT_GRID_IMG_HEIGHT}\n              />\n            </PicturePoster>\n            <Gradient />\n            <Scrim\n              data-testid=\"card-action-container\"\n              data-template-slug={slug}\n            >\n              <TemplateDisplayContent>\n                <SeeDetailsButton\n                  ariaLabel={sprintf(\n                    /* translators: %s: template title.*/\n                    __('Go to detail view of %s', 'web-stories'),\n                    title\n                  )}\n                  onClick={() => onSeeDetailsClick(id, title)}\n                  className={FOCUS_TEMPLATE_CLASS}\n                  tabIndex={tabIndex}\n                >\n                  {TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS[status]}\n                </SeeDetailsButton>\n\n                {onCreateStory && (\n                  <Button\n                    size={BUTTON_SIZES.SMALL}\n                    type={BUTTON_TYPES.PRIMARY}\n                    onClick={onCreateStory}\n                    tabIndex={tabIndex}\n                    ariaLabel={sprintf(\n                      /* translators: %s: template title.*/\n                      __('Create new story from %s', 'web-stories'),\n                      title\n                    )}\n                  >\n                    {__('Use template', 'web-stories')}\n                  </Button>\n                )}\n              </TemplateDisplayContent>\n            </Scrim>\n          </CardWrapper>\n        </Container>\n      </CardGridItem>\n    );\n  }\n);\n\nTemplateGridItem.displayName = 'TemplateGridItem';\n\nTemplateGridItem.propTypes = {\n  detailLink: PropTypes.string,\n  onCreateStory: PropTypes.func,\n  onFocus: PropTypes.func.isRequired,\n  onSeeDetailsClick: PropTypes.func,\n  height: PropTypes.number.isRequired,\n  id: PropTypes.number.isRequired,\n  isActive: PropTypes.bool,\n  posterSrc: PropTypes.shape({\n    webp: PropTypes.string.isRequired,\n    png: PropTypes.string.isRequired,\n  }),\n  slug: PropTypes.string.isRequired,\n  status: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\nexport default TemplateGridItem;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useRef,\n  useFocusOut,\n  useMemo,\n  useState,\n} from '@googleforcreators/react';\nimport { __ } from '@googleforcreators/i18n';\nimport { useGridViewKeys } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { CardGrid } from '../../../../components';\nimport {\n  PageSizePropType,\n  TemplatesPropType,\n  TemplateActionsPropType,\n} from '../../../../types';\nimport { useConfig } from '../../../config';\nimport { noop } from '../../../../utils';\nimport TemplateGridItem, { FOCUS_TEMPLATE_CLASS } from './templateGridItem';\n\nfunction TemplateGridView({\n  pageSize,\n  templates: filteredTemplates,\n  templateActions,\n}) {\n  const { isRTL, apiCallbacks } = useConfig();\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const itemRefs = useRef({});\n  const [activeGridItemId, setActiveGridItemId] = useState(null);\n  const { handleDetailsToggle, createStoryFromTemplate } =\n    templateActions || {};\n\n  const canCreateStory = Boolean(apiCallbacks?.createStoryFromTemplate);\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs,\n    isRTL,\n    currentItemId: activeGridItemId,\n    items: filteredTemplates,\n  });\n\n  // when keyboard focus changes and updated activeGridItemId\n  // immediately focus the first interactive element in the grid item\n  // for legibility, it's based on the FOCUS_TEMPLATE_CLASS\n  useEffect(() => {\n    if (activeGridItemId) {\n      itemRefs.current?.[activeGridItemId]\n        ?.querySelector(`.${FOCUS_TEMPLATE_CLASS}`)\n        ?.focus();\n    }\n  }, [activeGridItemId]);\n\n  useFocusOut(containerRef, () => setActiveGridItemId(null), []);\n\n  const memoizedTemplateItems = useMemo(\n    () =>\n      filteredTemplates.map(({ id, slug, status, title, postersByPage }) => {\n        const isActive = activeGridItemId === id;\n        const posterSrc = postersByPage?.[0];\n        return (\n          <TemplateGridItem\n            onCreateStory={\n              canCreateStory ? () => createStoryFromTemplate(id) : noop\n            }\n            onFocus={() => {\n              setActiveGridItemId(id);\n            }}\n            onSeeDetailsClick={handleDetailsToggle}\n            height={pageSize.height}\n            id={id}\n            isActive={isActive}\n            key={slug}\n            posterSrc={posterSrc}\n            ref={(el) => {\n              itemRefs.current[id] = el;\n            }}\n            slug={slug}\n            status={status}\n            title={title}\n          />\n        );\n      }),\n    [\n      filteredTemplates,\n      activeGridItemId,\n      canCreateStory,\n      handleDetailsToggle,\n      pageSize.height,\n      createStoryFromTemplate,\n    ]\n  );\n\n  return (\n    <div ref={containerRef}>\n      <CardGrid\n        pageSize={pageSize}\n        role=\"list\"\n        ref={gridRef}\n        ariaLabel={__('Viewing available templates', 'web-stories')}\n      >\n        {memoizedTemplateItems}\n      </CardGrid>\n    </div>\n  );\n}\n\nTemplateGridView.propTypes = {\n  pageSize: PageSizePropType,\n  templates: TemplatesPropType,\n  templateActions: TemplateActionsPropType,\n};\nexport default TemplateGridView;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n\n/**\n * External dependencies\n */\nimport { useDebouncedCallback, useCallback } from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { useFeature } from 'flagged';\n\n/**\n * Internal dependencies\n */\nimport {\n  DASHBOARD_VIEWS,\n  TEMPLATES_GALLERY_SORT_MENU_ITEMS,\n  TEXT_INPUT_DEBOUNCE,\n} from '../../../../constants';\nimport {\n  FilterPropTypes,\n  SortPropTypes,\n  ViewPropTypes,\n  SearchPropTypes,\n} from '../../../../utils/useTemplateView';\nimport { useDashboardResultsLabel } from '../../../../utils';\nimport { PageHeading, BodyViewOptions } from '../../shared';\n\nfunction Header({\n  filter,\n  isLoading,\n  totalTemplates,\n  sort,\n  view,\n  search,\n  searchOptions = [],\n}) {\n  const enableInProgressTemplateActions = useFeature(\n    'enableInProgressTemplateActions'\n  );\n\n  const { setKeyword } = search;\n  const debouncedSearchChange = useDebouncedCallback((value) => {\n    setKeyword(value);\n  }, TEXT_INPUT_DEBOUNCE);\n\n  const clearSearch = useCallback(() => setKeyword(''), [setKeyword]);\n\n  const resultsLabel = useDashboardResultsLabel({\n    totalResults: totalTemplates,\n    currentFilter: filter.value,\n    view: DASHBOARD_VIEWS.TEMPLATES_GALLERY,\n  });\n\n  return (\n    <>\n      <PageHeading\n        heading={__('Explore Templates', 'web-stories')}\n        searchPlaceholder={__('Search Templates', 'web-stories')}\n        showSearch\n        searchOptions={searchOptions}\n        searchValue={search.keyword}\n        handleSearchChange={debouncedSearchChange}\n        onClear={clearSearch}\n      />\n      <BodyViewOptions\n        resultsLabel={resultsLabel}\n        layoutStyle={view.style}\n        handleLayoutSelect={view.toggleStyle}\n        currentSort={sort.value}\n        isLoading={isLoading}\n        pageSortOptions={TEMPLATES_GALLERY_SORT_MENU_ITEMS}\n        showSortDropdown={enableInProgressTemplateActions}\n        handleSortChange={enableInProgressTemplateActions ? sort.set : () => {}}\n        sortDropdownAriaLabel={__(\n          'Choose sort option for display',\n          'web-stories'\n        )}\n      />\n    </>\n  );\n}\n\nHeader.propTypes = {\n  filter: FilterPropTypes.isRequired,\n  isLoading: PropTypes.bool,\n  sort: SortPropTypes.isRequired,\n  totalTemplates: PropTypes.number,\n  view: ViewPropTypes.isRequired,\n  search: SearchPropTypes.isRequired,\n  searchOptions: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default Header;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { sprintf, __ } from '@googleforcreators/i18n';\nimport {\n  useMemo,\n  useEffect,\n  useCallback,\n  useState,\n  useRef,\n} from '@googleforcreators/react';\nimport { trackEvent, trackScreenView } from '@googleforcreators/tracking';\nimport {\n  uniqueEntriesByKey,\n  useLiveRegion,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { Layout, ScrollToTop } from '../../../components';\nimport { useTemplateView } from '../../../utils';\n\nimport useApi from '../../api/useApi';\nimport useRouteHistory from '../../router/useRouteHistory';\nimport { getTemplateFilters, composeTemplateFilter } from '../utils';\nimport Content from './content';\nimport Header from './header';\nimport TemplateDetailsModal from './modal';\n\nfunction ExploreTemplates() {\n  const speak = useLiveRegion();\n  const [isDetailsViewOpen, setIsDetailsViewOpen] = useState(false);\n  const [activeTemplate, setActiveTemplate] = useState(null);\n  const [activeTemplateIndex, setActiveTemplateIndex] = useState(0);\n\n  const { templateIdParam, replace } = useRouteHistory(\n    ({ actions, state }) => ({\n      templateIdParam: state.queryParams.id,\n      replace: actions.replace,\n    })\n  );\n\n  const idRef = useRef(templateIdParam);\n\n  const {\n    allPagesFetched,\n    isLoading,\n    templates,\n    templatesOrderById,\n    totalPages,\n    totalTemplates,\n    createStoryFromTemplate,\n    fetchExternalTemplates,\n  } = useApi(\n    ({\n      state: {\n        templates: {\n          allPagesFetched,\n          isLoading,\n          templates,\n          templatesOrderById,\n          totalPages,\n          totalTemplates,\n        },\n      },\n      actions: {\n        storyApi: { createStoryFromTemplate },\n        templateApi: { fetchExternalTemplates },\n      },\n    }) => ({\n      allPagesFetched,\n      isLoading,\n      templates,\n      templatesOrderById,\n      totalPages,\n      totalTemplates,\n      createStoryFromTemplate,\n      fetchExternalTemplates,\n    })\n  );\n\n  const { filter, page, search, sort, view } = useTemplateView({\n    totalPages,\n  });\n\n  // extract templateFilters from template meta data\n  const templateFilters = useMemo(\n    () => getTemplateFilters(templates),\n    [templates]\n  );\n\n  // refine templateFilters by search term\n  const selectFilters = useMemo(\n    () =>\n      search.keyword\n        ? templateFilters.filter((opt) =>\n            opt.label.toLowerCase().includes(search.keyword.toLowerCase())\n          )\n        : templateFilters,\n    [templateFilters, search.keyword]\n  );\n\n  // filter templates by the refined templateFilters\n  const orderedTemplates = useMemo(() => {\n    return templatesOrderById\n      .map((templateId) => templates[templateId])\n      .filter(composeTemplateFilter(selectFilters));\n  }, [templatesOrderById, templates, selectFilters]);\n\n  const totalVisibleTemplates = useMemo(\n    () =>\n      totalTemplates !== orderedTemplates.length\n        ? orderedTemplates.length\n        : totalTemplates,\n    [orderedTemplates, totalTemplates]\n  );\n\n  // Although we may want to filter templates based on\n  // repeat meta data of differing types, we only want\n  // the auto-complete to show unique labels\n  const searchOptions = useMemo(\n    () => uniqueEntriesByKey(selectFilters, 'label'),\n    [selectFilters]\n  );\n\n  const handleCreateStoryFromTemplate = useCallback(\n    (templateId) => {\n      const template = templates[templateId];\n      trackEvent('use_template', {\n        name: template.title,\n        template_id: template.id,\n      });\n\n      createStoryFromTemplate(template);\n    },\n    [createStoryFromTemplate, templates]\n  );\n\n  const updateTemplateView = useCallback(\n    (id) => {\n      const currentTemplate = orderedTemplates.find(\n        (templateItem) => templateItem.id === id\n      );\n      setActiveTemplate(currentTemplate);\n      setActiveTemplateIndex(\n        orderedTemplates.findIndex((template) => template.id === id)\n      );\n      if (idRef.current) {\n        idRef.current = undefined;\n      }\n\n      replace(`?id=${currentTemplate.id}&isLocal=${currentTemplate.isLocal}`);\n    },\n    [replace, orderedTemplates]\n  );\n\n  const handleDetailsToggle = useCallback(\n    (id, title) => {\n      setIsDetailsViewOpen((prevIsOpen) => {\n        const newIsOpen = !prevIsOpen;\n        title && trackScreenView(title);\n\n        if (newIsOpen && id) {\n          updateTemplateView(id);\n        }\n\n        if (!newIsOpen) {\n          replace('');\n          speak(__('Exit detail templates view', 'web-stories'));\n        }\n\n        return newIsOpen;\n      });\n    },\n    [replace, speak, updateTemplateView]\n  );\n\n  const switchToTemplateByOffset = useCallback(\n    (offset) => {\n      const newTemplate = orderedTemplates[offset];\n      setActiveTemplate(newTemplate);\n      setActiveTemplateIndex(offset);\n      replace(`?id=${newTemplate.id}&isLocal=${newTemplate.isLocal}`);\n      speak(\n        sprintf(\n          /* translators: %s: template title */\n          __('Viewing %s', 'web-stories'),\n          newTemplate.title\n        )\n      );\n    },\n    [orderedTemplates, replace, speak]\n  );\n\n  const templateActions = useMemo(\n    () => ({\n      createStoryFromTemplate: handleCreateStoryFromTemplate,\n      handleDetailsToggle,\n      switchToTemplateByOffset,\n    }),\n    [\n      handleCreateStoryFromTemplate,\n      handleDetailsToggle,\n      switchToTemplateByOffset,\n    ]\n  );\n\n  useEffect(() => {\n    fetchExternalTemplates();\n  }, [fetchExternalTemplates]);\n\n  useEffect(() => {\n    if (idRef.current && orderedTemplates.length) {\n      const isValidId = orderedTemplates.some(\n        (template) => template.id === parseInt(idRef.current)\n      );\n      if (!isValidId) {\n        replace('');\n        return;\n      }\n\n      setIsDetailsViewOpen(true);\n      updateTemplateView(parseInt(idRef.current));\n    }\n  }, [orderedTemplates, replace, updateTemplateView]);\n\n  return (\n    <Layout.Provider>\n      <Header\n        isLoading={isLoading && !totalTemplates}\n        filter={filter}\n        sort={sort}\n        totalTemplates={totalVisibleTemplates}\n        search={search}\n        searchOptions={searchOptions}\n        view={view}\n      />\n      <Content\n        isLoading={isLoading}\n        allPagesFetched={allPagesFetched}\n        page={page}\n        templates={orderedTemplates}\n        totalTemplates={totalVisibleTemplates}\n        search={search}\n        view={view}\n        templateActions={templateActions}\n      />\n      <Layout.Fixed>\n        <ScrollToTop />\n      </Layout.Fixed>\n      <TemplateDetailsModal\n        activeTemplate={activeTemplate}\n        activeTemplateIndex={activeTemplateIndex}\n        isDetailsViewOpen={isDetailsViewOpen}\n        templateActions={templateActions}\n        filteredTemplatesLength={orderedTemplates.length}\n      />\n    </Layout.Provider>\n  );\n}\n\nexport default ExploreTemplates;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { Modal, theme } from '@googleforcreators/design-system';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../../../config';\nimport { TemplatePropType, TemplateActionsPropType } from '../../../../types';\nimport Header from './templateDetails/header';\nimport DetailsContent from './templateDetails/content';\n\nfunction TemplateDetailsModal({\n  activeTemplateIndex,\n  activeTemplate,\n  filteredTemplatesLength,\n  isDetailsViewOpen,\n  templateActions,\n}) {\n  const { isRTL, apiCallbacks } = useConfig();\n  const canCreateStory = Boolean(apiCallbacks?.createStoryFromTemplate);\n\n  const { handleDetailsToggle, switchToTemplateByOffset } =\n    templateActions || {};\n\n  return (\n    <Modal\n      isOpen={isDetailsViewOpen}\n      onClose={handleDetailsToggle}\n      contentLabel={sprintf(\n        /* translators: %s: template title */\n        __('Template Details for %s', 'web-stories'),\n        activeTemplate?.title\n      )}\n      overlayStyles={{\n        backgroundColor: `${theme.colors.opacity.overlayDark}`,\n      }}\n      contentStyles={{\n        display: 'block',\n        height: '90vh',\n        width: '90vw',\n        backgroundColor: `${theme.colors.standard.white}`,\n      }}\n    >\n      <Header\n        templateTitle={activeTemplate?.title}\n        templateId={activeTemplate?.id}\n        templateActions={templateActions}\n        canCreateStory={canCreateStory}\n      />\n      <DetailsContent\n        activeTemplateIndex={activeTemplateIndex}\n        isRTL={isRTL}\n        filteredTemplatesLength={filteredTemplatesLength}\n        switchToTemplateByOffset={switchToTemplateByOffset}\n        template={activeTemplate}\n      />\n    </Modal>\n  );\n}\nTemplateDetailsModal.propTypes = {\n  activeTemplateIndex: PropTypes.number,\n  activeTemplate: TemplatePropType,\n  filteredTemplatesLength: PropTypes.number,\n  isDetailsViewOpen: PropTypes.bool,\n  templateActions: TemplateActionsPropType,\n};\nexport default TemplateDetailsModal;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { __ } from '@googleforcreators/i18n';\n\nexport const Panel = styled.section`\n  padding: 16vh 0 14vh 0;\n`;\n\nexport const Container = styled.div`\n  position: relative;\n  width: 76%;\n  max-width: ${0.76 * 1920}px;\n  margin: 0 auto;\n`;\n\nexport const Inner = styled.div`\n  display: flex;\n  align-items: start;\n`;\n\nexport const DetailContainer = styled.section.attrs({\n  'aria-label': __('Template Details', 'web-stories'),\n})`\n  padding: 0 0 0 60px;\n  margin-right: auto;\n`;\n\nexport const TemplateDetails = styled.div`\n  position: relative;\n  display: flex;\n  width: 500px;\n`;\n\nexport const RowContainer = styled.section.attrs({\n  'aria-label': __('Related Templates', 'web-stories'),\n})`\n  display: flex;\n  flex-wrap: wrap;\n  padding-bottom: 40px;\n  margin: 0 80px 0;\n  & > h3 {\n    padding-bottom: 32px;\n  }\n  & > div {\n    width: 100%;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useEffect, useMemo, useState } from '@googleforcreators/react';\nimport { sprintf, __ } from '@googleforcreators/i18n';\nimport styled from 'styled-components';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  BUTTON_VARIANTS,\n  Chip,\n  Display,\n  Icons,\n  Text,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { CardGallery, ColorList } from '../../../../../../components';\nimport { TemplatePropType } from '../../../../../../types';\nimport {\n  Container,\n  Panel,\n  DetailContainer,\n  TemplateDetails,\n  Inner,\n} from '../components';\n\nconst StyledPanel = styled(Panel)`\n  padding: 0 0 48px 0;\n`;\n\nconst ByLineText = styled(Text)`\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n  margin: 8px 0 24px;\n`;\n\nconst DescriptionText = styled(Text)`\n  margin-bottom: 24px;\n`;\n\nconst PaginationContainer = styled.div`\n  position: absolute;\n  top: ${470 / 2}px;\n  ${({ alignLeft }) =>\n    alignLeft\n      ? `\n          left: 0;\n          transform: translate(-187.5%, -50%);\n        `\n      : `\n          right: 0;\n          transform: translate(187.5%, -50%);\n        `}\n`;\n\nconst TemplateTag = styled(Chip).attrs({ forwardedAs: 'li' })`\n  margin-right: 12px;\n  margin-bottom: 12px;\n  > span {\n    color: ${({ theme }) => theme.colors.fg.primary} !important;\n  }\n`;\n\nconst MetadataContainer = styled.div`\n  margin-bottom: 24px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n`;\n\nfunction DetailsContent({\n  activeTemplateIndex,\n  isRTL,\n  filteredTemplatesLength,\n  switchToTemplateByOffset,\n  template,\n}) {\n  const { postersByPage, title, description, tags, colors } = template || {};\n  const [galleryPosters, setGalleryPosters] = useState([]);\n\n  useEffect(() => {\n    if (postersByPage) {\n      setGalleryPosters(\n        Object.values(postersByPage).map((poster, index) => ({\n          id: index,\n          ...poster,\n        }))\n      );\n    }\n    return undefined;\n  }, [postersByPage]);\n\n  const { NextButton, PrevButton } = useMemo(() => {\n    const nextIndex = isRTL ? activeTemplateIndex - 1 : activeTemplateIndex + 1;\n    const previousIndex = isRTL\n      ? activeTemplateIndex + 1\n      : activeTemplateIndex - 1;\n\n    const disablePrevious = isRTL\n      ? !filteredTemplatesLength ||\n        activeTemplateIndex === filteredTemplatesLength - 1\n      : !filteredTemplatesLength || activeTemplateIndex === 0;\n\n    const disableNext = isRTL\n      ? !filteredTemplatesLength || activeTemplateIndex === 0\n      : !filteredTemplatesLength ||\n        activeTemplateIndex === filteredTemplatesLength - 1;\n\n    const Previous = (\n      <Button\n        type={BUTTON_TYPES.TERTIARY}\n        size={BUTTON_SIZES.SMALL}\n        variant={BUTTON_VARIANTS.SQUARE}\n        aria-label={__('View previous template', 'web-stories')}\n        onClick={() => {\n          switchToTemplateByOffset(previousIndex);\n          setGalleryPosters([]);\n        }}\n        disabled={disablePrevious}\n      >\n        <Icons.ArrowLeftLarge height={32} width={32} />\n      </Button>\n    );\n\n    const Next = (\n      <Button\n        type={BUTTON_TYPES.TERTIARY}\n        size={BUTTON_SIZES.SMALL}\n        variant={BUTTON_VARIANTS.SQUARE}\n        aria-label={__('View next template', 'web-stories')}\n        onClick={() => {\n          switchToTemplateByOffset(nextIndex);\n          setGalleryPosters([]);\n        }}\n        disabled={disableNext}\n      >\n        <Icons.ArrowRightLarge height={32} width={32} />\n      </Button>\n    );\n\n    return isRTL\n      ? {\n          NextButton: Previous,\n          PrevButton: Next,\n        }\n      : {\n          NextButton: Next,\n          PrevButton: Previous,\n        };\n  }, [\n    filteredTemplatesLength,\n    activeTemplateIndex,\n    isRTL,\n    switchToTemplateByOffset,\n  ]);\n\n  const byLine = template\n    ? sprintf(\n        /* translators: byline. %s: author name. */\n        __('By %s', 'web-stories'),\n        template.createdBy\n      )\n    : null;\n\n  return (\n    <StyledPanel>\n      <Container>\n        <PaginationContainer alignLeft>{PrevButton}</PaginationContainer>\n        <Inner>\n          <CardGallery\n            galleryPosters={galleryPosters}\n            isRTL={isRTL}\n            galleryLabel={__('Template details by page', 'web-stories')}\n          />\n          <TemplateDetails>\n            <DetailContainer>\n              <Display\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                as=\"h3\"\n                data-testid=\"template-details-title\"\n              >\n                {title}\n              </Display>\n              <ByLineText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM}>\n                {byLine}\n              </ByLineText>\n              <DescriptionText\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM}\n              >\n                {description}\n              </DescriptionText>\n\n              <MetadataContainer\n                role=\"list\"\n                aria-label={__('Template tags', 'web-stories')}\n              >\n                {tags.map((tag) => (\n                  <TemplateTag key={tag} disabled>\n                    {tag}\n                  </TemplateTag>\n                ))}\n              </MetadataContainer>\n              <MetadataContainer>\n                <ColorList\n                  colors={colors}\n                  size={32}\n                  aria-label={__('Template colors', 'web-stories')}\n                />\n              </MetadataContainer>\n            </DetailContainer>\n          </TemplateDetails>\n        </Inner>\n        <PaginationContainer>{NextButton}</PaginationContainer>\n      </Container>\n    </StyledPanel>\n  );\n}\n\nDetailsContent.propTypes = {\n  activeTemplateIndex: PropTypes.number,\n  isRTL: PropTypes.bool,\n  filteredTemplatesLength: PropTypes.number,\n  switchToTemplateByOffset: PropTypes.func,\n  template: TemplatePropType,\n};\n\nexport default DetailsContent;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport styled from 'styled-components';\nimport {\n  Button,\n  BUTTON_TYPES,\n  BUTTON_SIZES,\n  BUTTON_VARIANTS,\n  Icons,\n} from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport { TemplateActionsPropType } from '../../../../../../types';\n\nconst Nav = styled.nav`\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n  margin: 48px auto;\n  /* line the close and cta buttons up with navigation arrow*/\n  width: calc(76% + 121px);\n`;\n\nconst CTAButton = styled(Button).attrs({\n  type: BUTTON_TYPES.PRIMARY,\n  size: BUTTON_SIZES.SMALL,\n})`\n  /* Use Template button should be same height as Close button.*/\n  padding: 10px 16px;\n`;\nfunction Header({\n  templateTitle,\n  templateId,\n  templateActions,\n  canCreateStory,\n}) {\n  const { createStoryFromTemplate, handleDetailsToggle } =\n    templateActions || {};\n  return (\n    <Nav>\n      <Button\n        type={BUTTON_TYPES.TERTIARY}\n        variant={BUTTON_VARIANTS.SQUARE}\n        size={BUTTON_SIZES.SMALL}\n        aria-label={__('Close', 'web-stories')}\n        onClick={handleDetailsToggle}\n      >\n        <Icons.CrossLarge />\n      </Button>\n      {canCreateStory && (\n        <CTAButton\n          onClick={() => createStoryFromTemplate(templateId)}\n          aria-label={sprintf(\n            /* translators: %s: template title */\n            __('Use %s template to create new story', 'web-stories'),\n            templateTitle\n          )}\n        >\n          {__('Use template', 'web-stories')}\n        </CTAButton>\n      )}\n    </Nav>\n  );\n}\n\nHeader.propTypes = {\n  canCreateStory: PropTypes.bool,\n  templateActions: TemplateActionsPropType,\n  templateId: PropTypes.number,\n  templateTitle: PropTypes.string,\n};\n\nexport default Header;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as MyStoriesView } from './myStories';\nexport { default as ExploreTemplatesView } from './exploreTemplates';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  Headline,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { resolveRoute } from '../../../router';\nimport { APP_ROUTES } from '../../../../constants';\nimport {\n  InfiniteScroller,\n  Layout,\n  StandardViewContentGutter,\n} from '../../../../components';\nimport { StoriesPropType, StoryActionsPropType } from '../../../../types';\nimport {\n  FilterPropTypes,\n  ViewPropTypes,\n  PagePropTypes,\n  SortPropTypes,\n  ShowStoriesWhileLoadingPropType,\n} from '../../../../utils/useStoryView';\nimport { EmptyContentMessage } from '../../shared';\nimport StoriesView from './storiesView';\n\nfunction Content({\n  allPagesFetched,\n  canViewDefaultTemplates,\n  filter,\n  loading,\n  page,\n  search,\n  sort,\n  stories,\n  storyActions,\n  view,\n}) {\n  return (\n    <Layout.Scrollable>\n      <StandardViewContentGutter>\n        {stories.length > 0 ? (\n          <>\n            <StoriesView\n              filterValue={filter.value}\n              sort={sort}\n              storyActions={storyActions}\n              stories={stories}\n              view={view}\n              loading={loading}\n            />\n            <InfiniteScroller\n              canLoadMore={!allPagesFetched}\n              isLoading={loading?.isLoading}\n              allDataLoadedMessage={__('No more stories', 'web-stories')}\n              onLoadMore={page.requestNextPage}\n            />\n          </>\n        ) : (\n          <EmptyContentMessage>\n            <Headline\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              as=\"h3\"\n            >\n              {search?.keyword\n                ? sprintf(\n                    /* translators: %s: search term. */\n                    __(\n                      'Sorry, we couldn\\'t find any results matching \"%s\"',\n                      'web-stories'\n                    ),\n                    search.keyword\n                  )\n                : __('Start telling Stories.', 'web-stories')}\n            </Headline>\n            {!search?.keyword && canViewDefaultTemplates && (\n              <Button\n                type={BUTTON_TYPES.PRIMARY}\n                size={BUTTON_SIZES.MEDIUM}\n                as=\"a\"\n                href={resolveRoute(APP_ROUTES.TEMPLATES_GALLERY)}\n              >\n                {__('Explore Templates', 'web-stories')}\n              </Button>\n            )}\n          </EmptyContentMessage>\n        )}\n      </StandardViewContentGutter>\n    </Layout.Scrollable>\n  );\n}\nContent.propTypes = {\n  allPagesFetched: PropTypes.bool,\n  canViewDefaultTemplates: PropTypes.bool,\n  filter: FilterPropTypes,\n  loading: PropTypes.shape({\n    isLoading: PropTypes.bool,\n    showStoriesWhileLoading: ShowStoriesWhileLoadingPropType,\n  }),\n  page: PagePropTypes,\n  search: PropTypes.object,\n  sort: SortPropTypes,\n  stories: StoriesPropType,\n  storyActions: StoryActionsPropType,\n  view: ViewPropTypes,\n};\n\nexport default Content;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport { Text, themeHelpers } from '@googleforcreators/design-system';\n\nconst { focusableOutlineCSS } = themeHelpers;\n\nexport const ListView = styled.div`\n  width: 100%;\n`;\n\nexport const ArrowIcon = styled.div`\n  width: 32px;\n  height: 100%;\n  display: inline-grid;\n  color: ${({ theme }) => theme.colors.fg.primary};\n  vertical-align: middle;\n\n  svg {\n    visibility: ${({ active }) => (active ? 'visible' : 'hidden')};\n    transition: transform 0.15s;\n\n    ${({ asc }) =>\n      asc &&\n      css`\n        transform: rotate(180deg);\n      `};\n  }\n`;\n\nexport const EmptyIconSpace = styled.div`\n  height: 32px;\n  width: 32px;\n`;\n\nexport const ArrowIconWithTitle = styled(ArrowIcon)`\n  display: ${({ active }) => !active && 'none'};\n  position: absolute;\n  top: 16px;\n\n  @media ${({ theme }) => theme.breakpoint.mobile} {\n    margin-left: 4px;\n  }\n`;\n\nexport const SelectableTitle = styled(Text).attrs({\n  tabIndex: 0,\n  isBold: true,\n})`\n  color: ${({ theme }) => theme.colors.blue[70]};\n  cursor: pointer;\n\n  ${({ theme }) =>\n    focusableOutlineCSS(theme.colors.border.focus, theme.colors.bg.secondary)};\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useCallback, useMemo } from '@googleforcreators/react';\nimport { __ } from '@googleforcreators/i18n';\nimport { Icons, Text, THEME_CONSTANTS } from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport {\n  StoriesPropType,\n  RenameStoryPropType,\n  StoryMenuPropType,\n} from '../../../../../types';\nimport {\n  Table,\n  TableAuthorHeaderCell,\n  TableBody,\n  TableDateHeaderCell,\n  StickyTableHeader,\n  TablePreviewHeaderCell,\n  TableRow,\n  TableStatusHeaderCell,\n  TableTitleHeaderCell,\n} from '../../../../../components';\nimport {\n  ORDER_BY_SORT,\n  SORT_DIRECTION,\n  STORY_SORT_OPTIONS,\n  STORY_STATUS,\n} from '../../../../../constants';\nimport { useConfig } from '../../../../config';\nimport { StoryListItem } from '../storyListItem';\nimport {\n  ArrowIcon,\n  ArrowIconWithTitle,\n  EmptyIconSpace,\n  ListView,\n  SelectableTitle,\n} from './components';\n\nconst toggleSortLookup = {\n  [SORT_DIRECTION.DESC]: SORT_DIRECTION.ASC,\n  [SORT_DIRECTION.ASC]: SORT_DIRECTION.DESC,\n};\n\nexport default function StoryListView({\n  handleSortChange,\n  handleSortDirectionChange,\n  hideStoryList,\n  renameStory,\n  sortDirection,\n  stories,\n  storyMenu,\n  storySort,\n  storyStatus,\n}) {\n  const {\n    userId,\n    styleConstants: { topOffset },\n  } = useConfig();\n\n  const onSortTitleSelected = useCallback(\n    (newStorySort) => {\n      if (newStorySort !== storySort) {\n        handleSortChange(newStorySort);\n        handleSortDirectionChange(ORDER_BY_SORT[newStorySort]);\n      } else {\n        handleSortDirectionChange(toggleSortLookup[sortDirection]);\n      }\n    },\n    [handleSortDirectionChange, handleSortChange, storySort, sortDirection]\n  );\n\n  const onKeyDownSort = useCallback(\n    ({ key }, sortBy) => {\n      if (key === 'Enter') {\n        onSortTitleSelected(sortBy);\n      }\n    },\n    [onSortTitleSelected]\n  );\n\n  const tableContents = useMemo(() => {\n    return (\n      !hideStoryList &&\n      stories.map((story) => (\n        <StoryListItem\n          key={`story-${story.id}`}\n          story={story}\n          userId={userId}\n          renameStory={renameStory}\n          storyStatus={storyStatus}\n          storyMenu={storyMenu}\n        />\n      ))\n    );\n  }, [hideStoryList, renameStory, stories, storyStatus, storyMenu, userId]);\n\n  return (\n    <ListView data-testid=\"story-list-view\">\n      <Table aria-label={__('List view of created stories', 'web-stories')}>\n        <StickyTableHeader topOffset={topOffset}>\n          <TableRow>\n            <TablePreviewHeaderCell\n              onClick={() => onSortTitleSelected(STORY_SORT_OPTIONS.NAME)}\n              onKeyDown={(e) => onKeyDownSort(e, STORY_SORT_OPTIONS.NAME)}\n            >\n              <SelectableTitle\n                aria-label={__(\n                  'Title, select to sort table by story title',\n                  'web-stories'\n                )}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Title', 'web-stories')}\n              </SelectableTitle>\n            </TablePreviewHeaderCell>\n            <TableTitleHeaderCell\n              onClick={() => onSortTitleSelected(STORY_SORT_OPTIONS.NAME)}\n              onKeyDown={(e) => onKeyDownSort(e, STORY_SORT_OPTIONS.NAME)}\n            >\n              <SelectableTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.NAME}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Title', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIcon\n                active={storySort === STORY_SORT_OPTIONS.NAME}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                {<Icons.ArrowDown />}\n              </ArrowIcon>\n            </TableTitleHeaderCell>\n            <TableAuthorHeaderCell>\n              <SelectableTitle\n                aria-label={__(\n                  'Author, select to sort table by story author',\n                  'web-stories'\n                )}\n                onClick={() =>\n                  onSortTitleSelected(STORY_SORT_OPTIONS.CREATED_BY)\n                }\n                onKeyDown={(e) =>\n                  onKeyDownSort(e, STORY_SORT_OPTIONS.CREATED_BY)\n                }\n                active={storySort === STORY_SORT_OPTIONS.CREATED_BY}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Author', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIconWithTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.CREATED_BY}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                {storySort === STORY_SORT_OPTIONS.CREATED_BY ? (\n                  <Icons.ArrowDown />\n                ) : (\n                  <EmptyIconSpace />\n                )}\n              </ArrowIconWithTitle>\n            </TableAuthorHeaderCell>\n            <TableDateHeaderCell>\n              <SelectableTitle\n                aria-label={__(\n                  'Creation date, select to sort table by date story was created',\n                  'web-stories'\n                )}\n                onClick={() =>\n                  onSortTitleSelected(STORY_SORT_OPTIONS.DATE_CREATED)\n                }\n                onKeyDown={(e) =>\n                  onKeyDownSort(e, STORY_SORT_OPTIONS.DATE_CREATED)\n                }\n                active={storySort === STORY_SORT_OPTIONS.DATE_CREATED}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Date Created', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIconWithTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.DATE_CREATED}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                <Icons.ArrowDown />\n              </ArrowIconWithTitle>\n            </TableDateHeaderCell>\n            <TableDateHeaderCell>\n              <SelectableTitle\n                aria-label={__(\n                  'Modification date, select to sort table by date story was last modified',\n                  'web-stories'\n                )}\n                onClick={() =>\n                  onSortTitleSelected(STORY_SORT_OPTIONS.LAST_MODIFIED)\n                }\n                onKeyDown={(e) =>\n                  onKeyDownSort(e, STORY_SORT_OPTIONS.LAST_MODIFIED)\n                }\n                active={storySort === STORY_SORT_OPTIONS.LAST_MODIFIED}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Last Modified', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIconWithTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.LAST_MODIFIED}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                <Icons.ArrowDown />\n              </ArrowIconWithTitle>\n            </TableDateHeaderCell>\n            {storyStatus !== STORY_STATUS.DRAFT && (\n              <TableStatusHeaderCell>\n                <Text\n                  as=\"span\"\n                  isBold\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                >\n                  {__('Publish State', 'web-stories')}\n                </Text>\n              </TableStatusHeaderCell>\n            )}\n          </TableRow>\n        </StickyTableHeader>\n        <TableBody>{tableContents}</TableBody>\n      </Table>\n    </ListView>\n  );\n}\n\nStoryListView.propTypes = {\n  handleSortChange: PropTypes.func.isRequired,\n  handleSortDirectionChange: PropTypes.func.isRequired,\n  hideStoryList: PropTypes.bool,\n  renameStory: RenameStoryPropType,\n  sortDirection: PropTypes.string.isRequired,\n  storyMenu: StoryMenuPropType.isRequired,\n  storySort: PropTypes.string.isRequired,\n  storyStatus: PropTypes.oneOf(Object.values(STORY_STATUS)),\n  stories: StoriesPropType,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  useState,\n  useCallback,\n  useMemo,\n  useEffect,\n} from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { trackEvent } from '@googleforcreators/tracking';\nimport {\n  LoadingSpinner,\n  useSnackbar,\n  Text,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { StoriesPropType, StoryActionsPropType } from '../../../../../types';\nimport { titleFormatted } from '../../../../../utils';\nimport {\n  SortPropTypes,\n  ViewPropTypes,\n  ShowStoriesWhileLoadingPropType,\n} from '../../../../../utils/useStoryView';\nimport { Dialog, LoadingContainer } from '../../../../../components';\nimport {\n  VIEW_STYLE,\n  STORY_CONTEXT_MENU_ACTIONS,\n  STORY_CONTEXT_MENU_ITEMS,\n} from '../../../../../constants';\nimport ListView from '../listView';\nimport StoryGridView from '../storyGridView';\n\nconst ACTIVE_DIALOG_DELETE_STORY = 'DELETE_STORY';\nfunction StoriesView({\n  filterValue,\n  loading,\n  sort,\n  storyActions,\n  stories,\n  view,\n}) {\n  const [contextMenuId, setContextMenuId] = useState(-1);\n  const [titleRenameId, setTitleRenameId] = useState(-1);\n\n  const [activeDialog, setActiveDialog] = useState('');\n  const [activeStory, setActiveStory] = useState(null);\n  const [focusedStory, setFocusedStory] = useState({});\n  const [returnStoryFocusId, setReturnStoryFocusId] = useState(null);\n\n  const { showSnackbar } = useSnackbar();\n\n  const isActiveDeleteStoryDialog =\n    activeDialog === ACTIVE_DIALOG_DELETE_STORY && activeStory;\n\n  const storiesById = useMemo(() => stories.map(({ id }) => id), [stories]);\n\n  useEffect(() => {\n    // if a dialog is opened and the keyboard used we need to return the focus of the proper grid item to ease keyboard usage\n    // focusedStory is set when activeDialog is removed\n    // then we use storiesById to find the proper index of the interacted with item and use that to decide where to move focus\n    if (focusedStory.id && !returnStoryFocusId) {\n      const storyArrayIndex = storiesById.indexOf(focusedStory.id);\n      const isDeletedAdjustmentDirection = storyArrayIndex > 0 ? -1 : +1;\n      const adjustedIndex = focusedStory.isDeleted\n        ? isDeletedAdjustmentDirection\n        : 0;\n      const focusIndex = storyArrayIndex + adjustedIndex;\n      const storyIdToFocus = storiesById[focusIndex];\n      storyIdToFocus && setReturnStoryFocusId(storyIdToFocus);\n    }\n  }, [focusedStory, returnStoryFocusId, storiesById]);\n\n  useEffect(() => {\n    if (!activeDialog) {\n      setActiveStory(null);\n    }\n  }, [activeDialog, setActiveStory]);\n\n  useEffect(() => {\n    // every time the activeDialog is truthy we want to reset our state that helps determine where to send focus back to when the dialog is closed\n    if (activeDialog) {\n      setFocusedStory({});\n      setReturnStoryFocusId(null);\n    }\n  }, [activeDialog]);\n\n  const handleOnRenameStory = useCallback(\n    (story, newTitle) => {\n      setTitleRenameId(-1);\n      trackEvent('rename_story');\n      storyActions.updateStory({ ...story, title: { raw: newTitle } });\n    },\n    [storyActions]\n  );\n\n  const handleOnDeleteStory = useCallback(() => {\n    trackEvent('delete_story');\n    storyActions.trashStory(activeStory);\n    setFocusedStory({ id: activeStory.id, isDeleted: true });\n    setActiveDialog('');\n  }, [storyActions, activeStory]);\n\n  // menu item actions\n  const handleOpenStoryInEditor = useCallback(() => {\n    setContextMenuId(-1);\n    trackEvent('open_in_editor');\n  }, []);\n\n  const handleRenameStory = useCallback((story) => {\n    setContextMenuId(-1);\n    setTitleRenameId(story.id);\n  }, []);\n\n  const handleDuplicateStory = useCallback(\n    (story) => {\n      setContextMenuId(-1);\n      trackEvent('duplicate_story');\n      storyActions.duplicateStory(story);\n      setFocusedStory({ id: story.id });\n    },\n    [storyActions]\n  );\n\n  const handleDeleteStory = useCallback((story) => {\n    setContextMenuId(-1);\n    setActiveStory(story);\n    setActiveDialog(ACTIVE_DIALOG_DELETE_STORY);\n  }, []);\n\n  const handleCopyStoryLink = useCallback(\n    (story) => {\n      setContextMenuId(-1);\n      window.navigator.clipboard.writeText(story.link);\n\n      showSnackbar({\n        message: sprintf(\n          /* translators: %s: story title. */\n          __('%s has been copied to your clipboard.', 'web-stories'),\n          titleFormatted(story.title)\n        ),\n        dismissible: true,\n      });\n      setFocusedStory({ id: story.id });\n    },\n    [showSnackbar]\n  );\n\n  const menuItems = STORY_CONTEXT_MENU_ITEMS.map((item) => {\n    switch (item?.value) {\n      case STORY_CONTEXT_MENU_ACTIONS.COPY_STORY_LINK:\n        item.action = handleCopyStoryLink;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.DELETE:\n        item.action = handleDeleteStory;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.DUPLICATE:\n        item.action = handleDuplicateStory;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.OPEN_STORY_LINK:\n        item.action = handleOpenStoryInEditor;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.RENAME:\n        item.action = handleRenameStory;\n        break;\n      default:\n        item.action = () => setContextMenuId(-1);\n        break;\n    }\n    return item;\n  });\n\n  const storyMenu = useMemo(() => {\n    return {\n      handleMenuToggle: setContextMenuId,\n      contextMenuId,\n      menuItems,\n    };\n  }, [contextMenuId, menuItems, setContextMenuId]);\n\n  const renameStory = useMemo(() => {\n    return {\n      id: titleRenameId,\n      handleOnRenameStory,\n      handleCancelRename: () => setTitleRenameId(-1),\n    };\n  }, [handleOnRenameStory, setTitleRenameId, titleRenameId]);\n\n  const ActiveView = useMemo(() => {\n    // Stories should be shown when we trigger a fetch from `InfiniteScroll`.\n    // Stories should be hidden when a filter is changed.\n    if (view.style === VIEW_STYLE.LIST) {\n      // StoryListView needs to show the table header when loading stories\n      // when filtering.\n      return (\n        <ListView\n          handleSortChange={sort.set}\n          handleSortDirectionChange={sort.setDirection}\n          hideStoryList={\n            loading?.isLoading && !loading?.showStoriesWhileLoading.current\n          }\n          pageSize={view.pageSize}\n          renameStory={renameStory}\n          sortDirection={sort.direction}\n          stories={stories}\n          storyMenu={storyMenu}\n          storySort={sort.value}\n          storyStatus={filterValue}\n        />\n      );\n    }\n\n    if (\n      !loading?.isLoading ||\n      (loading?.isLoading && loading?.showStoriesWhileLoading.current)\n    ) {\n      return (\n        <StoryGridView\n          isLoading={loading?.isLoading}\n          pageSize={view.pageSize}\n          renameStory={renameStory}\n          storyMenu={storyMenu}\n          stories={stories}\n          returnStoryFocusId={{\n            value: returnStoryFocusId,\n            set: setReturnStoryFocusId,\n          }}\n        />\n      );\n    }\n\n    // Hide all stories when filter is triggered.\n    return null;\n  }, [\n    loading,\n    filterValue,\n    renameStory,\n    returnStoryFocusId,\n    sort,\n    stories,\n    storyMenu,\n    view,\n  ]);\n\n  return (\n    <>\n      {ActiveView}\n      {loading?.isLoading && !loading?.showStoriesWhileLoading.current && (\n        <LoadingContainer>\n          <LoadingSpinner />\n        </LoadingContainer>\n      )}\n      {isActiveDeleteStoryDialog && (\n        <Dialog\n          isOpen\n          contentLabel={__('Dialog to confirm deleting a story', 'web-stories')}\n          title={__('Delete Story', 'web-stories')}\n          onClose={() => {\n            setFocusedStory({ id: activeStory.id });\n            setActiveDialog('');\n          }}\n          secondaryText={__('Cancel', 'web-stories')}\n          secondaryRest={{\n            ['aria-label']: sprintf(\n              /* translators: %s: story title. */\n              __('Cancel deleting story \"%s\"', 'web-stories'),\n              titleFormatted(activeStory.title)\n            ),\n          }}\n          primaryText={__('Delete', 'web-stories')}\n          onPrimary={handleOnDeleteStory}\n          primaryRest={{\n            ['aria-label']: sprintf(\n              /* translators: %s: story title. */\n              __('Confirm deleting story \"%s\"', 'web-stories'),\n              titleFormatted(activeStory.title)\n            ),\n          }}\n        >\n          <Text size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n            {sprintf(\n              /* translators: %s: story title. */\n              __('Are you sure you want to delete \"%s\"?', 'web-stories'),\n              titleFormatted(activeStory.title)\n            )}\n          </Text>\n        </Dialog>\n      )}\n    </>\n  );\n}\n\nStoriesView.propTypes = {\n  filterValue: PropTypes.string,\n  loading: PropTypes.shape({\n    isLoading: PropTypes.bool,\n    showStoriesWhileLoading: ShowStoriesWhileLoadingPropType,\n  }),\n  sort: SortPropTypes,\n  storyActions: StoryActionsPropType,\n  stories: StoriesPropType,\n  view: ViewPropTypes,\n};\nexport default StoriesView;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  Headline,\n  Icons,\n  THEME_CONSTANTS,\n  Text,\n} from '@googleforcreators/design-system';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { CardGridItem } from '../../../../../components';\n\nexport const CustomCardGridItem = styled(CardGridItem)`\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: ${({ $posterHeight }) => `${$posterHeight}px auto`};\n  @media screen and (max-width: 480px) {\n    padding: 5px;\n  }\n`;\nCustomCardGridItem.propTypes = {\n  $posterHeight: PropTypes.number,\n};\n\n// Allows grid item contents to overlay in a set space\nexport const CardWrapper = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n`;\n\nexport const ScrimAnchor = styled.a`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n\n  &:hover,\n  &:focus {\n    box-shadow: none;\n    border: ${({ theme }) => `4px solid ${theme.colors.interactiveBg.active}`};\n  }\n`;\n// Components that create the content to display on top of a poster\n// Set guidance for how content should display on top of a poster\nexport const StyledStoryDisplayContent = styled.div`\n  padding: 20px 12px 8px 12px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\n// Generic row to vertically center grid item contents\nexport const Row = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  flex-wrap: wrap;\n`;\nexport const LockedRow = styled(Row)`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\n// Interior grid for details to allow context menu space without jostling copy\nexport const CardDetailsGrid = styled.div`\n  display: grid;\n  grid-template-columns: 80% auto;\n  margin-top: 4px;\n`;\nexport const CardDetailsColumn = styled.div`\n  display: flex;\n  align-items: space-between;\n  flex-direction: column;\n  align-self: flex-end;\n`;\n\n// Story Title\n// Overriding stylelint for the sake of line clamping the title to be 3 lines.\n// This is supported by all major browsers except IE 11.\n// If it fails, max-height will catch so that really long titles\n// don't leave their designated space, just no ellipsis.\nexport const Title = styled(Headline).attrs({\n  as: 'h3',\n  size: THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL,\n})`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ${({ theme }) => theme.colors.inverted.fg.primary};\n  margin: 0;\n  max-height: calc(1.2em * 3);\n  /* stylelint-disable-next-line */\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  /* stylelint-disable-next-line */\n  -webkit-box-orient: vertical;\n`;\n\n// All body text\nexport const DetailCopy = styled(Text).attrs({\n  forwardedAs: 'span',\n  size: THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL,\n})`\n  color: ${({ theme }) => theme.colors.inverted.fg.primary};\n  margin: 0;\n`;\n\n// specifications for exposing a locked story\nexport const LockAvatar = styled.img`\n  height: 40px;\n  width: 40px;\n  border: ${({ theme }) =>\n    `2px solid ${theme.colors.interactiveBg.brandNormal}`};\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n  z-index: 3;\n`;\n\nexport const LockIcon = styled(Icons.LockClosed)`\n  color: ${({ theme }) => theme.colors.inverted.fg.primary};\n  display: inline;\n  height: 36px;\n  width: 36px;\n  margin: -4px -4px -4px -10px;\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { VisuallyHidden } from '@googleforcreators/design-system';\nimport { getRelativeDisplayDate } from '@googleforcreators/date';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport PropTypes from 'prop-types';\nimport { useMemo, forwardRef } from '@googleforcreators/react';\nimport { css } from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { StoryMenu } from '../../../../../components';\nimport { generateStoryMenu } from '../../../../../components/popoverMenu/story-menu-generator';\nimport {\n  DEFAULT_GRID_IMG_HEIGHT,\n  DEFAULT_GRID_IMG_WIDTH,\n  STORY_STATUS,\n} from '../../../../../constants';\nimport {\n  PageSizePropType,\n  RenameStoryPropType,\n  StoryMenuPropType,\n  StoryPropType,\n} from '../../../../../types';\nimport { titleFormatted } from '../../../../../utils';\nimport { useConfig } from '../../../../config';\nimport {\n  Container,\n  Poster,\n  Gradient,\n  Scrim,\n} from '../../../shared/grid/components';\nimport { CardWrapper, CustomCardGridItem, ScrimAnchor } from './components';\nimport StoryDisplayContent from './storyDisplayContent';\n\nconst StoryGridItem = forwardRef(\n  ({ onFocus, isActive, pageSize, renameStory, story, storyMenu }, ref) => {\n    const { userId } = useConfig();\n    const tabIndex = isActive ? 0 : -1;\n    const titleRenameProps = renameStory\n      ? {\n          editMode: renameStory?.id === story?.id,\n          onEditComplete: (newTitle) =>\n            renameStory?.handleOnRenameStory(story, newTitle),\n          onEditCancel: renameStory?.handleCancelRename,\n        }\n      : {};\n\n    const isLocked = useMemo(\n      () => story?.locked && userId !== story?.lockUser.id,\n      [story, userId]\n    );\n\n    const generatedMenuItems = useMemo(\n      () =>\n        generateStoryMenu({\n          menuItems: storyMenu.menuItems,\n          story,\n          isLocked,\n        }),\n      [storyMenu, story, isLocked]\n    );\n\n    const storyDate = getRelativeDisplayDate(\n      story?.status === STORY_STATUS.DRAFT\n        ? story?.modifiedGmt\n        : story?.createdGmt\n    );\n\n    const formattedTitle = titleFormatted(story.title);\n\n    const memoizedStoryMenu = useMemo(\n      () =>\n        generatedMenuItems.length ? (\n          <StoryMenu\n            menuLabel={\n              isLocked\n                ? sprintf(\n                    /* translators: 1: story title. 2: user currently editing the story. */\n                    __('Context menu for %1$s (locked by %2$s)', 'web-stories'),\n                    formattedTitle,\n                    story?.lockUser.name\n                  )\n                : sprintf(\n                    /* translators: %s: story title.*/\n                    __('Context menu for %s', 'web-stories'),\n                    formattedTitle\n                  )\n            }\n            itemActive={isActive}\n            tabIndex={tabIndex}\n            onMoreButtonSelected={storyMenu.handleMenuToggle}\n            contextMenuId={storyMenu.contextMenuId}\n            storyId={story.id}\n            isInverted\n            menuItems={generatedMenuItems}\n            menuStyleOverrides={css`\n              /* force menu position to bottom corner */\n              margin: 0 0 0 auto;\n            `}\n          />\n        ) : null,\n      [\n        isLocked,\n        formattedTitle,\n        story?.lockUser?.name,\n        story.id,\n        isActive,\n        tabIndex,\n        storyMenu,\n        generatedMenuItems,\n      ]\n    );\n\n    return (\n      <CustomCardGridItem\n        data-testid={`story-grid-item-${story.id}`}\n        onFocus={onFocus}\n        $posterHeight={pageSize.height}\n        ref={ref}\n        aria-label={sprintf(\n          /* translators: %s: story title.*/\n          __('Details about %s', 'web-stories'),\n          formattedTitle\n        )}\n      >\n        <Container>\n          <CardWrapper>\n            <Poster\n              {...(story.featuredMediaUrl\n                ? {\n                    alt: sprintf(\n                      /* translators: %s: Story title. */\n                      __('%s Poster image', 'web-stories'),\n                      formattedTitle\n                    ),\n                    as: 'img',\n                    src: story.featuredMediaUrl,\n                    decoding: 'async',\n                  }\n                : null)}\n              width={DEFAULT_GRID_IMG_WIDTH}\n              height={DEFAULT_GRID_IMG_HEIGHT}\n            />\n            <Gradient />\n            <Scrim>\n              {story?.capabilities?.hasEditAction && (\n                <ScrimAnchor\n                  className=\"grid-item-anchor\"\n                  data-testid=\"story-editor-grid-link\"\n                  tabIndex={tabIndex}\n                  href={story.editStoryLink}\n                >\n                  <VisuallyHidden>\n                    {sprintf(\n                      /* translators: %s: Story title. */\n                      __('Open %s in Editor', 'web-stories'),\n                      formattedTitle\n                    )}\n                  </VisuallyHidden>\n                </ScrimAnchor>\n              )}\n              <StoryDisplayContent\n                author={story.author}\n                contextMenu={memoizedStoryMenu}\n                displayDate={storyDate}\n                formattedTitle={formattedTitle}\n                id={story.id}\n                isLocked={isLocked}\n                lockUser={story?.lockUser}\n                status={story?.status}\n                title={story.title}\n                {...titleRenameProps}\n              />\n            </Scrim>\n          </CardWrapper>\n        </Container>\n      </CustomCardGridItem>\n    );\n  }\n);\n\nStoryGridItem.displayName = 'StoryGridItem';\n\nStoryGridItem.propTypes = {\n  onFocus: PropTypes.func,\n  isActive: PropTypes.bool,\n  pageSize: PageSizePropType,\n  renameStory: RenameStoryPropType,\n  storyMenu: StoryMenuPropType,\n  story: StoryPropType,\n};\n\nexport default StoryGridItem;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useMemo } from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { TOOLTIP_PLACEMENT } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { STORY_STATUS } from '../../../../../constants';\nimport { InlineInputForm, Tooltip } from '../../../../../components';\nimport { DashboardStatusesPropType } from '../../../../../types';\nimport {\n  StyledStoryDisplayContent,\n  CardDetailsGrid,\n  CardDetailsColumn,\n  Row,\n  Title,\n  DetailCopy,\n  LockAvatar,\n  LockedRow,\n  LockIcon,\n} from './components';\n\nconst StoryDisplayContent = ({\n  author,\n  contextMenu,\n  displayDate,\n  editMode,\n  formattedTitle,\n  id,\n  isLocked,\n  lockUser = {},\n  onEditComplete,\n  onEditCancel,\n  status,\n  title,\n}) => {\n  const displayDateText = useMemo(() => {\n    if (!displayDate) {\n      return null;\n    }\n\n    switch (status) {\n      case STORY_STATUS.PUBLISH:\n        return sprintf(\n          /* translators: %s: published date */\n          __('Published %s', 'web-stories'),\n          displayDate\n        );\n      case STORY_STATUS.FUTURE:\n        return sprintf(\n          /* translators: %s: future publish date */\n          __('Scheduled %s', 'web-stories'),\n          displayDate\n        );\n\n      default:\n        return sprintf(\n          /* translators: %s: last modified date */\n          __('Modified %s', 'web-stories'),\n          displayDate\n        );\n    }\n  }, [status, displayDate]);\n\n  const { name, avatar } = lockUser;\n\n  const storyLockedTitle = isLocked && avatar && (\n    <LockedRow>\n      <Tooltip\n        position={TOOLTIP_PLACEMENT.BOTTOM_START}\n        title={\n          name &&\n          sprintf(\n            /* translators: %s: user name */\n            __('%s is currently editing this story', 'web-stories'),\n            name\n          )\n        }\n      >\n        <LockAvatar\n          src={avatar}\n          alt={name}\n          decoding=\"async\"\n          height={24}\n          width={24}\n          data-test-id=\"lock-user-avatar\"\n        />\n      </Tooltip>\n    </LockedRow>\n  );\n  return (\n    <StyledStoryDisplayContent>\n      {storyLockedTitle}\n      {editMode ? (\n        <InlineInputForm\n          onEditComplete={onEditComplete}\n          onEditCancel={onEditCancel}\n          value={title}\n          id={id}\n          label={__('Rename story', 'web-stories')}\n          isInverted\n        />\n      ) : (\n        <Row>\n          {isLocked && <LockIcon />}\n          <Title>{formattedTitle}</Title>\n        </Row>\n      )}\n      <CardDetailsGrid>\n        <CardDetailsColumn>\n          {status === STORY_STATUS.DRAFT && (\n            <DetailCopy isBold>{__('Draft', 'web-stories')}</DetailCopy>\n          )}\n          {status === STORY_STATUS.PENDING && (\n            <DetailCopy isBold>{__('Pending', 'web-stories')}</DetailCopy>\n          )}\n          {author?.name && <DetailCopy>{author?.name}</DetailCopy>}\n          <DetailCopy className=\"dashboard-grid-item-date\">\n            {displayDateText}\n          </DetailCopy>\n        </CardDetailsColumn>\n        <CardDetailsColumn>{contextMenu}</CardDetailsColumn>\n      </CardDetailsGrid>\n    </StyledStoryDisplayContent>\n  );\n};\n\nStoryDisplayContent.propTypes = {\n  author: PropTypes.object,\n  contextMenu: PropTypes.node,\n  displayDate: PropTypes.string,\n  editMode: PropTypes.bool,\n  formattedTitle: PropTypes.string.isRequired,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  isLocked: PropTypes.bool,\n  lockUser: PropTypes.object,\n  onEditComplete: PropTypes.func,\n  onEditCancel: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  status: DashboardStatusesPropType,\n};\n\nexport default StoryDisplayContent;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  useRef,\n  useEffect,\n  useState,\n  useMemo,\n  useCallback,\n  useFocusOut,\n} from '@googleforcreators/react';\nimport { useGridViewKeys } from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport { CardGrid } from '../../../../../components';\nimport {\n  StoriesPropType,\n  StoryMenuPropType,\n  PageSizePropType,\n  RenameStoryPropType,\n} from '../../../../../types';\nimport {\n  PAGE_WRAPPER,\n  STORY_CONTEXT_MENU_ACTIONS,\n} from '../../../../../constants';\nimport { useConfig } from '../../../../config';\nimport StoryGridItem from '../storyGridItem';\n\nconst StoryGrid = styled(CardGrid)`\n  width: calc(100% - ${PAGE_WRAPPER.GUTTER}px);\n`;\n\nconst StoryGridView = ({\n  stories,\n  pageSize,\n  storyMenu,\n  renameStory,\n  returnStoryFocusId,\n}) => {\n  const { isRTL } = useConfig();\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const itemRefs = useRef({});\n  const [activeGridItemId, setActiveGridItemId] = useState();\n  const activeGridItemIdRef = useRef();\n  const gridItemIds = useMemo(() => stories.map(({ id }) => id), [stories]);\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs,\n    isRTL,\n    currentItemId: activeGridItemId,\n    items: stories,\n  });\n\n  // We only want to force focus when returning to the grid from a dialog\n  // By checking to see if the active grid item no longer exists\n  // in tandem with the returnStoryFocusId being present from the parent\n  // AND that the activeGridItemIdRef.current is null we know that\n  // the user is coming from a dialog not just moving grid items\n  useEffect(() => {\n    if (\n      !activeGridItemId &&\n      returnStoryFocusId?.value &&\n      !activeGridItemIdRef.current\n    ) {\n      const newFocusId = returnStoryFocusId?.value;\n      setActiveGridItemId(newFocusId);\n      // grab the menu button and refocus\n      const firstFocusableElement = itemRefs.current?.[\n        newFocusId\n      ]?.querySelectorAll(['button', 'a'])?.[0];\n\n      firstFocusableElement?.focus();\n    }\n  }, [activeGridItemId, returnStoryFocusId]);\n\n  // when keyboard focus changes through FocusableGridItem\n  // immediately focus the edit preview layer on top of preview\n  useEffect(() => {\n    if (activeGridItemId) {\n      activeGridItemIdRef.current = activeGridItemId;\n    }\n  }, [activeGridItemId]);\n\n  // Additional functionality needed when closing context menus to maintain grid item focus\n  const handleMenuToggle = useCallback(\n    (evt, id) => {\n      storyMenu.handleMenuToggle(id);\n      // Conditionally return the focus to the grid when menu is closed using `tab`\n      if (id < 0 && evt?.keyCode === 9) {\n        // Menu is closing.\n        const isNext = !evt?.shiftKey;\n        const idToFocus = isNext\n          ? gridItemIds[gridItemIds.indexOf(activeGridItemId) + 1]\n          : activeGridItemId;\n        returnStoryFocusId.set(idToFocus);\n        activeGridItemIdRef.current = null;\n        setActiveGridItemId(null);\n      }\n    },\n    [activeGridItemId, gridItemIds, returnStoryFocusId, storyMenu]\n  );\n\n  // if keyboard is used instead of mouse the useFocusOut doesn't get triggered\n  // that is where we are setting active grid item ID to null\n  // by doing this here as well we are ensuring consistent functionality\n  const manuallySetFocusOut = useCallback(() => {\n    activeGridItemIdRef.current = null;\n    setActiveGridItemId(null);\n    returnStoryFocusId.set(null);\n  }, [returnStoryFocusId]);\n\n  useFocusOut(containerRef, () => setActiveGridItemId(null), []);\n\n  const modifiedStoryMenu = useMemo(() => {\n    const actions = [\n      STORY_CONTEXT_MENU_ACTIONS.DELETE,\n      STORY_CONTEXT_MENU_ACTIONS.RENAME,\n      STORY_CONTEXT_MENU_ACTIONS.DUPLICATE,\n    ];\n\n    const menuItems = storyMenu.menuItems.map((item) => {\n      const _item = { ...item };\n\n      if (actions.includes(item?.value)) {\n        _item.action = (story) => {\n          manuallySetFocusOut();\n          item.action(story);\n        };\n      }\n\n      return _item;\n    });\n\n    return {\n      ...storyMenu,\n      handleMenuToggle,\n      menuItems,\n    };\n  }, [handleMenuToggle, storyMenu, manuallySetFocusOut]);\n\n  const memoizedStoryGrid = useMemo(\n    () =>\n      stories.map((story) => {\n        return (\n          <StoryGridItem\n            onFocus={() => setActiveGridItemId(story.id)}\n            isActive={activeGridItemId === story.id}\n            ref={(el) => {\n              itemRefs.current[story.id] = el;\n            }}\n            key={story.id}\n            pageSize={pageSize}\n            renameStory={renameStory}\n            story={story}\n            storyMenu={modifiedStoryMenu}\n          />\n        );\n      }),\n    [activeGridItemId, modifiedStoryMenu, pageSize, renameStory, stories]\n  );\n\n  return (\n    <div ref={containerRef}>\n      <StoryGrid\n        pageSize={pageSize}\n        ref={gridRef}\n        role=\"list\"\n        ariaLabel={__('Viewing stories', 'web-stories')}\n      >\n        {memoizedStoryGrid}\n      </StoryGrid>\n    </div>\n  );\n};\n\nStoryGridView.propTypes = {\n  stories: StoriesPropType,\n  pageSize: PageSizePropType.isRequired,\n  storyMenu: StoryMenuPropType,\n  renameStory: RenameStoryPropType,\n  returnStoryFocusId: PropTypes.shape({\n    value: PropTypes.number,\n    set: PropTypes.func,\n  }),\n};\n\nexport default StoryGridView;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { Icons } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  STORY_PREVIEW_WIDTH,\n  VIEWPORT_BREAKPOINT,\n} from '../../../../../constants';\nimport { TableRow, MoreVerticalButton } from '../../../../../components';\n\nexport const PreviewImage = styled.div`\n  display: inline-block;\n  background: ${({ theme }) => theme.colors.gradient.placeholder};\n  width: ${STORY_PREVIEW_WIDTH[VIEWPORT_BREAKPOINT.THUMBNAIL]}px;\n  height: ${STORY_PREVIEW_WIDTH[VIEWPORT_BREAKPOINT.THUMBNAIL] / (3 / 4)}px;\n  object-fit: contain;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n`;\nexport const PreviewWrapper = styled.div`\n  position: relative;\n`;\n\nexport const LockIcon = styled(Icons.LockClosed)`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 24px;\n  display: block;\n  margin: auto;\n  background-color: ${({ theme }) => theme.colors.interactiveBg.brandNormal};\n  color: ${({ theme }) => theme.colors.standard.white};\n  border-radius: ${({ theme }) => theme.borders.radius.round};\n`;\n\nexport const StyledTableRow = styled(TableRow)`\n  &:hover ${MoreVerticalButton}, &:focus-within ${MoreVerticalButton} {\n    opacity: 1;\n  }\n`;\n\nexport const TitleTableCellContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  ${MoreVerticalButton} {\n    margin: 10px auto;\n  }\n\n  &:hover ${MoreVerticalButton}, &:active ${MoreVerticalButton} {\n    opacity: 1;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@googleforcreators/react';\nimport { getRelativeDisplayDate } from '@googleforcreators/date';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  Headline,\n  Text,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  InlineInputForm,\n  StoryMenu,\n  TableCell,\n  TablePreviewCell,\n  TableStatusCell,\n  Tooltip,\n} from '../../../../../components';\nimport { generateStoryMenu } from '../../../../../components/popoverMenu/story-menu-generator';\nimport { DISPLAY_STATUS, STORY_STATUS } from '../../../../../constants';\nimport {\n  RenameStoryPropType,\n  StoryMenuPropType,\n  StoryPropType,\n} from '../../../../../types';\nimport { titleFormatted } from '../../../../../utils';\n\nimport {\n  LockIcon,\n  PreviewWrapper,\n  PreviewImage,\n  StyledTableRow,\n  TitleTableCellContainer,\n} from './components';\n\nfunction onFocusSelectAll(e) {\n  window.getSelection().selectAllChildren(e.target);\n}\n\nfunction onBlurDeselectAll() {\n  window.getSelection().removeAllRanges();\n}\n\nexport const StoryListItem = ({\n  story,\n  renameStory,\n  userId,\n  storyMenu,\n  storyStatus,\n}) => {\n  const isLocked = useMemo(\n    () => story?.locked && userId !== story?.lockUser.id,\n    [story, userId]\n  );\n\n  const formattedTitle = titleFormatted(story.title);\n\n  const generatedMenuItems = useMemo(\n    () =>\n      generateStoryMenu({\n        menuItems: storyMenu.menuItems,\n        story,\n        isLocked,\n      }),\n    [storyMenu, story, isLocked]\n  );\n\n  const memoizedStoryMenu = useMemo(\n    () =>\n      generatedMenuItems.length ? (\n        <StoryMenu\n          menuLabel={sprintf(\n            /* translators: %s: story title.*/\n            __('Context menu for %s', 'web-stories'),\n            formattedTitle\n          )}\n          onMoreButtonSelected={(_, id) => storyMenu.handleMenuToggle(id)}\n          contextMenuId={storyMenu.contextMenuId}\n          storyId={story.id}\n          menuItems={generatedMenuItems}\n          verticalAlign=\"center\"\n        />\n      ) : null,\n    [generatedMenuItems, formattedTitle, storyMenu, story]\n  );\n\n  return (\n    <StyledTableRow data-testid={`story-list-item-${story.id}`}>\n      <TablePreviewCell>\n        <Tooltip\n          title={\n            isLocked && story?.lockUser.name\n              ? sprintf(\n                  /* translators: %s: user name */\n                  __('%s is currently editing this story', 'web-stories'),\n                  story?.lockUser.name\n                )\n              : ''\n          }\n        >\n          <PreviewWrapper>\n            <PreviewImage\n              {...(story.featuredMediaUrl\n                ? {\n                    src: story.featuredMediaUrl,\n                    alt: sprintf(\n                      /* translators: %s: Story title. */\n                      __('%s Poster image', 'web-stories'),\n                      formattedTitle\n                    ),\n                    as: 'img',\n                    decoding: 'async',\n                  }\n                : null)}\n            />\n            {isLocked && <LockIcon />}\n          </PreviewWrapper>\n        </Tooltip>\n      </TablePreviewCell>\n      <TableCell>\n        <TitleTableCellContainer>\n          {renameStory.id === story.id ? (\n            <InlineInputForm\n              onEditComplete={(newTitle) =>\n                renameStory.handleOnRenameStory(story, newTitle)\n              }\n              onEditCancel={renameStory.handleCancelRename}\n              value={story.title}\n              id={story.id}\n              label={__('Rename story', 'web-stories')}\n            />\n          ) : (\n            <>\n              <Headline\n                tabIndex={0}\n                onFocus={onFocusSelectAll}\n                onBlur={onBlurDeselectAll}\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.XXX_SMALL}\n                as=\"h3\"\n                aria-label={\n                  isLocked\n                    ? sprintf(\n                        /* translators: 1: story title. 2: user currently editing the story. */\n                        __('%1$s (locked by %2$s)', 'web-stories'),\n                        formattedTitle,\n                        story?.lockUser.name\n                      )\n                    : formattedTitle\n                }\n              >\n                {formattedTitle}\n              </Headline>\n              {memoizedStoryMenu}\n            </>\n          )}\n        </TitleTableCellContainer>\n      </TableCell>\n      <TableCell>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {story.author?.name || ''}\n        </Text>\n      </TableCell>\n      <TableCell>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {getRelativeDisplayDate(story.createdGmt)}\n        </Text>\n      </TableCell>\n      <TableCell>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {getRelativeDisplayDate(story.modifiedGmt)}\n        </Text>\n      </TableCell>\n      {storyStatus !== STORY_STATUS.DRAFT && (\n        <TableStatusCell>\n          <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n            {DISPLAY_STATUS[story?.status]}\n          </Text>\n        </TableStatusCell>\n      )}\n    </StyledTableRow>\n  );\n};\n\nStoryListItem.propTypes = {\n  story: StoryPropType.isRequired,\n  renameStory: RenameStoryPropType,\n  userId: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  storyMenu: StoryMenuPropType.isRequired,\n  storyStatus: PropTypes.string,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useMemo,\n  memo,\n  useCallback,\n  useDebouncedCallback,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { trackEvent } from '@googleforcreators/tracking';\nimport styled from 'styled-components';\nimport { Pill } from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport { useLayoutContext } from '../../../../components';\nimport {\n  DASHBOARD_VIEWS,\n  STORY_STATUSES,\n  STORY_SORT_MENU_ITEMS,\n  TEXT_INPUT_DEBOUNCE,\n} from '../../../../constants';\nimport {\n  StoriesPropType,\n  TotalStoriesByStatusPropType,\n} from '../../../../types';\nimport {\n  FilterPropTypes,\n  SearchPropTypes,\n  SortPropTypes,\n  ViewPropTypes,\n  AuthorPropTypes,\n} from '../../../../utils/useStoryView';\nimport { useDashboardResultsLabel } from '../../../../utils';\nimport { BodyViewOptions, PageHeading } from '../../shared';\nimport { getSearchOptions } from '../../utils';\n\nconst StyledPill = styled(Pill)`\n  margin: 0 2px;\n  white-space: nowrap;\n\n  & > span {\n    padding-left: 8px;\n    color: ${({ theme, isActive }) =>\n      isActive ? theme.colors.gray[20] : theme.colors.fg.tertiary};\n  }\n`;\nfunction Header({\n  filter,\n  initialPageReady,\n  search,\n  sort,\n  stories,\n  totalStoriesByStatus,\n  view,\n  author,\n  queryAuthorsBySearch,\n  showAuthorDropdown,\n}) {\n  const {\n    actions: { scrollToTop },\n  } = useLayoutContext();\n\n  const { setKeyword } = search;\n\n  const searchOptions = useMemo(() => getSearchOptions(stories), [stories]);\n\n  const resultsLabel = useDashboardResultsLabel({\n    currentFilter: filter.value,\n    isActiveSearch: Boolean(search.keyword),\n    totalResults: (filter.value.split(',') || []).reduce(\n      (totalResults, filterKey) =>\n        (totalResults += totalStoriesByStatus[filterKey] || 0),\n      0\n    ),\n    view: DASHBOARD_VIEWS.DASHBOARD,\n  });\n\n  const handleClick = useCallback(\n    (filterValue) => {\n      filter.set(filterValue);\n      scrollToTop();\n    },\n    [filter, scrollToTop]\n  );\n\n  const HeaderToggleButtons = useMemo(() => {\n    if (\n      !initialPageReady ||\n      (totalStoriesByStatus && Object.keys(totalStoriesByStatus).length === 0)\n    ) {\n      return null;\n    }\n\n    return (\n      <>\n        {STORY_STATUSES.map((storyStatus) => {\n          const { label, status, value } = storyStatus;\n          if (!(status in totalStoriesByStatus)) {\n            return null;\n          }\n\n          const count = totalStoriesByStatus[status];\n          if (count === 0) {\n            return null;\n          }\n\n          const ariaLabel = sprintf(\n            /* translators: %s is story status */\n            __('Filter stories by %s', 'web-stories'),\n            label\n          );\n          return (\n            <StyledPill\n              key={value}\n              onClick={() => handleClick(value)}\n              isActive={filter.value === value}\n              disabled={count <= 0}\n              aria-label={ariaLabel}\n            >\n              {label}\n              {count && <span>{count}</span>}\n            </StyledPill>\n          );\n        }).filter(Boolean)}\n      </>\n    );\n  }, [totalStoriesByStatus, filter.value, initialPageReady, handleClick]);\n\n  const onSortChange = useCallback(\n    (newSort) => {\n      sort.set(newSort);\n      scrollToTop();\n    },\n    [scrollToTop, sort]\n  );\n\n  const debouncedSearchChange = useDebouncedCallback(async (value) => {\n    await trackEvent('search', {\n      search_type: 'dashboard',\n      search_term: value,\n    });\n    setKeyword(value);\n  }, TEXT_INPUT_DEBOUNCE);\n\n  const clearSearch = useCallback(() => setKeyword(''), [setKeyword]);\n\n  return (\n    <>\n      <PageHeading\n        heading={__('Dashboard', 'web-stories')}\n        searchPlaceholder={__('Search Stories', 'web-stories')}\n        searchOptions={searchOptions}\n        handleSearchChange={debouncedSearchChange}\n        showSearch={initialPageReady}\n        searchValue={search.keyword}\n        onClear={clearSearch}\n      >\n        {HeaderToggleButtons}\n      </PageHeading>\n\n      <BodyViewOptions\n        showGridToggle\n        showSortDropdown\n        showAuthorDropdown={showAuthorDropdown}\n        resultsLabel={resultsLabel}\n        layoutStyle={view.style}\n        handleLayoutSelect={view.toggleStyle}\n        currentSort={sort.value}\n        pageSortOptions={STORY_SORT_MENU_ITEMS}\n        handleSortChange={onSortChange}\n        author={author}\n        queryAuthorsBySearch={queryAuthorsBySearch}\n        sortDropdownAriaLabel={__(\n          'Choose sort option for display',\n          'web-stories'\n        )}\n      />\n    </>\n  );\n}\n\nHeader.propTypes = {\n  filter: FilterPropTypes.isRequired,\n  initialPageReady: PropTypes.bool,\n  search: SearchPropTypes.isRequired,\n  sort: SortPropTypes.isRequired,\n  stories: StoriesPropType,\n  totalStoriesByStatus: TotalStoriesByStatusPropType,\n  view: ViewPropTypes.isRequired,\n  author: AuthorPropTypes,\n  queryAuthorsBySearch: PropTypes.func,\n  showAuthorDropdown: PropTypes.bool,\n};\n\nexport default memo(Header);\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useMemo,\n  useCallback,\n  useRef,\n} from '@googleforcreators/react';\n\n/**\n * Internal dependencies\n */\nimport { ScrollToTop, Layout } from '../../../components';\nimport { STORY_STATUSES } from '../../../constants';\nimport { useStoryView, noop } from '../../../utils';\nimport useApi from '../../api/useApi';\nimport { useConfig } from '../../config';\nimport Content from './content';\nimport Header from './header';\n\nfunction MyStories() {\n  const {\n    duplicateStory,\n    fetchStories,\n    trashStory,\n    updateStory,\n    allPagesFetched,\n    isLoading,\n    stories,\n    storiesOrderById,\n    totalPages,\n    totalStoriesByStatus,\n    getAuthors,\n  } = useApi(\n    ({\n      actions: {\n        storyApi: { duplicateStory, fetchStories, trashStory, updateStory },\n        usersApi: { getAuthors },\n      },\n      state: {\n        stories: {\n          allPagesFetched,\n          isLoading,\n          stories,\n          storiesOrderById,\n          totalPages,\n          totalStoriesByStatus,\n        },\n      },\n    }) => ({\n      duplicateStory,\n      fetchStories,\n      trashStory,\n      updateStory,\n      allPagesFetched,\n      isLoading,\n      stories,\n      storiesOrderById,\n      totalPages,\n      totalStoriesByStatus,\n      getAuthors,\n    })\n  );\n  const { apiCallbacks, canViewDefaultTemplates } = useConfig();\n\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const {\n    filter,\n    page,\n    search,\n    sort,\n    view,\n    showStoriesWhileLoading,\n    initialPageReady,\n    author,\n  } = useStoryView({\n    filters: STORY_STATUSES,\n    isLoading,\n    totalPages,\n  });\n\n  const { setQueriedAuthors } = author;\n  let queryAuthorsBySearch = useCallback(\n    (authorSearchTerm) => {\n      return getAuthors(authorSearchTerm).then((data) => {\n        if (!isMounted.current) {\n          return;\n        }\n\n        const userData = data.map(({ id, name }) => ({\n          id,\n          name,\n        }));\n        setQueriedAuthors((existingUsers) => {\n          const existingUsersIds = existingUsers.map(({ id }) => id);\n          const newUsers = userData.filter(\n            (newUser) => !existingUsersIds.includes(newUser.id)\n          );\n          return [...existingUsers, ...newUsers];\n        });\n      });\n    },\n    [getAuthors, setQueriedAuthors]\n  );\n\n  if (!getAuthors) {\n    queryAuthorsBySearch = noop;\n  }\n\n  useEffect(() => {\n    queryAuthorsBySearch();\n  }, [queryAuthorsBySearch]);\n\n  useEffect(() => {\n    fetchStories({\n      page: page.value,\n      searchTerm: search.keyword,\n      sortDirection: sort.direction,\n      sortOption: sort.value,\n      status: filter.value,\n      author: author.filterId,\n    });\n  }, [\n    fetchStories,\n    filter.value,\n    page.value,\n    search.keyword,\n    sort.direction,\n    sort.value,\n    author.filterId,\n    apiCallbacks,\n  ]);\n\n  const orderedStories = useMemo(() => {\n    return storiesOrderById.map((storyId) => {\n      return stories[storyId];\n    });\n  }, [stories, storiesOrderById]);\n\n  const showAuthorDropdown = typeof getAuthors === 'function';\n\n  return (\n    <Layout.Provider>\n      <Header\n        initialPageReady={initialPageReady}\n        filter={filter}\n        search={search}\n        sort={sort}\n        stories={orderedStories}\n        totalStoriesByStatus={totalStoriesByStatus}\n        view={view}\n        author={author}\n        queryAuthorsBySearch={queryAuthorsBySearch}\n        showAuthorDropdown={showAuthorDropdown}\n      />\n\n      <Content\n        allPagesFetched={allPagesFetched}\n        canViewDefaultTemplates={canViewDefaultTemplates}\n        filter={filter}\n        loading={{ isLoading, showStoriesWhileLoading }}\n        page={page}\n        search={search}\n        sort={sort}\n        stories={orderedStories}\n        storyActions={{\n          duplicateStory,\n          trashStory,\n          updateStory,\n        }}\n        view={view}\n      />\n\n      <Layout.Fixed>\n        <ScrollToTop />\n      </Layout.Fixed>\n    </Layout.Provider>\n  );\n}\n\nexport default MyStories;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { TranslateWithMarkup, __ } from '@googleforcreators/i18n';\nimport {\n  Text,\n  THEME_CONSTANTS,\n  DropDown,\n  Datalist,\n  noop,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { AuthorPropTypes } from '../../../utils/useStoryView.js';\nimport { StandardViewContentGutter, ViewStyleBar } from '../../../components';\nimport { DROPDOWN_TYPES, VIEW_STYLE } from '../../../constants';\n\nconst DisplayFormatContainer = styled.div`\n  height: 76px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: -10px;\n  @media (max-width: 480px) {\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: space-between;\n  }\n`;\n\nconst StorySortDropdownContainer = styled.div`\n  margin: auto 8px;\n  align-self: flex-end;\n  @media (max-width: 480px) {\n    margin: 0px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst StyledDropDown = styled(DropDown)`\n  width: 210px;\n  @media (max-width: 480px) {\n    width: 150px;\n  }\n`;\n\nconst BodyViewOptionsHeader = styled.div``;\nconst StyledDatalist = styled(Datalist.DropDown)`\n  width: 150px;\n`;\n\nconst defaultAuthor = {\n  filterId: null,\n  toggleFilterId: noop,\n  queriedAuthors: [],\n};\n\nexport default function BodyViewOptions({\n  currentSort,\n  handleLayoutSelect,\n  handleSortChange,\n  resultsLabel,\n  layoutStyle,\n  pageSortOptions = [],\n  showGridToggle,\n  showSortDropdown,\n  sortDropdownAriaLabel,\n  showAuthorDropdown = false,\n  author = defaultAuthor,\n  queryAuthorsBySearch = noop,\n}) {\n  return (\n    <StandardViewContentGutter>\n      <BodyViewOptionsHeader id=\"body-view-options-header\" />\n      <DisplayFormatContainer>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          <TranslateWithMarkup>{resultsLabel}</TranslateWithMarkup>\n        </Text>\n        <ControlsContainer>\n          {layoutStyle === VIEW_STYLE.GRID && showAuthorDropdown && (\n            <StorySortDropdownContainer>\n              <StyledDatalist\n                hasSearch\n                hasDropDownBorder\n                searchResultsLabel={__('Search results', 'web-stories')}\n                aria-label={__('Filter stories by author', 'web-stories')}\n                onChange={author.toggleFilterId}\n                getOptionsByQuery={queryAuthorsBySearch}\n                selectedId={author.filterId}\n                placeholder={__('Author', 'web-stories')}\n                primaryOptions={author.queriedAuthors}\n                options={author.queriedAuthors}\n              />\n            </StorySortDropdownContainer>\n          )}\n          {layoutStyle === VIEW_STYLE.GRID && showSortDropdown && (\n            <StorySortDropdownContainer>\n              <StyledDropDown\n                ariaLabel={sortDropdownAriaLabel}\n                options={pageSortOptions}\n                type={DROPDOWN_TYPES.MENU}\n                selectedValue={currentSort}\n                onMenuItemClick={(_, newSort) => handleSortChange(newSort)}\n              />\n            </StorySortDropdownContainer>\n          )}\n          {showGridToggle && (\n            <ControlsContainer>\n              <ViewStyleBar\n                layoutStyle={layoutStyle}\n                onPress={handleLayoutSelect}\n              />\n            </ControlsContainer>\n          )}\n        </ControlsContainer>\n      </DisplayFormatContainer>\n    </StandardViewContentGutter>\n  );\n}\n\nBodyViewOptions.propTypes = {\n  currentSort: PropTypes.string.isRequired,\n  handleLayoutSelect: PropTypes.func,\n  handleSortChange: PropTypes.func,\n  layoutStyle: PropTypes.string.isRequired,\n  resultsLabel: PropTypes.string.isRequired,\n  pageSortOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.string,\n      label: PropTypes.string,\n    })\n  ),\n  showGridToggle: PropTypes.bool,\n  showSortDropdown: PropTypes.bool,\n  sortDropdownAriaLabel: PropTypes.string.isRequired,\n  showAuthorDropdown: PropTypes.bool,\n  author: AuthorPropTypes,\n  queryAuthorsBySearch: PropTypes.func,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { DesertColor } from '@googleforcreators/design-system';\n\nconst Message = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 400px;\n  margin: 20vh auto;\n\n  & > * {\n    text-align: center;\n    margin: 0 auto;\n  }\n\n  /* Sometimes children will contain button or anchor as cta. */\n  button,\n  a {\n    margin-top: 48px;\n  }\n`;\n\nconst EmptyImage = styled(DesertColor)`\n  margin-bottom: 48px;\n`;\nfunction EmptyContentMessage({ children }) {\n  return (\n    <Message>\n      <EmptyImage aria-hidden width={274} height={118} />\n      {children}\n    </Message>\n  );\n}\n\nEmptyContentMessage.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default EmptyContentMessage;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\n\n// Foundational styled components that are\n// shared by grid instances to create\n// the final presentation of grid items\n\n// Gradient overlays the grid item poster\nexport const Gradient = styled.div`\n  position: absolute;\n  bottom: 0;\n  height: 67%;\n  width: 100%;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n  background: ${({ theme }) => theme.colors.gradient.posterOverlay};\n`;\n\n// Holds grid item content\nexport const Scrim = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n  background: ${({ theme }) => theme.colors.opacity.black3};\n`;\n\n// Keeps grid item position contained\nexport const Container = styled.div`\n  position: relative;\n`;\n\n// Displays grid item image if available\n// as background of grid item area\nexport const Poster = styled.div`\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n  background: ${({ theme }) => theme.colors.gradient.placeholder};\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as BodyViewOptions } from './bodyViewOptions';\nexport { default as EmptyContentMessage } from './emptyContentMessage';\nexport { default as PageHeading } from './pageHeading';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { __ } from '@googleforcreators/i18n';\nimport {\n  Display,\n  Search,\n  THEME_CONSTANTS,\n  noop,\n} from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport { NavMenuButton, StandardViewContentGutter } from '../../../components';\n\nconst HeadingContainer = styled(StandardViewContentGutter)`\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  padding-top: 48px;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.divider.secondary};\n  @media (max-width: 480px) {\n    display: flex;\n    flex-flow: column;\n    align-items: flex-start;\n  }\n`;\n\nconst StyledHeadline = styled(Display)`\n  display: flex;\n  align-items: center;\n  margin-right: 28px;\n  padding-bottom: 24px;\n  white-space: nowrap;\n  @media (max-width: 480px) {\n    width: 100%;\n  }\n`;\n\nconst HeadlineFilters = styled.div`\n  display: flex;\n  align-items: center;\n  margin: auto 0 auto 0;\n  padding-bottom: 24px;\n`;\n\nconst HeaderSearch = styled.div`\n  width: 208px;\n  max-width: 208px;\n  min-width: 208px;\n  margin: auto 0;\n  padding-bottom: 24px;\n  @media (max-width: 480px) {\n    width: 140px;\n    max-width: 140px;\n    min-width: 140px;\n  }\n`;\nconst MobileViewPortWrapper = styled.div`\n  display: contents;\n  @media (max-width: 480px) {\n    display: flex;\n    flex-flow: row;\n  }\n`;\nconst HeadingWrapper = styled.span`\n  @media (max-width: 480px) {\n    flex-grow: 1;\n  }\n`\nconst PageHeading = ({\n  children,\n  heading,\n  searchPlaceholder,\n  searchOptions = [],\n  showSearch,\n  handleSearchChange,\n  searchValue = '',\n  onClear = noop,\n}) => {\n  return (\n    <HeadingContainer>\n      <StyledHeadline\n        as=\"h2\"\n        size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n      >\n        <NavMenuButton showOnlyOnSmallViewport />\n        <HeadingWrapper>{heading}</HeadingWrapper>\n      </StyledHeadline>\n      <MobileViewPortWrapper>\n        {children && <HeadlineFilters>{children}</HeadlineFilters>}\n        {showSearch && (\n          <HeaderSearch>\n            <Search\n              placeholder={searchPlaceholder}\n              selectedValue={{ label: searchValue, value: searchValue }}\n              options={searchOptions}\n              handleSearchValueChange={handleSearchChange}\n              onClear={onClear}\n              emptyText={__('No options available', 'web-stories')}\n            />\n          </HeaderSearch>\n        )}\n      </MobileViewPortWrapper>\n    </HeadingContainer>\n  );\n};\n\nPageHeading.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n  handleSearchChange: PropTypes.func,\n  heading: PropTypes.string.isRequired,\n  onClear: PropTypes.func,\n  searchOptions: PropTypes.arrayOf(PropTypes.object),\n  searchPlaceholder: PropTypes.string,\n  searchValue: PropTypes.string,\n  showSearch: PropTypes.bool,\n};\n\nexport default PageHeading;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_META_DATA_TYPES } from '../constants';\n\n/**\n * Takes an array of template meta data filter entries\n * and composes them into a function that takes a template\n * and returns true if the template satisfies any of the\n * meta data filters.\n *\n * @param {Array} filters filter entries to compose\n * @return {Function} function that takes a template and returns true or false\n */\nfunction composeTemplateFilter(filters) {\n  return (template) => {\n    return (\n      !filters ||\n      filters.some((filter) => {\n        switch (filter?.type) {\n          case TEMPLATE_META_DATA_TYPES.TAG:\n            return template.tags\n              .map((tag) => tag.toLowerCase())\n              .includes(filter.value.toLowerCase());\n\n          case TEMPLATE_META_DATA_TYPES.COLOR:\n            return template.colors\n              .map((color) => color.label.toLowerCase())\n              .includes(filter.value.toLowerCase());\n\n          case TEMPLATE_META_DATA_TYPES.VERTICAL:\n            return template.vertical\n              .toLowerCase()\n              .includes(filter.value.toLowerCase());\n\n          case TEMPLATE_META_DATA_TYPES.TITLE:\n            return template.title\n              .toLowerCase()\n              .includes(filter.value.toLowerCase());\n\n          default:\n            return true;\n        }\n      })\n    );\n  };\n}\n\nexport default composeTemplateFilter;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction getSearchOptions(options) {\n  return options.reduce((acc, option) => {\n    if (!option.title || option?.title.trim().length <= 0) {\n      return acc;\n    }\n    return [\n      ...acc,\n      {\n        label: option.title,\n        value: option.title,\n      },\n    ];\n  }, []);\n}\n\nexport default getSearchOptions;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { uniqueEntriesByKey } from '@googleforcreators/design-system';\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_META_DATA_TYPES } from '../constants';\n\n/**\n * Takes an dictionary of templates and extracts their metadata\n * to return an array of meta data entries compatible with the\n * dashboard header search options\n *\n * @param {Object} templates templates dictionary keyed by id\n * @return {Array<Object>} array of entries\n */\nfunction getTemplateFilters(templates) {\n  const templatesArr = Object.values(templates);\n\n  const colors = templatesArr\n    .flatMap((t) => t.colors)\n    .map((c) => ({\n      label: c.family,\n      value: c.family,\n      type: TEMPLATE_META_DATA_TYPES.COLOR,\n    }));\n\n  const tags = templatesArr\n    .flatMap((t) => t.tags)\n    .map((tag) => ({\n      label: tag,\n      value: tag,\n      type: TEMPLATE_META_DATA_TYPES.TAG,\n    }));\n\n  const verticals = templatesArr\n    .map((t) => t.vertical)\n    .map((vertical) => ({\n      label: vertical,\n      value: vertical,\n      type: TEMPLATE_META_DATA_TYPES.VERTICAL,\n    }));\n\n  const title = templatesArr.map((t) => ({\n    label: t.title,\n    value: t.title,\n    type: TEMPLATE_META_DATA_TYPES.TITLE,\n  }));\n\n  return [\n    ...uniqueEntriesByKey(tags, 'label'),\n    ...uniqueEntriesByKey(colors, 'label'),\n    ...uniqueEntriesByKey(verticals, 'label'),\n    ...uniqueEntriesByKey(title, 'label'),\n  ];\n}\n\nexport default getTemplateFilters;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as getSearchOptions } from './getSearchOptions';\nexport { default as getTemplateFilters } from './getTemplateFilters';\nexport { default as composeTemplateFilter } from './composeTemplateFilter';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Button, BUTTON_TYPES } from '@googleforcreators/design-system';\n\nconst pictureCss = css`\n  picture {\n    display: block;\n    & > img {\n      display: block;\n      height: 100%;\n      width: 100%;\n      object-fit: fill;\n      border-radius: ${({ theme }) => theme.borders.radius.medium};\n      border: ${({ theme }) =>\n        `1px solid ${theme.colors.border.defaultNormal}`};\n    }\n  }\n`;\nexport const GalleryContainer = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: start;\n`;\n\nexport const DisplayPage = styled.div`\n  overflow: hidden;\n  width: 38.6%;\n  margin-left: 2.1%;\n\n  ${pictureCss}\n\n  @media screen and (min-width: 1600px) {\n    width: 45.2%;\n    margin-left: 2.4%;\n  }\n`;\n\nDisplayPage.propTypes = {\n  $isThreeRows: PropTypes.bool,\n};\n\nexport const Thumbnails = styled.div`\n  position: relative;\n  display: grid;\n  width: 52.3%;\n  grid-template-columns: repeat(3, 1fr);\n  column-gap: 8px;\n  row-gap: 16px;\n  margin-right: 16px;\n\n  @media screen and (min-width: 1600px) {\n    width: 59.3%;\n    grid-template-columns: repeat(4, 1fr);\n  }\n`;\n\nexport const ThumbnailButton = styled(Button).attrs({\n  type: BUTTON_TYPES.PLAIN,\n})`\n  display: block;\n  height: 100%;\n  padding: 0;\n  border: none;\n  background-color: transparent;\n  position: relative;\n  &:active {\n    background-color: transparent;\n  }\n  ${({ $isSelected, theme }) =>\n    $isSelected &&\n    css`\n      &:after {\n        content: '';\n        position: absolute;\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n        display: block;\n        top: 0;\n        right: 0;\n        border-radius: ${theme.borders.radius.medium};\n        border: 4px solid ${theme.colors.interactiveBg.active};\n      }\n    `}\n  ${pictureCss};\n`;\nThumbnailButton.propTypes = {\n  $isSelected: PropTypes.bool,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { useGridViewKeys } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  DEFAULT_GRID_IMG_HEIGHT,\n  DEFAULT_GRID_IMG_WIDTH,\n} from '../../constants';\nimport {\n  GalleryContainer,\n  ThumbnailButton,\n  Thumbnails,\n  DisplayPage,\n} from './components';\n\nfunction getPosterAltCopy(pageNumber) {\n  return sprintf(\n    /* translators: %s: page number. */\n    __('Poster of template page %s', 'web-stories'),\n    pageNumber\n  );\n}\n\nfunction CardGallery({ galleryPosters, isRTL, galleryLabel }) {\n  const [selectedGridItemIndex, setSelectedGridItemIndex] = useState(0);\n  const [focusedGridItemIndex, setFocusedGridItemIndex] = useState();\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const posterRefs = useRef({});\n\n  const handleMiniCardClick = useCallback((index) => {\n    setSelectedGridItemIndex(index);\n    setFocusedGridItemIndex(index);\n  }, []);\n\n  const handleGalleryItemFocus = useCallback((index) => {\n    setFocusedGridItemIndex(index);\n  }, []);\n\n  useEffect(() => {\n    // Reset state when posters update\n    if (galleryPosters) {\n      setSelectedGridItemIndex(0);\n      setFocusedGridItemIndex();\n    }\n  }, [galleryPosters]);\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs: posterRefs,\n    isRTL,\n    currentItemId: focusedGridItemIndex,\n    items: galleryPosters,\n  });\n\n  const GalleryItems = useMemo(() => {\n    return galleryPosters.map((poster, index) => {\n      const key = `gallery_item_${index}`;\n      const pageNumber = index + 1;\n      // If there's not a focused index we want to fall back to the selected grid item\n      const isFocusIndex = focusedGridItemIndex\n        ? focusedGridItemIndex === index\n        : selectedGridItemIndex === index;\n\n      return (\n        <div\n          key={key}\n          ref={(el) => {\n            posterRefs.current[index] = el;\n          }}\n          onFocus={() => handleGalleryItemFocus(index)}\n        >\n          <ThumbnailButton\n            $isSelected={selectedGridItemIndex === index}\n            tabIndex={isFocusIndex ? 0 : -1}\n            onClick={() => handleMiniCardClick(index)}\n            aria-label={\n              selectedGridItemIndex === index\n                ? sprintf(\n                    /* translators: %s: page number. */\n                    __('Page %s (current page)', 'web-stories'),\n                    pageNumber\n                  )\n                : sprintf(\n                    /* translators: %s: page number. */\n                    __('Page %s', 'web-stories'),\n                    pageNumber\n                  )\n            }\n          >\n            <picture>\n              <source srcSet={poster.webp} type=\"image/webp\" />\n              <source srcSet={poster.png} type=\"image/png\" />\n              <img\n                src={poster.png}\n                decoding=\"async\"\n                alt={getPosterAltCopy(pageNumber)}\n                width={DEFAULT_GRID_IMG_WIDTH}\n                height={DEFAULT_GRID_IMG_HEIGHT}\n              />\n            </picture>\n          </ThumbnailButton>\n        </div>\n      );\n    });\n  }, [\n    galleryPosters,\n    selectedGridItemIndex,\n    focusedGridItemIndex,\n    handleGalleryItemFocus,\n    handleMiniCardClick,\n  ]);\n\n  return (\n    <GalleryContainer ref={containerRef}>\n      <Thumbnails\n        ref={gridRef}\n        role=\"group\"\n        aria-label={galleryLabel}\n        data-testid=\"mini-cards-container\"\n      >\n        {GalleryItems}\n      </Thumbnails>\n      <DisplayPage>\n        {galleryPosters[selectedGridItemIndex] && (\n          <picture>\n            <source\n              srcSet={galleryPosters[selectedGridItemIndex].webp}\n              type=\"image/webp\"\n            />\n            <source\n              srcSet={galleryPosters[selectedGridItemIndex].png}\n              type=\"image/png\"\n            />\n            <img\n              src={galleryPosters[selectedGridItemIndex].png}\n              decoding=\"async\"\n              alt={sprintf(\n                /* translators: %s: active preview page number */\n                __('Active Page Preview - Page %s', 'web-stories'),\n                selectedGridItemIndex + 1\n              )}\n              width={DEFAULT_GRID_IMG_WIDTH}\n              height={DEFAULT_GRID_IMG_HEIGHT}\n            />\n          </picture>\n        )}\n      </DisplayPage>\n    </GalleryContainer>\n  );\n}\n\nCardGallery.propTypes = {\n  galleryPosters: PropTypes.arrayOf(\n    PropTypes.shape({\n      png: PropTypes.string,\n      webp: PropTypes.string,\n      id: PropTypes.number,\n    })\n  ).isRequired,\n  isRTL: PropTypes.bool,\n  galleryLabel: PropTypes.string.isRequired,\n};\n\nexport default CardGallery;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\nimport { forwardRef } from '@googleforcreators/react';\nimport { ThemeGlobals, themeHelpers } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { PageSizePropType } from '../../types';\nimport { GRID_SPACING } from '../../constants';\n\nconst DashboardGrid = styled.div`\n  display: grid;\n  width: 100%;\n  grid-column-gap: ${GRID_SPACING.COLUMN_GAP}px;\n  grid-row-gap: ${GRID_SPACING.ROW_GAP}px;\n  grid-template-columns: ${({ columnWidth }) => `\n    repeat(auto-fill, ${columnWidth}px)`};\n  grid-template-rows: ${({ columnHeight }) =>\n    `minmax(${columnHeight}px, auto)`};\n  scroll-margin-top: 30vh;\n\n  ${({ theme }) => css`\n    &.${ThemeGlobals.FOCUS_VISIBLE_SELECTOR} {\n      ${themeHelpers.focusCSS(theme.colors.border.focus)};\n    }\n  `};\n  @media screen and (max-width: 480px) {\n    column-gap: 0px;\n    row-gap: 0px;\n  }\n`;\nDashboardGrid.propTypes = {\n  columnHeight: PropTypes.number,\n  columnWidth: PropTypes.number,\n};\n\nconst CardGrid = forwardRef(function CardGrid(\n  { ariaLabel, children, pageSize },\n  ref\n) {\n  return (\n    <DashboardGrid\n      ref={ref}\n      role=\"list\"\n      data-testid={'dashboard-grid-list'}\n      /* eslint-disable-next-line styled-components-a11y/no-noninteractive-tabindex --\n       * We need to focus this div to engage with `useGridViewKeys`\n       * which is critical to avoiding focus traps for keyboard users.\n       **/\n      tabIndex={0}\n      aria-label={ariaLabel}\n      columnWidth={pageSize.width}\n      columnHeight={pageSize.height}\n    >\n      {children}\n    </DashboardGrid>\n  );\n});\n\nCardGrid.propTypes = {\n  ariaLabel: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  pageSize: PageSizePropType.isRequired,\n};\n\nexport default CardGrid;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { MoreVerticalButton } from '../storyMenu';\n\nconst CardGridItem = styled.div.attrs({ role: 'listitem' })`\n  margin: 0;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: ${({ $posterHeight }) => `${$posterHeight}px auto`};\n\n  ${MoreVerticalButton} {\n    margin: 12px 0;\n  }\n  &:hover\n    ${MoreVerticalButton},\n    &:active\n    ${MoreVerticalButton},\n    &:focus-within\n    ${MoreVerticalButton} {\n    opacity: 1;\n  }\n  &:hover .card_buttons,\n  &:active .card_buttons,\n  &:focus-within .card_buttons {\n    opacity: 1;\n  }\n`;\nCardGridItem.propTypes = {\n  $posterHeight: PropTypes.number,\n};\n\nexport default CardGridItem;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createSolidFromString } from '@googleforcreators/patterns';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { ColorType } from '../types';\n\nconst borderLookup = (color) => ({\n  '#fff': `border: solid 1px ${color}`,\n  '#ffffff': `border: solid 1px ${color}`,\n  white: `border: solid 1px ${color}`,\n  '#fef9f1': `border: solid 1px ${color}`,\n  '#fff8f2': `border: solid 1px ${color}`,\n  '#f9f9f9': `border: solid 1px ${color}`,\n  '#fcfcfc': `border: solid 1px ${color}`,\n});\n\nconst ColorContainer = styled.ul`\n  display: flex;\n  margin: 0;\n`;\n\nconst Color = styled.li`\n  ${({ theme, $backgroundColor, color, size, spacing }) => `\n    width: ${size}px;\n    height: ${size}px;\n    border-radius: 50%;\n    margin-bottom: 0;\n    background-color: rgb(${$backgroundColor});\n    ${borderLookup(theme.colors.border.defaultNormal)[color] || ''};\n\n    & + & {\n      margin-left: ${spacing || 10}px;\n    }\n  `}\n`;\n\nfunction ColorList({ colors, size, spacing, ...rest }) {\n  return (\n    <ColorContainer {...rest}>\n      {colors.map(({ label, color }) => {\n        const { r, g, b } = createSolidFromString(color).color;\n        const backgroundColor = `${r}, ${g}, ${b}`;\n        return (\n          <Color\n            key={color}\n            size={size}\n            spacing={spacing}\n            color={color}\n            $backgroundColor={backgroundColor}\n            title={label}\n            ariaLabel={label}\n            data-testid=\"detail-template-color\"\n          />\n        );\n      })}\n    </ColorContainer>\n  );\n}\n\nColorList.propTypes = {\n  colors: PropTypes.arrayOf(ColorType).isRequired,\n  size: PropTypes.number.isRequired,\n  spacing: PropTypes.number,\n};\n\nexport default ColorList;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { PAGE_WRAPPER } from '../../constants';\n\nexport const StandardViewContentGutter = styled.div`\n  margin: 0 ${PAGE_WRAPPER.GUTTER}px;\n  @media (max-width: 480px) {\n    margin: 0px 0px 0px 20px;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@googleforcreators/react';\nimport { ThemeProvider } from 'styled-components';\nimport {\n  Dialog as StyledDialog,\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  theme,\n} from '@googleforcreators/design-system';\n\n/**\n * Dialog is wrapped in a ThemeProvider so that colors can be inverted.\n *\n * @param {boolean} isOpen When true, dialog will be visible - passed to dialog directly\n * @param {Function} onClose Action taken on 'x'/clicking outside of dialog. Default secondary action.\n * @param {Function} onSecondary Action taken on secondary button click when specified.\n * @param {Function} onPrimary Action taken on primary button click.\n * @param {string} primaryText When present, primary button will render.\n * @param {string} secondaryText When present, secondary button will render.\n * @param {Object} primaryRest Unique props needed on primary button, spread on button.\n * @param {Object} secondaryRest Unique props needed on secondary button, spread on button.\n * @param {Object} actions Custom actions object for when the API restrictions of primary and secondary structure are too much.\n * @param {Node} children Contents of dialog\n */\n\nconst Dialog = ({\n  onClose,\n  onSecondary,\n  onPrimary,\n  primaryText,\n  secondaryText,\n  primaryRest,\n  secondaryRest,\n  actions,\n  children,\n  ...rest\n}) => {\n  const _PrimaryButton = useMemo(\n    () =>\n      primaryText && (\n        <Button\n          type={BUTTON_TYPES.PRIMARY}\n          size={BUTTON_SIZES.SMALL}\n          onClick={() => onPrimary?.()}\n          {...primaryRest}\n        >\n          {primaryText}\n        </Button>\n      ),\n    [primaryText, primaryRest, onPrimary]\n  );\n\n  const _SecondaryButton = useMemo(\n    () =>\n      secondaryText && (\n        <Button\n          type={BUTTON_TYPES.TERTIARY}\n          size={BUTTON_SIZES.SMALL}\n          onClick={() => onSecondary?.() || onClose()}\n          {...secondaryRest}\n        >\n          {secondaryText}\n        </Button>\n      ),\n    [secondaryText, secondaryRest, onSecondary, onClose]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <StyledDialog\n        onClose={onClose}\n        {...rest}\n        actions={\n          actions || (\n            <>\n              {_SecondaryButton}\n              {_PrimaryButton}\n            </>\n          )\n        }\n      >\n        {children}\n      </StyledDialog>\n    </ThemeProvider>\n  );\n};\n\nDialog.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  onPrimary: PropTypes.func,\n  onSecondary: PropTypes.func,\n  primaryText: PropTypes.string,\n  primaryRest: PropTypes.object,\n  secondaryText: PropTypes.string,\n  secondaryRest: PropTypes.object,\n  actions: PropTypes.object,\n  children: PropTypes.node,\n};\n\nexport default Dialog;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default } from './dialog';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { __ } from '@googleforcreators/i18n';\nimport {\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  Button,\n  Text,\n  themeHelpers,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_FILE_UPLOAD_TYPES } from '../../constants';\n\nconst StyledButton = styled(Button)`\n  :focus-within {\n    ${({ theme }) => themeHelpers.focusCSS(theme.colors.border.focus)}\n  }\n`;\n\nconst Input = styled.input(themeHelpers.visuallyHidden);\n\nconst UploadFormArea = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  justify-content: flex-end;\n  width: 100%;\n  min-height: 153px;\n  padding: 40px 0;\n  border-radius: 4px;\n  border: 1px dashed\n    ${({ isDragging, theme }) =>\n      isDragging\n        ? theme.colors.border.focus\n        : theme.colors.border.defaultNormal};\n\n  transition: border-color 300ms ease-in;\n`;\n\nconst UploadHelperText = styled(Text)`\n  margin: 0 auto 16px;\n  padding: 0 20%;\n  text-align: center;\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n`;\n\nconst LoadingIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ${({ theme }) => theme.colors.standard.white};\n  opacity: ${({ isLoading }) => (isLoading ? 0.6 : 0)};\n  z-index: ${({ isLoading }) => (isLoading ? '100' : '0')};\n  pointer-events: none;\n\n  transition: opacity ease-in-out 300ms;\n\n  p {\n    font-style: italic;\n  }\n`;\n\nfunction disableDefaults(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nconst FileUpload = ({\n  id,\n  label,\n  onSubmit,\n  isLoading,\n  isMultiple,\n  ariaLabel,\n  instructionalText = __('You can also drag your file here', 'web-stories'),\n  acceptableFormats = DEFAULT_FILE_UPLOAD_TYPES,\n}) => {\n  const uploadFileContainer = useRef(null);\n  const fileInputRef = useRef(null);\n  const [isDragging, setDragging] = useState(false);\n\n  const handleUploadFile = useCallback(\n    (files) => {\n      onSubmit(Object.values(files));\n    },\n    [onSubmit]\n  );\n\n  const handleChange = useCallback(\n    (e) => {\n      disableDefaults(e);\n      handleUploadFile(e.target.files);\n      fileInputRef.current.value = null;\n    },\n    [handleUploadFile]\n  );\n\n  const handleDragDrop = useCallback(\n    (e) => {\n      disableDefaults(e);\n      const files = e.dataTransfer.files;\n      if (files) {\n        handleUploadFile(files);\n      }\n      setDragging(false);\n    },\n    [handleUploadFile]\n  );\n\n  const handleDrag = useCallback(\n    (e) => {\n      disableDefaults(e);\n      setDragging((prevIsDragging) => !prevIsDragging);\n\n      if (isDragging) {\n        e.dataTransfer.clearData();\n      }\n    },\n    [isDragging]\n  );\n\n  useEffect(() => {\n    if (!fileInputRef?.current) {\n      return () => {};\n    }\n\n    const input = fileInputRef.current;\n\n    input.addEventListener('change', handleChange);\n    return () => {\n      input.removeEventListener('change', handleChange);\n    };\n  }, [handleChange]);\n\n  return (\n    <UploadFormArea\n      ref={uploadFileContainer}\n      isDragging={isDragging}\n      onDrop={handleDragDrop}\n      onDragEnter={handleDrag}\n      onDragLeave={handleDrag}\n      onDragOver={disableDefaults}\n      data-testid=\"file-upload-drop-area\"\n    >\n      <LoadingIndicator isLoading={isLoading}>\n        <p>{__('Loading', 'web-stories')}</p>\n      </LoadingIndicator>\n      <UploadHelperText>{instructionalText}</UploadHelperText>\n\n      <StyledButton\n        forwardedAs=\"label\"\n        htmlFor={id}\n        aria-label={ariaLabel}\n        type={BUTTON_TYPES.PRIMARY}\n        size={BUTTON_SIZES.SMALL}\n      >\n        {label}\n        <Input\n          ref={fileInputRef}\n          type=\"file\"\n          id={id}\n          data-testid=\"upload-file-input\"\n          accept={acceptableFormats.join(',')}\n          multiple={isMultiple}\n          disabled={isLoading}\n          aria-live=\"polite\"\n          aria-busy={isLoading}\n        />\n      </StyledButton>\n    </UploadFormArea>\n  );\n};\n\nFileUpload.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  label: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool,\n  isMultiple: PropTypes.bool,\n  ariaLabel: PropTypes.string,\n  acceptableFormats: PropTypes.arrayOf(PropTypes.string),\n  instructionalText: PropTypes.string,\n};\n\nexport default FileUpload;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as CardGallery } from './cardGallery';\nexport { default as CardGrid } from './cardGrid';\nexport { default as CardGridItem } from './cardGridItem';\nexport { default as ColorList } from './colorList';\nexport { StandardViewContentGutter } from './contentGutter';\nexport { default as Dialog } from './dialog';\nexport { default as FileUpload } from './fileUpload';\nexport { default as InfiniteScroller } from './infiniteScroller';\nexport { default as InlineInputForm } from './inlineInputForm';\nexport { default as Layout, useLayoutContext } from './layout';\nexport {\n  AppFrame,\n  LeftRail,\n  LoadingContainer,\n  PageContent,\n  NavMenuButton,\n} from './pageStructure';\nexport { default as NavProvider, useNavContext } from './navProvider';\nexport { default as ScrollToTop } from './scrollToTop';\nexport {\n  default as StoryMenu,\n  MoreVerticalButton,\n  CONTEXT_MENU_BUTTON_CLASS,\n} from './storyMenu';\nexport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHeader,\n  StickyTableHeader,\n  TableHeaderCell,\n  TablePreviewCell,\n  TablePreviewHeaderCell,\n  TableTitleCell,\n  TableContentCell,\n  TableContentHeaderCell,\n  TableRow,\n  TableTitleHeaderCell,\n  TableAuthorHeaderCell,\n  TableDateHeaderCell,\n  TableStatusHeaderCell,\n  TableStatusCell,\n} from './table';\nexport { Tooltip } from './tooltip';\nexport { default as ViewStyleBar } from './viewStyleBar';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\nimport {\n  useEffect,\n  useRef,\n  useReducer,\n  useMemo,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  LoadingSpinner,\n  Text,\n  THEME_CONSTANTS,\n  themeHelpers,\n} from '@googleforcreators/design-system';\n\nconst ScrollMessage = styled.div`\n  width: 100%;\n  padding: 140px 0 40px;\n  margin: -100px auto 0;\n  text-align: center;\n\n  p {\n    color: ${({ theme }) => theme.colors.fg.tertiary};\n  }\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst AriaOnlyAlert = styled.span(themeHelpers.visuallyHidden);\n\nconst STATE = {\n  loadable: 'loadable',\n  loading_internal: 'loading_internal',\n  loading_external: 'loading_external',\n  complete: 'complete',\n};\n\nconst ACTION = {\n  ON_INTERNAL_LOAD: 'internal on load',\n  ON_EXTERNAL_LOAD: 'external on load',\n  ON_ALL_LOADED: 'all loaded',\n  ON_LOAD_SUCCESS: 'load success',\n  ON_CAN_LOAD_MORE: 'can load more',\n};\n\nconst machine = {\n  [STATE.loadable]: {\n    [ACTION.ON_INTERNAL_LOAD]: STATE.loading_internal,\n    [ACTION.ON_EXTERNAL_LOAD]: STATE.loading_external,\n  },\n  [STATE.loading_internal]: {\n    [ACTION.ON_ALL_LOADED]: STATE.complete,\n    [ACTION.ON_LOAD_SUCCESS]: STATE.loadable,\n  },\n  [STATE.loading_external]: {\n    [ACTION.ON_ALL_LOADED]: STATE.complete,\n    [ACTION.ON_LOAD_SUCCESS]: STATE.loadable,\n  },\n  [STATE.complete]: {\n    [ACTION.ON_CAN_LOAD_MORE]: STATE.loadable,\n  },\n};\n\nconst loadReducer = (state, action) => {\n  return machine[state][action] || state;\n};\n\nconst InfiniteScroller = ({\n  allDataLoadedMessage = __('No more stories', 'web-stories'),\n  allDataLoadedAriaMessage = __('All stories are loaded', 'web-stories'),\n  onLoadMore,\n  canLoadMore,\n  isLoading,\n  loadingAriaMessage = __('Loading more stories', 'web-stories'),\n}) => {\n  const loadingRef = useRef(null);\n  const onLoadMoreRef = useRef(onLoadMore);\n  onLoadMoreRef.current = onLoadMore;\n\n  const [loadState, dispatch] = useReducer(loadReducer, STATE.loadable);\n\n  const loadingAlert = useMemo(() => {\n    if (loadState === STATE.loading_internal) {\n      return loadingAriaMessage;\n    } else if (loadState !== STATE.loading_external && !canLoadMore) {\n      return allDataLoadedAriaMessage;\n    }\n    return null;\n  }, [allDataLoadedAriaMessage, loadingAriaMessage, loadState, canLoadMore]);\n\n  useEffect(() => {\n    if (loadState === STATE.loading_internal) {\n      onLoadMoreRef.current();\n    }\n  }, [loadState]);\n\n  useEffect(() => {\n    if (isLoading) {\n      dispatch(ACTION.ON_EXTERNAL_LOAD);\n    }\n  }, [isLoading]);\n\n  useEffect(() => {\n    if (!isLoading) {\n      dispatch(canLoadMore ? ACTION.ON_LOAD_SUCCESS : ACTION.ON_ALL_LOADED);\n    }\n  }, [isLoading, canLoadMore]);\n\n  useEffect(() => {\n    if (canLoadMore) {\n      dispatch(ACTION.ON_CAN_LOAD_MORE);\n    }\n  }, [canLoadMore]);\n\n  useEffect(() => {\n    if (!loadingRef.current) {\n      return () => {};\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            dispatch(ACTION.ON_INTERNAL_LOAD);\n          }\n        });\n      },\n      {\n        rootMargin: '0px',\n        threshold: 0,\n      }\n    );\n\n    const triggerEl = loadingRef.current;\n    observer.observe(triggerEl);\n    return () => {\n      observer.unobserve(triggerEl);\n    };\n  }, []);\n\n  const loadingContent = useMemo(() => {\n    if (loadState === STATE.loading_external) {\n      return null;\n    }\n\n    if (!canLoadMore) {\n      return (\n        <Text size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {allDataLoadedMessage}\n        </Text>\n      );\n    }\n\n    return (\n      <LoadingContainer>\n        <LoadingSpinner animationSize={50} circleSize={6} />\n      </LoadingContainer>\n    );\n  }, [allDataLoadedMessage, canLoadMore, loadState]);\n\n  return (\n    <ScrollMessage data-testid=\"load-more-on-scroll\" ref={loadingRef}>\n      {loadingAlert && (\n        <AriaOnlyAlert role=\"status\">{loadingAlert}</AriaOnlyAlert>\n      )}\n      {loadingContent}\n    </ScrollMessage>\n  );\n};\n\nInfiniteScroller.propTypes = {\n  isLoading: PropTypes.bool,\n  onLoadMore: PropTypes.func.isRequired,\n  allDataLoadedMessage: PropTypes.string,\n  allDataLoadedAriaMessage: PropTypes.string,\n  canLoadMore: PropTypes.bool,\n  loadingAriaMessage: PropTypes.string,\n};\nexport default InfiniteScroller;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  useFocusOut,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\nimport { Input } from '@googleforcreators/design-system';\n\nconst StyledInput = styled(Input)`\n  div {\n    height: auto;\n  }\n  ${({ $isInverted, theme }) =>\n    $isInverted &&\n    css`\n      input {\n        color: ${theme.colors.inverted.fg.primary};\n      }\n    `}\n`;\n\nconst InlineInputForm = ({\n  noAutoFocus,\n  error,\n  id,\n  isInverted,\n  label,\n  onEditCancel,\n  onEditComplete,\n  placeholder,\n  value,\n}) => {\n  const inputContainerRef = useRef(null);\n  const [newValue, setNewValue] = useState(value);\n\n  useEffect(() => {\n    // update internal value when `value` prop updates\n    setNewValue(value);\n  }, [value]);\n\n  useFocusOut(\n    inputContainerRef,\n    () => {\n      // cancel changes when user focuses away from input\n      onEditCancel();\n    },\n    [onEditCancel]\n  );\n\n  useEffect(() => {\n    if (!noAutoFocus && inputContainerRef.current) {\n      inputContainerRef.current.querySelector('input')?.focus();\n    }\n  }, [noAutoFocus]);\n\n  const handleChange = useCallback(\n    ({ target }) => {\n      setNewValue(target.value);\n    },\n    [setNewValue]\n  );\n\n  const handleKeyPress = useCallback(\n    ({ nativeEvent }) => {\n      if (nativeEvent.keyCode === 13) {\n        onEditComplete(newValue);\n      } else if (nativeEvent.keyCode === 27) {\n        onEditCancel();\n      }\n    },\n    [newValue, onEditComplete, onEditCancel]\n  );\n  return (\n    <div ref={inputContainerRef}>\n      <StyledInput\n        aria-label={label}\n        id={`${id}`}\n        data-testid=\"inline-input-form\"\n        value={newValue}\n        onKeyDown={handleKeyPress}\n        onChange={handleChange}\n        placeholder={placeholder}\n        hasError={Boolean(error)}\n        hint={error}\n        $isInverted={isInverted}\n      />\n    </div>\n  );\n};\n\nInlineInputForm.propTypes = {\n  error: PropTypes.string,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  isInverted: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  noAutoFocus: PropTypes.bool,\n  onEditCancel: PropTypes.func.isRequired,\n  onEditComplete: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n};\n\nexport default InlineInputForm;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  usePrevious,\n  useRef,\n  useState,\n} from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { trackScreenView } from '@googleforcreators/tracking';\nimport { Snackbar, useSnackbar } from '@googleforcreators/design-system';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { ExploreTemplatesView, MyStoriesView } from '../../app/views';\nimport { APP_ROUTES, ROUTE_TITLES } from '../../constants';\nimport { Route, useRouteHistory } from '../../app/router';\nimport { AppFrame, LeftRail, PageContent } from '../pageStructure';\nimport useApiAlerts from '../../app/api/useApiAlerts';\nimport useApi from '../../app/api/useApi';\nimport { useConfig } from '../../app/config';\n\nconst InterfaceSkeleton = ({ additionalRoutes }) => {\n  const { currentPath, templateId, availableRoutes } = useRouteHistory(\n    ({ state }) => ({\n      ...state,\n      templateId: state.queryParams.id,\n    })\n  );\n  const { push, setAvailableRoutes } = useRouteHistory(\n    ({ actions }) => actions\n  );\n\n  const {\n    canViewDefaultTemplates,\n    leftRailSecondaryNavigation = [],\n    documentTitleSuffix = __('Web Stories', 'web-stories'),\n  } = useConfig();\n\n  const { addInitialFetchListener } = useApi(\n    ({\n      actions: {\n        storyApi: { addInitialFetchListener },\n      },\n      state: {\n        templates: { templates },\n      },\n    }) => ({\n      currentTemplate:\n        templateId !== undefined ? templates[templateId]?.title : undefined,\n      addInitialFetchListener,\n    })\n  );\n  const isFirstLoadOnMyStories = useRef(currentPath === APP_ROUTES.DASHBOARD);\n  const [isRedirectComplete, setIsRedirectComplete] = useState(\n    !isFirstLoadOnMyStories.current\n  );\n\n  // Direct user to templates on first load if they\n  // have no stories created.\n  useEffect(() => {\n    return addInitialFetchListener?.((storyStatuses) => {\n      if (\n        storyStatuses?.all <= 0 &&\n        isFirstLoadOnMyStories.current &&\n        canViewDefaultTemplates\n      ) {\n        push(APP_ROUTES.TEMPLATES_GALLERY);\n      }\n      setIsRedirectComplete(true);\n    });\n  }, [addInitialFetchListener, push, currentPath, canViewDefaultTemplates]);\n\n  // Only set the available routes & default route on initial mount\n  useEffect(() => {\n    if (availableRoutes.length > 0) {\n      return;\n    }\n    const additionalPaths = additionalRoutes\n      ? additionalRoutes.map(({ path }) => path)\n      : [];\n    setAvailableRoutes([...Object.values(APP_ROUTES), ...additionalPaths]);\n  }, [additionalRoutes, availableRoutes.length, setAvailableRoutes]);\n\n  useEffect(() => {\n    if (!isRedirectComplete) {\n      return;\n    }\n\n    const additionalRouteTitle = leftRailSecondaryNavigation.find(\n      (config) => config.value === currentPath\n    );\n    const dynamicPageTitle =\n      ROUTE_TITLES[currentPath] ||\n      additionalRouteTitle?.label ||\n      ROUTE_TITLES.DEFAULT;\n\n    document.title = sprintf(\n      /* translators: Admin screen title. 1: Admin screen name, 2: Network or site name. */\n      __('%1$s \\u2039 %2$s', 'web-stories'),\n      dynamicPageTitle,\n      documentTitleSuffix\n    );\n\n    trackScreenView(dynamicPageTitle);\n  }, [\n    currentPath,\n    isRedirectComplete,\n    leftRailSecondaryNavigation,\n    documentTitleSuffix,\n  ]);\n\n  useApiAlerts();\n  const { clearSnackbar, removeSnack, placement, currentSnacks } =\n    useSnackbar();\n\n  // if the current path changes clear the snackbar\n  const prevPath = usePrevious(currentPath);\n\n  useEffect(() => {\n    if (currentPath !== prevPath) {\n      clearSnackbar();\n    }\n  }, [clearSnackbar, currentPath, prevPath]);\n\n  return (\n    <>\n      <AppFrame>\n        <LeftRail />\n        <PageContent>\n          <Route\n            exact\n            isDefault\n            path={APP_ROUTES.DASHBOARD}\n            component={<MyStoriesView />}\n          />\n          {canViewDefaultTemplates && (\n            <Route\n              path={APP_ROUTES.TEMPLATES_GALLERY}\n              component={<ExploreTemplatesView />}\n            />\n          )}\n          {additionalRoutes &&\n            additionalRoutes.map((routeProps) => (\n              <Route key={routeProps.path} {...routeProps} />\n            ))}\n        </PageContent>\n      </AppFrame>\n      <Snackbar.Container\n        notifications={currentSnacks}\n        onRemove={removeSnack}\n        placement={placement}\n        max={1}\n      />\n    </>\n  );\n};\n\nInterfaceSkeleton.propTypes = {\n  additionalRoutes: PropTypes.array,\n};\n\nexport default InterfaceSkeleton;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { Z_INDEX } from '../../constants';\n\nconst FixedContent = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${Z_INDEX.LAYOUT_FIXED};\n  overflow: hidden;\n\n  /**\n   * This is an absolute positioned full size\n   * overlay over the scrollable content. being\n   * such, we don't want it to block pointer\n   * events to the scrollable and squishable\n   * content.\n   */\n  pointer-events: none;\n\n  /**\n   * Not sure how much I like this because\n   * it will be a higher specificity than a\n   * styled declaration, but I don't want\n   * devs to have to declare this on every\n   * component in this view.\n   */\n  & > * {\n    pointer-events: auto;\n  }\n`;\n\nconst Fixed = ({ children }) => <FixedContent>{children}</FixedContent>;\n\nFixed.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Fixed;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport Provider from './provider';\nimport Scrollable from './scrollable';\nimport Fixed from './fixed';\n\nconst Layout = {\n  Provider,\n  Scrollable,\n  Fixed,\n};\n\nexport default Layout;\nexport { default as useLayoutContext } from './useLayoutContext';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n  createContext,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\n\nexport const LayoutContext = createContext(null);\n\nconst Provider = ({ children }) => {\n  const firstFocusableContentRef = useRef();\n  const scrollFrameRef = useRef(null);\n\n  // Get the first focusable content in the dashboard\n  // so we can send focus there without having to\n  // tab through the whole WordPress dashboard to get back.\n  useEffect(() => {\n    firstFocusableContentRef.current = document\n      ?.getElementById('web-stories-dashboard')\n      ?.querySelector(['button', 'a']);\n  }, []);\n\n  const scrollToTop = useCallback(() => {\n    document.documentElement?.scrollTo?.({\n      top: 0,\n      behavior: 'smooth',\n    });\n    firstFocusableContentRef.current?.focus();\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      state: {\n        scrollFrameRef,\n      },\n      actions: {\n        scrollToTop,\n      },\n    }),\n    [scrollToTop]\n  );\n\n  return (\n    <LayoutContext.Provider value={value}>{children}</LayoutContext.Provider>\n  );\n};\n\nProvider.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Provider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport useLayoutContext from './useLayoutContext';\n\nconst ScrollContent = styled.div`\n  @media (max-width: 480px) {\n    display: flex;\n    flex-flow: column;\n  }\n`;\n\nconst Scrollable = ({ children }) => {\n  const {\n    state: { scrollFrameRef },\n  } = useLayoutContext();\n  return <ScrollContent ref={scrollFrameRef}>{children}</ScrollContent>;\n};\n\nScrollable.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Scrollable;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useContext } from '@googleforcreators/react';\n/**\n * Internal dependencies\n */\nimport { LayoutContext } from './provider';\n\nconst useLayoutContext = () => {\n  const context = useContext(LayoutContext);\n  if (!context) {\n    throw new Error(\n      'useLayoutContext() must be used within a <Layout.Provider />'\n    );\n  }\n  return context;\n};\n\nexport default useLayoutContext;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useMemo,\n  useState,\n  createContext,\n  useContextSelector,\n  identity,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\n\nexport const NavContext = createContext({ actions: {}, state: {} });\n\nexport function useNavContext(selector = identity) {\n  return useContextSelector(NavContext, selector);\n}\n\nexport default function NavProvider({ children }) {\n  const [sideBarVisible, setSideBarVisible] = useState(false);\n\n  const toggleSideBar = useCallback(() => {\n    setSideBarVisible(!sideBarVisible);\n  }, [sideBarVisible]);\n\n  const value = useMemo(\n    () => ({\n      actions: { toggleSideBar },\n      state: { sideBarVisible },\n    }),\n    [sideBarVisible, toggleSideBar]\n  );\n\n  return <NavContext.Provider value={value}>{children}</NavContext.Provider>;\n}\n\nNavProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './pageStructureComponents';\nexport { default as LeftRail } from './leftRail';\nexport { default as NavMenuButton } from './menuButton';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useFocusOut,\n  useLayoutEffect,\n  useRef,\n} from '@googleforcreators/react';\nimport { trackClick, trackEvent } from '@googleforcreators/tracking';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  LogoWithTypeCircleColor,\n  Text,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { resolveRoute, useRouteHistory } from '../../app/router';\nimport { useNavContext } from '../navProvider';\nimport { useConfig } from '../../app';\nimport { APP_ROUTES, PRIMARY_PATHS } from '../../constants';\nimport {\n  AppInfo,\n  Content,\n  Header,\n  NavLink,\n  NavList,\n  NavListItem,\n  PathName,\n} from './navigationComponents';\nimport { LeftRailContainer } from './pageStructureComponents';\n\nconst IconWrap = styled.div`\n  position: relative;\n`;\n\nfunction LeftRail() {\n  const activeRoute = useRouteHistory(({ state }) => state.activeRoute);\n\n  const {\n    newStoryURL,\n    version,\n    leftRailSecondaryNavigation,\n    canViewDefaultTemplates,\n    styleConstants: { topOffset },\n  } = useConfig();\n  const leftRailRef = useRef(null);\n  const upperContentRef = useRef(null);\n\n  const {\n    state: { sideBarVisible },\n    actions: { toggleSideBar },\n  } = useNavContext();\n\n  const onContainerClickCapture = useCallback(\n    ({ target }) => {\n      if (\n        target === leftRailRef.current ||\n        target === upperContentRef.current\n      ) {\n        return;\n      }\n      toggleSideBar();\n    },\n    [toggleSideBar, leftRailRef, upperContentRef]\n  );\n\n  const handleSideBarClose = useCallback(() => {\n    if (sideBarVisible) {\n      toggleSideBar();\n    }\n  }, [toggleSideBar, sideBarVisible]);\n\n  useFocusOut(leftRailRef, handleSideBarClose, [sideBarVisible]);\n\n  useLayoutEffect(() => {\n    if (sideBarVisible && leftRailRef.current) {\n      leftRailRef.current.focus();\n    }\n  }, [sideBarVisible]);\n\n  const onCreateNewStoryClick = useCallback(() => {\n    trackEvent('create_new_story');\n  }, []);\n\n  const onExternalLinkClick = useCallback((evt, path) => {\n    trackClick(evt, path.trackingEvent);\n  }, []);\n\n  return (\n    <LeftRailContainer\n      onClickCapture={onContainerClickCapture}\n      ref={leftRailRef}\n      isOpen={sideBarVisible}\n      topOffset={topOffset}\n      role=\"navigation\"\n      aria-label={__('Main dashboard navigation', 'web-stories')}\n    >\n      <div ref={upperContentRef}>\n        <Header forwardedAs=\"h2\">\n          <LogoWithTypeCircleColor\n            title={__('Web Stories Dashboard', 'web-stories')}\n          />\n        </Header>\n        <Content>\n          <Button\n            type={BUTTON_TYPES.QUATERNARY}\n            size={BUTTON_SIZES.SMALL}\n            href={newStoryURL}\n            onClick={onCreateNewStoryClick}\n          >\n            {__('Create New Story', 'web-stories')}\n          </Button>\n        </Content>\n        <Content>\n          <NavList>\n            {PRIMARY_PATHS.map(({ Icon, ...path }) => {\n              const isTemplatesDisabled =\n                path.value === APP_ROUTES.TEMPLATES_GALLERY &&\n                !canViewDefaultTemplates;\n\n              if (isTemplatesDisabled) {\n                return null;\n              }\n\n              return (\n                <NavListItem key={path.value}>\n                  <NavLink\n                    active={activeRoute === path.value}\n                    href={resolveRoute(path.value)}\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                    isBold\n                    isIconLink={Boolean(Icon)}\n                    aria-label={\n                      activeRoute === path.value\n                        ? sprintf(\n                            /* translators: %s: the current page, for example \"Dashboard\". */\n                            __('%s (active view)', 'web-stories'),\n                            path.label\n                          )\n                        : path.label\n                    }\n                    {...(path.isExternal && {\n                      rel: 'noreferrer',\n                      target: '_blank',\n                      onClick: (evt) => onExternalLinkClick(evt, path),\n                    })}\n                  >\n                    <IconWrap>{Icon && <Icon width=\"22px\" />}</IconWrap>\n\n                    <PathName as=\"span\" isBold>\n                      {path.label}\n                    </PathName>\n                  </NavLink>\n                </NavListItem>\n              );\n            })}\n          </NavList>\n        </Content>\n      </div>\n      <Content>\n        {leftRailSecondaryNavigation && (\n          <NavList>\n            {leftRailSecondaryNavigation.map((path) => (\n              <NavListItem key={path.value}>\n                <NavLink\n                  active={activeRoute === path.value}\n                  href={resolveRoute(path.value)}\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                  aria-label={\n                    activeRoute === path.value\n                      ? sprintf(\n                          /* translators: %s: the current page, for example \"Dashboard\". */\n                          __('%s (active view)', 'web-stories'),\n                          path.label\n                        )\n                      : path.label\n                  }\n                  {...(path.isExternal && {\n                    rel: 'noreferrer',\n                    target: '_blank',\n                    onClick: (evt) => onExternalLinkClick(evt, path),\n                  })}\n                >\n                  <Text\n                    as=\"span\"\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                    isBold\n                  >\n                    {path.label}\n                  </Text>\n                </NavLink>\n              </NavListItem>\n            ))}\n          </NavList>\n        )}\n        <AppInfo size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}>\n          {sprintf(\n            /* translators: 1: Current Year, 2: App Version */\n            __('\\u00A9 %1$s Google Version %2$s', 'web-stories'),\n            new Date().getFullYear(),\n            version\n          )}\n        </AppInfo>\n      </Content>\n    </LeftRailContainer>\n  );\n}\n\nexport default LeftRail;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { __ } from '@googleforcreators/i18n';\nimport { themeHelpers } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { MIN_DASHBOARD_WIDTH } from '../../constants';\nimport { Menu as MenuSvg } from '../../icons';\nimport { useNavContext } from '../navProvider';\n\nconst MenuIcon = styled(MenuSvg).attrs({ width: 24, height: 24 })`\n  display: block;\n  color: ${({ theme }) => theme.colors.interactiveFg.brandNormal};\n`;\n\nconst TransparentButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  margin-right: 16px;\n  background: transparent;\n  border: 0;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n  ${themeHelpers.focusableOutlineCSS}\n\n  ${({ showOnlyOnSmallViewport }) =>\n    showOnlyOnSmallViewport &&\n    css`\n      display: none;\n      @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n        display: inline-block;\n        flex-grow:1;\n      }\n    `}\n`;\n\nfunction NavMenuButton({ showOnlyOnSmallViewport }) {\n  const { actions } = useNavContext();\n  return (\n    <TransparentButton\n      onClick={actions.toggleSideBar}\n      showOnlyOnSmallViewport={showOnlyOnSmallViewport}\n      aria-label={__('Toggle main navigation', 'web-stories')}\n    >\n      <MenuIcon aria-hidden />\n    </TransparentButton>\n  );\n}\n\nNavMenuButton.propTypes = {\n  showOnlyOnSmallViewport: PropTypes.bool,\n};\n\nexport default NavMenuButton;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport { Headline, Link, Text } from '@googleforcreators/design-system';\n\nexport const Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n  > * {\n    margin: 20px 28px;\n  }\n`;\n\nexport const Header = styled(Headline)`\n  margin: 42px 0px 72px;\n\n  & > svg {\n    margin: 0 28px;\n    height: 64px;\n  }\n`;\n\nexport const NavList = styled.ul`\n  margin: 0;\n  padding: 0;\n`;\n\nexport const NavListItem = styled.li`\n  margin: 10px 28px;\n  padding: 0;\n  list-style-type: none;\n`;\n\nconst activeLinkCss = css`\n  span {\n    color: ${({ theme }) => theme.colors.interactiveFg.brandPress};\n  }\n\n  svg path {\n    stroke: ${({ theme }) => theme.colors.interactiveFg.brandPress};\n  }\n`;\n\nexport const NavLink = styled(Link)(\n  ({ active, theme, isIconLink }) => css`\n    ${isIconLink &&\n    css`\n      display: grid;\n      grid-template-columns: 1fr 4fr;\n      grid-template-areas: 'icon link link link link';\n    `}\n    color: ${theme.colors.fg.secondary};\n\n    * {\n      transition: color 0.25s linear, stroke 0.25s linear;\n    }\n\n    ${active && activeLinkCss};\n\n    :hover {\n      ${activeLinkCss};\n    }\n  `\n);\n\nexport const PathName = styled(Text)`\n  grid-area: link;\n`;\n\nexport const AppInfo = styled(Text)(\n  ({ theme }) => css`\n    color: ${theme.colors.fg.secondary};\n  `\n);\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { BEZIER } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  Z_INDEX,\n  DASHBOARD_LEFT_NAV_WIDTH,\n  MIN_DASHBOARD_WIDTH,\n} from '../../constants';\n\nexport const AppFrame = styled.div`\n  width: 100%;\n  @media (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n    width: ${MIN_DASHBOARD_WIDTH}px;\n  }\n  @media (max-width: 480px) {\n    width: 100%;\n  }\n`;\n\nexport const PageContent = styled.div`\n  position: relative;\n  padding-top: 10px;\n  width: ${({ fullWidth }) =>\n    fullWidth ? '100%' : `calc(100% - ${DASHBOARD_LEFT_NAV_WIDTH}px)`};\n  left: ${({ fullWidth }) =>\n    fullWidth ? '0' : `${DASHBOARD_LEFT_NAV_WIDTH}px`};\n\n  @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n    left: 0;\n    width: 100%;\n  }\n`;\n\nexport const LeftRailContainer = styled.nav.attrs({\n  ['data-testid']: 'dashboard-left-rail',\n})`\n  position: fixed;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  top: ${({ topOffset }) => `${topOffset}px`};\n  bottom: 0;\n  width: ${DASHBOARD_LEFT_NAV_WIDTH}px;\n  background: ${({ theme }) => theme.colors.bg.primary};\n  z-index: ${Z_INDEX.LAYOUT_FIXED};\n  transition: transform 0.25s ${BEZIER.outCubic}, opacity 0.25s linear;\n\n  @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n    padding-left: 0;\n    opacity: ${({ isOpen }) => (isOpen ? 1 : 0)};\n    visibility: ${({ isOpen }) => (isOpen ? 'visible' : 'hidden')};\n    transform: translateX(${({ isOpen }) => (isOpen ? 'none' : `-100%`)});\n  }\n`;\n\nexport const LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 550px;\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport { STORY_CONTEXT_MENU_ACTIONS } from '../../constants';\nimport { noop } from '../../utils';\n\n/**\n * Generate story menu.\n *\n * @param {Object} arguments The arguments\n * @param {Array} arguments.menuItems The menu items to build out\n * @param {Object} arguments.story The story used to generate the menu items\n * @param {boolean} arguments.isLocked Communicates if the story is locked by another user so we can disable any actions necessary\n * @return {Array} Array of menu items\n */\nexport const generateStoryMenu = ({ menuItems, story, isLocked }) => {\n  const defaultFn = menuItems.default ? () => menuItems.default(story) : noop;\n  const getMenuItem = (value) =>\n    menuItems.find((item) => item?.value === value);\n\n  const menuItemsFiltered = menuItems.filter(\n    (item) => typeof item.isEnabled === 'undefined' || item.isEnabled(story)\n  );\n\n  return menuItemsFiltered.map(({ capability, value, ...menuItem }) => {\n    const menu = getMenuItem(value);\n    const extraProperties = {\n      onClick: menu ? () => menu['action'](story) : defaultFn,\n    };\n\n    switch (value) {\n      case STORY_CONTEXT_MENU_ACTIONS.OPEN_IN_EDITOR:\n        extraProperties.href = story.bottomTargetAction;\n        extraProperties.openNewTab = false;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.OPEN_STORY_LINK:\n        extraProperties.href = story.previewLink;\n        extraProperties.openNewTab = true;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.RENAME:\n      case STORY_CONTEXT_MENU_ACTIONS.DELETE:\n        extraProperties.disabled = isLocked;\n        break;\n      default:\n        break;\n    }\n\n    // Since action was already used in onClick, and it would become an invalid attribute value for <a> or <button> tag.\n    delete menuItem?.action;\n\n    return {\n      ...menuItem,\n      ...extraProperties,\n    };\n  });\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useState,\n  useDebouncedCallback,\n} from '@googleforcreators/react';\nimport styled, { css } from 'styled-components';\nimport { __ } from '@googleforcreators/i18n';\nimport {\n  Button,\n  BUTTON_VARIANTS,\n  Icons,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { useLayoutContext } from '../layout';\n\nconst StyledButton = styled(Button)(\n  ({ $isVisible, theme }) => css`\n    position: fixed;\n    right: 40px;\n    bottom: 40px;\n    height: 50px;\n    width: 50px;\n    display: flex;\n    align-self: center;\n    justify-content: space-around;\n    align-items: center;\n    contain: content;\n    padding: 8px;\n    background-color: ${theme.colors.opacity.white64};\n    pointer-events: ${$isVisible ? 'auto' : 'none'};\n    box-shadow: 0px 4px 14px rgba(0, 0, 0, 0.25);\n    opacity: ${Number($isVisible)};\n    transition: opacity 300ms ease-in-out;\n  `\n);\n\nconst DropUpArrowIcon = styled(Icons.ChevronUp)`\n  position: relative;\n  transform: scale(2.4);\n`;\n\nconst ScrollToTop = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  const {\n    actions: { scrollToTop },\n  } = useLayoutContext();\n\n  const handleScroll = useDebouncedCallback(\n    () => setIsVisible(window.scrollY > 0),\n    100\n  );\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return function () {\n      window.removeEventListener('scroll', handleScroll, { passive: true });\n    };\n  }, [handleScroll]);\n\n  return (\n    <StyledButton\n      disabled={!isVisible}\n      aria-label={__('Scroll back to top', 'web-stories')}\n      data-testid=\"scroll-to-top-button\"\n      $isVisible={isVisible}\n      onClick={scrollToTop}\n      variant={BUTTON_VARIANTS.CIRCLE}\n    >\n      <DropUpArrowIcon aria-hidden />\n    </StyledButton>\n  );\n};\n\nexport default ScrollToTop;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Fragment, useCallback } from '@googleforcreators/react';\nimport {\n  ContextMenu,\n  ContextMenuComponents,\n  themeHelpers,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { MoreVertical as MoreVerticalSvg } from '../../icons';\n\nexport const CONTEXT_MENU_BUTTON_CLASS = 'context-menu-button';\n\nexport const MoreVerticalButton = styled.button`\n  display: flex;\n  background: transparent;\n  padding: 0 8px;\n  opacity: ${({ menuOpen, isVisible }) => (menuOpen || isVisible ? 1 : 0)};\n  transition: opacity ease-in-out 300ms;\n  cursor: pointer;\n  color: ${({ theme, $isInverted }) =>\n    $isInverted\n      ? theme.colors.inverted.fg.primary\n      : theme.colors.interactiveFg.brandNormal};\n  & > svg {\n    width: 4px;\n    max-height: 100%;\n  }\n\n  border: 0;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n\n  ${({ theme, $isInverted }) =>\n    themeHelpers.focusableOutlineCSS(\n      false,\n      $isInverted ? theme.colors.standard.black : false\n    )};\n`;\n\nMoreVerticalButton.propTypes = {\n  menuOpen: PropTypes.bool,\n};\n\nconst MenuContainer = styled.div`\n  position: relative;\n  align-self: ${({ verticalAlign = 'flex-start' }) => verticalAlign};\n  text-align: right;\n  ${({ $menuStyleOverrides }) => $menuStyleOverrides}\n\n  & > div {\n    margin: 0; /* 0 out margin that is needed by default on other instances of popover menus */\n  }\n`;\n\nMenuContainer.propTypes = {\n  verticalAlign: PropTypes.oneOf(['center', 'flex-start', 'flex-end']),\n};\n\nexport default function StoryMenu({\n  contextMenuId,\n  onMoreButtonSelected,\n  storyId,\n  verticalAlign,\n  menuItems,\n  itemActive,\n  tabIndex,\n  menuStyleOverrides,\n  menuLabel,\n  isInverted,\n}) {\n  const isPopoverMenuOpen = contextMenuId === storyId;\n\n  const handleDismiss = useCallback(\n    (evt) => onMoreButtonSelected(evt, -1),\n    [onMoreButtonSelected]\n  );\n\n  return (\n    <MenuContainer\n      verticalAlign={verticalAlign}\n      data-testid={`story-context-menu-${storyId}`}\n      $menuStyleOverrides={menuStyleOverrides}\n    >\n      <MoreVerticalButton\n        data-testid={`story-context-button-${storyId}`}\n        tabIndex={tabIndex}\n        menuOpen={isPopoverMenuOpen}\n        isVisible={itemActive}\n        aria-label={menuLabel || __('More Options', 'web-stories')}\n        onClick={(evt) =>\n          onMoreButtonSelected(evt, isPopoverMenuOpen ? -1 : storyId)\n        }\n        className={CONTEXT_MENU_BUTTON_CLASS}\n        $isInverted={isInverted}\n      >\n        <MoreVerticalSvg />\n      </MoreVerticalButton>\n      <ContextMenu animate isOpen={isPopoverMenuOpen} onDismiss={handleDismiss}>\n        {menuItems.map(({ label, separator, ...props }) => {\n          // eslint-disable-next-line react/prop-types -- map is not picking up definition from StoryMenu proptypes.\n          const MenuItem = props.href\n            ? ContextMenuComponents.MenuLink\n            : ContextMenuComponents.MenuButton;\n\n          return (\n            <Fragment key={label}>\n              {separator === 'top' && <ContextMenuComponents.MenuSeparator />}\n              <MenuItem {...props}>{label}</MenuItem>\n              {separator === 'bottom' && (\n                <ContextMenuComponents.MenuSeparator />\n              )}\n            </Fragment>\n          );\n        })}\n      </ContextMenu>\n    </MenuContainer>\n  );\n}\n\nStoryMenu.propTypes = {\n  isInverted: PropTypes.bool,\n  itemActive: PropTypes.bool,\n  tabIndex: PropTypes.number,\n  storyId: PropTypes.number.isRequired,\n  onMoreButtonSelected: PropTypes.func.isRequired,\n  contextMenuId: PropTypes.number.isRequired,\n  menuItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      disabled: PropTypes.bool,\n      href: PropTypes.string,\n      label: PropTypes.string.isRequired,\n      openNewTab: PropTypes.bool,\n      onClick: PropTypes.func,\n      onFocus: PropTypes.func,\n    })\n  ).isRequired,\n  menuLabel: PropTypes.string,\n  menuStyleOverrides: PropTypes.array,\n  verticalAlign: PropTypes.oneOf(['center', 'flex-start', 'flex-end']),\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { themeHelpers } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { STORY_PREVIEW_WIDTH, VIEWPORT_BREAKPOINT } from '../../constants';\n\nconst CELL_PADDING = 16;\n\nexport const Table = styled.table`\n  ${themeHelpers.expandTextPreset(\n    ({ paragraph }, { SMALL }) => paragraph[SMALL]\n  )}\n  border-collapse: collapse;\n  width: inherit;\n`;\n\nexport const TableBody = styled.tbody``;\n\nexport const TableHeader = styled.thead`\n  background: ${({ theme }) => theme.colors.bg.secondary};\n`;\n\nexport const StickyTableHeader = styled(TableHeader)`\n  width: 100%;\n  border-top: 0;\n  border-bottom: 0;\n\n  th {\n    height: 100%;\n    background: ${({ theme }) => theme.colors.bg.secondary};\n    position: sticky;\n    z-index: 2;\n    top: ${({ topOffset }) => `${topOffset}px`};\n\n    :first-child {\n      border-top-left-radius: ${({ theme }) => theme.borders.radius.small};\n      border-bottom-left-radius: ${({ theme }) => theme.borders.radius.small};\n    }\n\n    :last-child {\n      border-top-right-radius: ${({ theme }) => theme.borders.radius.small};\n      border-bottom-right-radius: ${({ theme }) => theme.borders.radius.small};\n    }\n  }\n`;\n\nexport const TableHeaderCell = styled.th`\n  padding: 16px;\n  text-align: left;\n  white-space: nowrap;\n`;\n\nexport const TablePreviewHeaderCell = styled(TableHeaderCell)`\n  padding-right: 0;\n`;\n\nexport const TableDateHeaderCell = styled(TableHeaderCell)`\n  min-width: 160px;\n`;\n\nexport const TableStatusHeaderCell = styled(TableHeaderCell)`\n  display: table-cell;\n  min-width: 100px;\n\n  @media ${({ theme }) => theme.breakpoint.tabletMax} {\n    display: none;\n  }\n`;\n\nexport const TableAuthorHeaderCell = styled(TableHeaderCell)`\n  min-width: 110px;\n`;\n\nexport const TableTitleHeaderCell = styled(TableHeaderCell)`\n  padding-left: 0;\n  width: 30%;\n  min-width: 135px;\n\n  span {\n    display: none;\n    margin-right: 5px;\n  }\n`;\n\nexport const TableContentHeaderCell = styled(TableHeaderCell)`\n  width: 17.5%;\n  min-width: 150px;\n`;\n\nexport const TableRow = styled.tr`\n  min-width: 1250px;\n\n  @media ${({ theme }) => theme.breakpoint.tabletMax} {\n    min-width: 0;\n  }\n`;\n\nexport const TableCell = styled.td`\n  padding: ${CELL_PADDING}px;\n  font-weight: normal;\n  word-break: break-word;\n  height: ${CELL_PADDING * 2 + 50}px;\n  vertical-align: middle;\n\n  span {\n    color: ${({ theme }) => theme.colors.standard.black};\n    line-height: 20px;\n  }\n`;\n\nexport const TableStatusCell = styled(TableCell)`\n  display: table-cell;\n\n  span {\n    color: ${({ theme }) => theme.colors.fg.secondary};\n  }\n\n  @media ${({ theme }) => theme.breakpoint.tabletMax} {\n    display: none;\n  }\n`;\n\nexport const TableTitleCell = styled(TableCell)`\n  width: 30%;\n  word-wrap: break-word;\n`;\n\nexport const TableContentCell = styled(TableCell)`\n  width: 17.5%;\n  min-width: 150px;\n  word-wrap: break-word;\n`;\n\nexport const TablePreviewCell = styled(TableCell)`\n  width: ${STORY_PREVIEW_WIDTH[VIEWPORT_BREAKPOINT.THUMBNAIL]}px;\n`;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as Tooltip } from './tooltip';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  TOOLTIP_RTL_PLACEMENT,\n  BaseTooltip,\n  TooltipPropTypes,\n  TOOLTIP_PLACEMENT,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../../app/config';\n\nexport default function Tooltip({\n  placement = TOOLTIP_PLACEMENT.BOTTOM,\n  ...props\n}) {\n  const { isRTL } = useConfig();\n  const derivedPlacement = isRTL ? TOOLTIP_RTL_PLACEMENT[placement] : placement;\n\n  return (\n    <BaseTooltip\n      placement={derivedPlacement}\n      //TODO: https://github.com/GoogleForCreators/web-stories-wp/issues/11200\n      ignoreMaxOffsetY\n      {...props}\n    />\n  );\n}\nTooltip.propTypes = TooltipPropTypes;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\nexport const ColorType = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n});\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  Icons,\n  themeHelpers,\n  TOOLTIP_PLACEMENT,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { VIEW_STYLE, VIEW_STYLE_LABELS } from '../../constants';\nimport { Tooltip } from '../tooltip';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\nconst ToggleButton = styled.button`\n  border: none;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n  ${themeHelpers.focusableOutlineCSS}\n  padding: 0;\n  background: transparent;\n  cursor: pointer;\n\n  &:hover svg {\n    color: ${({ theme }) => theme.colors.interactiveFg.hover};\n  }\n  &:active svg {\n    color: ${({ theme }) => theme.colors.interactiveFg.active};\n  }\n`;\n\nexport default function ViewStyleBar({ onPress, layoutStyle }) {\n  return (\n    <Container>\n      <Tooltip\n        title={VIEW_STYLE_LABELS[layoutStyle]}\n        placement={TOOLTIP_PLACEMENT.BOTTOM_END}\n        hasTail\n      >\n        <ToggleButton\n          aria-label={VIEW_STYLE_LABELS[layoutStyle]}\n          onClick={onPress}\n        >\n          {layoutStyle === VIEW_STYLE.GRID && (\n            <Icons.Table height=\"32px\" width=\"32px\" data-testid=\"list-icon\" />\n          )}\n          {layoutStyle === VIEW_STYLE.LIST && (\n            <Icons.Box4 height=\"32px\" width=\"32px\" data-testid=\"grid-icon\" />\n          )}\n        </ToggleButton>\n      </Tooltip>\n    </Container>\n  );\n}\n\nViewStyleBar.propTypes = {\n  onPress: PropTypes.func,\n  layoutStyle: PropTypes.oneOf([VIEW_STYLE.GRID, VIEW_STYLE.LIST]).isRequired,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const BUTTON_TYPES = {\n  CTA: 'cta',\n  DEFAULT: 'default',\n  PRIMARY: 'primary',\n  SECONDARY: 'secondary',\n};\n\nexport const DROPDOWN_TYPES = {\n  MENU: 'menu',\n  PANEL: 'panel',\n  COLOR_PANEL: 'color_panel',\n};\n\nexport const DEFAULT_FILE_UPLOAD_TYPES = ['.jpg', '.jpeg', '.png', '.gif'];\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n/**\n * Internal dependencies\n */\nimport { Compass, HomeWithHeart } from '../icons';\nimport { STORY_VIEWING_LABELS } from './stories';\nimport { TEMPLATES_GALLERY_VIEWING_LABELS } from './templates';\n\nexport const KEYBOARD_USER_CLASS = `useskeyboard`;\n\nexport const Z_INDEX = {\n  LAYOUT_SQUISHABLE: 3,\n  LAYOUT_FIXED: 5,\n  STICKY_TABLE: 2,\n  POPOVER_MENU: 10,\n  POPOVER_PANEL: 10,\n};\n\nexport const APP_ROUTES = {\n  DASHBOARD: '/',\n  TEMPLATES_GALLERY: '/templates-gallery',\n  TEMPLATE_DETAIL: 'template-detail',\n};\n\nexport const ROUTE_TITLES = {\n  [APP_ROUTES.DASHBOARD]: __('Dashboard', 'web-stories'),\n  [APP_ROUTES.TEMPLATES_GALLERY]: __('Explore Templates', 'web-stories'),\n  [`${APP_ROUTES.TEMPLATES_GALLERY}/${APP_ROUTES.TEMPLATE_DETAIL}`]: __(\n    'Template Details',\n    'web-stories'\n  ),\n  DEFAULT: __('Dashboard', 'web-stories'),\n};\n\nexport const PRIMARY_PATHS = [\n  {\n    value: APP_ROUTES.DASHBOARD,\n    label: ROUTE_TITLES[APP_ROUTES.DASHBOARD],\n    Icon: HomeWithHeart,\n  },\n  {\n    value: APP_ROUTES.TEMPLATES_GALLERY,\n    label: ROUTE_TITLES[APP_ROUTES.TEMPLATES_GALLERY],\n    Icon: Compass,\n  },\n];\n\nexport const VIEW_STYLE = {\n  GRID: 'grid',\n  LIST: 'list',\n};\n\nexport const VIEW_STYLE_LABELS = {\n  [VIEW_STYLE.GRID]: __('Switch to List View', 'web-stories'),\n  [VIEW_STYLE.LIST]: __('Switch to Grid View', 'web-stories'),\n};\n\nexport const DASHBOARD_VIEWS = {\n  DASHBOARD: 'DASHBOARD',\n  TEMPLATES_GALLERY: 'TEMPLATES_GALLERY',\n};\nexport const RESULT_LABELS = {\n  [DASHBOARD_VIEWS.DASHBOARD]: { ...STORY_VIEWING_LABELS },\n  [DASHBOARD_VIEWS.TEMPLATES_GALLERY]: { ...TEMPLATES_GALLERY_VIEWING_LABELS },\n};\n\n// API Query Constants\nexport const STORIES_PER_REQUEST = 24;\n\nexport const TEXT_INPUT_DEBOUNCE = 300;\n\nexport const MIN_IMG_HEIGHT = 96;\nexport const MIN_IMG_WIDTH = 96;\n\nexport const DEFAULT_GRID_IMG_HEIGHT = 853;\nexport const DEFAULT_GRID_IMG_WIDTH = 640;\n\nexport * from './components';\nexport * from './pageStructure';\nexport * from './stories';\nexport * from './templates';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { PAGE_RATIO, PAGE_WIDTH, PAGE_HEIGHT } from '@googleforcreators/units';\n\nexport const DASHBOARD_LEFT_NAV_WIDTH = 288;\n\nexport const MIN_DASHBOARD_WIDTH = 1098;\n\nexport const VIEWPORT_BREAKPOINT = {\n  TABLET: 'tablet',\n  DESKTOP: 'desktop',\n  THUMBNAIL: 'thumbnail',\n};\n\nexport const STORY_PREVIEW_WIDTH = {\n  [VIEWPORT_BREAKPOINT.TABLET]: 200,\n  [VIEWPORT_BREAKPOINT.DESKTOP]: 232,\n  [VIEWPORT_BREAKPOINT.THUMBNAIL]: 33,\n};\n\nexport const GRID_SPACING = {\n  COLUMN_GAP: 24,\n  ROW_GAP: 32,\n};\n\nexport const PAGE_WRAPPER = {\n  GUTTER: 52,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, sprintf, _n } from '@googleforcreators/i18n';\n\nexport const STORY_CONTEXT_MENU_ACTIONS = {\n  OPEN_IN_EDITOR: 'open-in-editor-action',\n  RENAME: 'rename-action',\n  DUPLICATE: 'duplicate-action',\n  DELETE: 'delete-story-action',\n  COPY_STORY_LINK: 'copy-story-link',\n  OPEN_STORY_LINK: 'open-story-link',\n  CLOSE: 'close-menu',\n};\n\nexport const STORY_CONTEXT_MENU_ITEMS = [\n  {\n    label: __('Open in editor', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.OPEN_IN_EDITOR,\n    isEnabled: (story) => Boolean(story?.capabilities?.hasEditAction),\n  },\n  {\n    label: __('Open in new tab', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.OPEN_STORY_LINK,\n    isEnabled: (story) => Boolean(story?.previewLink),\n  },\n  {\n    label: __('Copy Story URL', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.COPY_STORY_LINK,\n    isEnabled: (story) => Boolean(story?.previewLink),\n  },\n  {\n    label: __('Rename', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.RENAME,\n    separator: 'top',\n    isEnabled: (story) => Boolean(story?.capabilities?.hasEditAction),\n  },\n  {\n    label: __('Duplicate', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.DUPLICATE,\n    isEnabled: (story) => Boolean(story?.capabilities?.hasEditAction),\n  },\n  {\n    label: __('Delete Story', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.DELETE,\n    separator: 'top',\n    isEnabled: (story) => Boolean(story?.capabilities?.hasDeleteAction),\n  },\n];\n\nexport const SORT_DIRECTION = {\n  ASC: 'asc',\n  DESC: 'desc',\n};\n\nexport const STORY_SORT_OPTIONS = {\n  NAME: 'title',\n  DATE_CREATED: 'date',\n  LAST_MODIFIED: 'modified',\n  CREATED_BY: 'story_author',\n};\n\nexport const ORDER_BY_SORT = {\n  [STORY_SORT_OPTIONS.NAME]: SORT_DIRECTION.ASC,\n  [STORY_SORT_OPTIONS.DATE_CREATED]: SORT_DIRECTION.DESC,\n  [STORY_SORT_OPTIONS.LAST_MODIFIED]: SORT_DIRECTION.DESC,\n  [STORY_SORT_OPTIONS.CREATED_BY]: SORT_DIRECTION.ASC,\n};\n\nexport const STORY_SORT_MENU_ITEMS = [\n  {\n    label: __('Name', 'web-stories'),\n    value: STORY_SORT_OPTIONS.NAME,\n  },\n  {\n    label: __('Date Created', 'web-stories'),\n    value: STORY_SORT_OPTIONS.DATE_CREATED,\n  },\n  {\n    label: __('Last Modified', 'web-stories'), // default\n    value: STORY_SORT_OPTIONS.LAST_MODIFIED,\n  },\n  {\n    label: __('Created By', 'web-stories'),\n    value: STORY_SORT_OPTIONS.CREATED_BY,\n  },\n];\n\n/**\n * All possible story statuses.\n */\nconst BASE_STATUSES = {\n  DRAFT: 'draft',\n  FUTURE: 'future',\n  PENDING: 'pending',\n  PUBLISH: 'publish',\n  PRIVATE: 'private',\n};\n\nexport const STORY_STATUS = {\n  ALL: Object.values(BASE_STATUSES).join(','),\n  PUBLISHED_AND_FUTURE: [BASE_STATUSES.PUBLISH, BASE_STATUSES.FUTURE].join(','),\n  ...BASE_STATUSES,\n};\n\nexport const DISPLAY_STATUS = {\n  [STORY_STATUS.PUBLISH]: __('Published', 'web-stories'),\n  [STORY_STATUS.PENDING]: __('Pending', 'web-stories'),\n  [STORY_STATUS.FUTURE]: __('Scheduled', 'web-stories'),\n  [STORY_STATUS.DRAFT]: __('Draft', 'web-stories'),\n  [STORY_STATUS.PRIVATE]: __('Private', 'web-stories'),\n};\n\nexport const STORY_STATUSES = [\n  {\n    label: __('All Stories', 'web-stories'),\n    value: STORY_STATUS.ALL,\n    status: 'all',\n  },\n  {\n    label: __('Drafts', 'web-stories'),\n    value: STORY_STATUS.DRAFT,\n    status: STORY_STATUS.DRAFT,\n  },\n  {\n    label: __('Pending', 'web-stories'),\n    value: STORY_STATUS.PENDING,\n    status: STORY_STATUS.PENDING,\n  },\n  {\n    label: __('Published', 'web-stories'),\n    value: STORY_STATUS.PUBLISH,\n    status: STORY_STATUS.PUBLISH,\n  },\n  {\n    label: __('Scheduled', 'web-stories'),\n    value: STORY_STATUS.FUTURE,\n    status: STORY_STATUS.FUTURE,\n  },\n  {\n    label: __('Private', 'web-stories'),\n    value: STORY_STATUS.PRIVATE,\n    status: STORY_STATUS.PRIVATE,\n  },\n];\n\nexport const STORY_VIEWING_LABELS = {\n  [STORY_STATUS.ALL]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories in view */\n      _n(\n        'Viewing <strong>%d</strong> story',\n        'Viewing all <strong>%d</strong> stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.DRAFT]: (n) =>\n    sprintf(\n      /* translators: %d: number of draft stories in view */\n      _n(\n        'Viewing <strong>%d</strong> draft',\n        'Viewing <strong>%d</strong> drafts',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.PUBLISH]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> published story',\n        'Viewing <strong>%d</strong> published stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.FUTURE]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> scheduled story',\n        'Viewing <strong>%d</strong> scheduled stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.PENDING]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> pending story',\n        'Viewing <strong>%d</strong> pending stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.PRIVATE]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> private story',\n        'Viewing <strong>%d</strong> private stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n};\n\nexport const STORY_ANIMATION_STATE = {\n  RESET: 'reset',\n  PAUSED: 'paused',\n  SCRUBBING: 'scrubbing',\n  PLAYING: 'playing',\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, _x, sprintf, _n } from '@googleforcreators/i18n';\n\nexport const TEMPLATE_CATEGORIES = {\n  DIY_CRAFTS: 'diy_crafts',\n  MOVIES_TV: 'movies_tv',\n  BEAUTY_STYLE: 'beauty_style',\n  FITNESS_WELLBEING: 'fitness_wellbeing',\n  FOOD: 'food',\n  TRAVEL: 'travel',\n  MUSIC: 'music',\n  SPORTS: 'sports',\n};\n\nexport const TEMPLATE_CATEGORY_ITEMS = [\n  {\n    label: _x('DIY & Crafts', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.DIY_CRAFTS,\n  },\n  {\n    label: _x('Movies & TV', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.MOVIES_TV,\n  },\n  {\n    label: _x('Beauty & Style', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.BEAUTY_STYLE,\n  },\n  {\n    label: _x('Fitness & Wellbeing', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.FITNESS_WELLBEING,\n  },\n  {\n    label: _x('Food', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.FOOD,\n  },\n  {\n    label: _x('Travel', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.TRAVEL,\n  },\n  {\n    label: _x('Music', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.MUSIC,\n  },\n  {\n    label: _x('Sports', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.SPORTS,\n  },\n];\n\nexport const TEMPLATE_COLORS = {\n  WHITE: 'white',\n  BLACK: 'black',\n  GRAY: 'gray',\n  BROWN: 'brown',\n  RED: 'red',\n  ORANGE: 'orange',\n  YELLOW: 'yellow',\n  GREEN: 'green',\n  BLUE: 'blue',\n  PINK: 'pink',\n  PURPLE: 'purple',\n};\n\nexport const TEMPLATE_COLOR_ITEMS = [\n  {\n    label: _x('White', 'color', 'web-stories'),\n    hex: '#FFFFFF',\n    value: TEMPLATE_COLORS.WHITE,\n  },\n  {\n    label: _x('Black', 'color', 'web-stories'),\n    hex: '#1A1D1F',\n    value: TEMPLATE_COLORS.BLACK,\n  },\n  {\n    label: _x('Gray', 'color', 'web-stories'),\n    hex: '#9AA1A9',\n    value: TEMPLATE_COLORS.GRAY,\n  },\n  {\n    label: _x('Brown', 'color', 'web-stories'),\n    hex: '#974A04',\n    value: TEMPLATE_COLORS.BROWN,\n  },\n  {\n    label: _x('Red', 'color', 'web-stories'),\n    hex: '#EB5757',\n    value: TEMPLATE_COLORS.RED,\n  },\n  {\n    label: _x('Orange', 'color', 'web-stories'),\n    hex: '#FA902E',\n    value: TEMPLATE_COLORS.ORANGE,\n  },\n  {\n    label: _x('Yellow', 'color', 'web-stories'),\n    hex: '#FAE84C',\n    value: TEMPLATE_COLORS.YELLOW,\n  },\n  {\n    label: _x('Green', 'color', 'web-stories'),\n    hex: '#6AE86F',\n    value: TEMPLATE_COLORS.GREEN,\n  },\n  {\n    label: _x('Blue', 'color', 'web-stories'),\n    hex: '#1374FA',\n    value: TEMPLATE_COLORS.BLUE,\n  },\n  {\n    label: _x('Pink', 'color', 'web-stories'),\n    hex: '#F078F2',\n    value: TEMPLATE_COLORS.PINK,\n  },\n  {\n    label: _x('Purple', 'color', 'web-stories'),\n    hex: '#AA6FE1',\n    value: TEMPLATE_COLORS.PURPLE,\n  },\n];\n\nexport const TEMPLATES_GALLERY_STATUS = {\n  ALL: 'template',\n};\n\nexport const TEMPLATES_GALLERY_VIEWING_LABELS = {\n  [TEMPLATES_GALLERY_STATUS.ALL]: (n) =>\n    sprintf(\n      /* translators: %d: number of templates in view */\n      _n(\n        'Viewing <strong>%d</strong> template',\n        'Viewing all <strong>%d</strong> templates',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n};\nexport const TEMPLATES_GALLERY_SORT_OPTIONS = {\n  POPULAR: 'popular',\n  RECENT: 'recent',\n};\n\nexport const TEMPLATES_GALLERY_SORT_MENU_ITEMS = [\n  {\n    label: __('Popular', 'web-stories'),\n    value: TEMPLATES_GALLERY_SORT_OPTIONS.POPULAR,\n  },\n  {\n    label: __('Recent', 'web-stories'),\n    value: TEMPLATES_GALLERY_SORT_OPTIONS.RECENT,\n  },\n];\n\nexport const TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS = {\n  template: __('See details', 'web-stories'),\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  lightMode,\n  ModalGlobalStyle,\n  SnackbarProvider,\n  PopupProvider,\n  theme as externalDesignSystemTheme,\n  ThemeGlobals,\n  deepMerge,\n} from '@googleforcreators/design-system';\nimport { StyleSheetManager, ThemeProvider } from 'styled-components';\nimport stylisRTLPlugin from 'stylis-plugin-rtl';\nObject.defineProperty(stylisRTLPlugin, 'name', { value: 'stylisRTLPlugin' });\nimport PropTypes from 'prop-types';\nimport { FlagsProvider } from 'flagged';\n\n/**\n * Internal dependencies\n */\nimport { ConfigProvider } from './app/config';\nimport ApiProvider from './app/api/apiProvider';\nimport { NavProvider } from './components';\nimport { RouterProvider } from './app/router';\nimport { GlobalStyle } from './theme';\nimport { KeyboardOnlyOutline } from './utils';\nimport getDefaultConfig from './getDefaultConfig';\n\nfunction Dashboard({ config, children }) {\n  const _config = deepMerge(getDefaultConfig(), config);\n  const activeTheme = {\n    ...externalDesignSystemTheme,\n    colors: lightMode,\n  };\n  const {\n    isRTL,\n    flags,\n    styleConstants: { leftOffset, topOffset } = {},\n  } = _config;\n  return (\n    <FlagsProvider features={flags}>\n      <StyleSheetManager stylisPlugins={isRTL ? [stylisRTLPlugin] : []}>\n        <ThemeProvider theme={activeTheme}>\n          <ThemeGlobals.Styles />\n          <ModalGlobalStyle />\n          <ConfigProvider config={_config}>\n            <ApiProvider>\n              <NavProvider>\n                <RouterProvider>\n                  <SnackbarProvider>\n                    <PopupProvider\n                      value={{\n                        isRTL,\n                        leftOffset,\n                        topOffset,\n                      }}\n                    >\n                      <GlobalStyle />\n                      <KeyboardOnlyOutline />\n                      {children}\n                    </PopupProvider>\n                  </SnackbarProvider>\n                </RouterProvider>\n              </NavProvider>\n            </ApiProvider>\n          </ConfigProvider>\n        </ThemeProvider>\n      </StyleSheetManager>\n    </FlagsProvider>\n  );\n}\n\nDashboard.propTypes = {\n  config: PropTypes.object.isRequired,\n  children: PropTypes.node,\n};\n\nexport default Dashboard;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst getDefaultConfig = () => ({\n  isRTL: false,\n  userId: 1,\n  locale: {\n    locale: 'en-US',\n    dateFormat: 'F j, Y',\n    timeFormat: 'g:i a',\n    gmtOffset: '0',\n    timezone: '',\n    months: [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ],\n    monthsShort: [\n      'Jan',\n      'Feb',\n      'Mar',\n      'Apr',\n      'May',\n      'Jun',\n      'Jul',\n      'Aug',\n      'Sep',\n      'Oct',\n      'Nov',\n      'Dec',\n    ],\n    weekdays: [\n      'Sunday',\n      'Monday',\n      'Tuesday',\n      'Wednesday',\n      'Thursday',\n      'Friday',\n      'Saturday',\n    ],\n    weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    weekdaysInitials: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    weekStartsOn: 1,\n  },\n  newStoryURL: '',\n  archiveURL: '',\n  defaultArchiveURL: '',\n  cdnURL: 'https://wp.stories.google/static/main/',\n  allowedImageMimeTypes: ['image/webp', 'image/png', 'image/jpeg', 'image/gif'],\n  version: '',\n  encodeMarkup: true,\n  api: {},\n  maxUpload: 314572800,\n  maxUploadFormatted: '300 MB',\n  capabilities: {\n    canManageSettings: false,\n    canUploadFiles: false,\n  },\n  canViewDefaultTemplates: false,\n  localeData: [],\n  flags: {},\n  apiCallbacks: {},\n  leftRailSecondaryNavigation: [],\n  styleConstants: {\n    topOffset: 0,\n    leftOffset: 0,\n  },\n});\n\nexport default getDefaultConfig;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nexport { default as Compass } from './compass.svg';\nexport { default as FloppyDisk } from './floppyDisk.svg';\nexport { default as HomeWithHeart } from './homeWithHeart.svg';\nexport { default as Menu } from './menu.svg';\nexport { default as MoreVertical } from './moreVertical.svg';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as Dashboard } from './dashboard';\nexport * from './app';\nexport * from './app/router';\nexport * from './constants';\nexport * from './components';\nexport * from './app/views/shared';\nexport { GlobalStyle as DashboardGlobalStyle } from './theme';\nexport { default as DashboardKeyboardOnlyOutline } from './utils/keyboardOnlyOutline';\nexport { default as InterfaceSkeleton } from './components/interfaceSkeleton';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  h1, h2, h3, h4, h5, h6, p, a {\n    margin: 0;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { STORY_STATUS, TEMPLATES_GALLERY_STATUS } from './constants';\n\nexport const DashboardStatusesPropType = PropTypes.oneOf([\n  ...Object.values(STORY_STATUS),\n  ...Object.values(TEMPLATES_GALLERY_STATUS),\n]);\n\nexport const StoryPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  status: DashboardStatusesPropType,\n  title: PropTypes.string.isRequired,\n  modified: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  author: PropTypes.object,\n  capabilities: PropTypes.shape({\n    hasDeleteAction: PropTypes.bool,\n    hasEditAction: PropTypes.bool,\n  }),\n});\n\nexport const TemplatePropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  status: DashboardStatusesPropType,\n  title: PropTypes.string.isRequired,\n  pages: PropTypes.array,\n  modified: PropTypes.object,\n  colors: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      color: PropTypes.string.isRequired,\n    })\n  ),\n  description: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.string),\n  createdBy: PropTypes.string,\n  postersByPage: PropTypes.arrayOf(\n    PropTypes.shape({\n      webp: PropTypes.string,\n      png: PropTypes.string,\n      type: PropTypes.string,\n    })\n  ),\n});\n\nexport const TagPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  count: PropTypes.number.isRequired,\n});\n\nexport const CategoryPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  parent: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  count: PropTypes.number.isRequired,\n});\n\nexport const UserPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  avatarUrls: PropTypes.object,\n});\n\nexport const StoriesPropType = PropTypes.arrayOf(StoryPropType);\nexport const TemplatesPropType = PropTypes.arrayOf(TemplatePropType).isRequired;\n\nexport const StoryActionsPropType = PropTypes.shape({\n  duplicateStory: PropTypes.func,\n  trashStory: PropTypes.func,\n  updateStory: PropTypes.func,\n});\n\nexport const TemplateActionsPropType = PropTypes.shape({\n  createStoryFromTemplate: PropTypes.func,\n  handleDetailsToggle: PropTypes.func,\n  switchToTemplateByOffset: PropTypes.func,\n});\n\nexport const TotalStoriesByStatusPropType = PropTypes.shape({\n  all: PropTypes.number,\n  draft: PropTypes.number,\n  publish: PropTypes.number,\n});\n\nexport const PageSizePropType = PropTypes.shape({\n  width: PropTypes.number,\n  height: PropTypes.number,\n});\n\nexport const StoryMenuPropType = PropTypes.shape({\n  handleMenuToggle: PropTypes.func.isRequired,\n  contextMenuId: PropTypes.number.isRequired,\n  menuItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n      url: PropTypes.string,\n      isEnabled: PropTypes.func,\n      action: PropTypes.func,\n    })\n  ),\n});\n\nexport const RenameStoryPropType = PropTypes.shape({\n  handleOnRenameStory: PropTypes.func,\n  id: PropTypes.number,\n  handleCancelRename: PropTypes.func,\n});\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst groupBy = (arr, key) => {\n  return arr.reduce((prev, curr) => {\n    if (!curr[key]) {\n      return prev;\n    }\n    if (prev[curr[key]]) {\n      prev[curr[key]] = curr;\n    } else {\n      prev[curr[key]] = curr;\n    }\n    return prev;\n  }, {});\n};\n\nexport default groupBy;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as titleFormatted } from './titleFormatted';\nexport { default as KeyboardOnlyOutline } from './keyboardOnlyOutline';\nexport { default as useDashboardResultsLabel } from './useDashboardResultsLabel';\nexport {\n  default as usePagePreviewSize,\n  getPosterHeight,\n} from './usePagePreviewSize';\nexport { default as useStoryView } from './useStoryView';\nexport { default as useTemplateView } from './useTemplateView';\nexport { noop } from './noop';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Inspired by https://github.com/moxystudio/js-keyboard-only-outlines/blob/master/src/index.js\n\n/**\n * External dependencies\n */\nimport { useEffect, useState } from '@googleforcreators/react';\nimport { createGlobalStyle } from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { KEYBOARD_USER_CLASS } from '../constants';\n\nexport const OutlineStyles = createGlobalStyle`\n    *:focus {\n        outline: none !important;\n    }\n`;\n\nconst ACCEPTED_KEYS = [\n  'ArrowUp',\n  'ArrowDown',\n  'ArrowLeft',\n  'ArrowRight',\n  'Tab',\n];\n\nconst KeyboardOnlyOutline = () => {\n  const [usingKeyboard, setUsingKeyboard] = useState(false);\n  const handleKeydown = (e) => {\n    if (!usingKeyboard && ACCEPTED_KEYS.includes(e.key)) {\n      setUsingKeyboard(true);\n    }\n  };\n\n  const handleMousedown = () => {\n    if (usingKeyboard) {\n      setUsingKeyboard(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeydown);\n    document.addEventListener('mousedown', handleMousedown);\n\n    return function cleanup() {\n      document.removeEventListener('keydown', handleKeydown);\n      document.removeEventListener('mousedown', handleMousedown);\n    };\n  });\n\n  useEffect(() => {\n    document.body.classList.toggle(KEYBOARD_USER_CLASS, usingKeyboard);\n  }, [usingKeyboard]);\n\n  return !usingKeyboard ? <OutlineStyles /> : null;\n};\n\nKeyboardOnlyOutline.propTypes = {};\n\nexport default KeyboardOnlyOutline;\n","/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const noop = () => {};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n\nconst titleFormatted = (rawTitle) => {\n  return rawTitle === '' ? __('Untitled', 'web-stories') : rawTitle;\n};\n\nexport default titleFormatted;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { sprintf, _n } from '@googleforcreators/i18n';\nimport { useMemo } from '@googleforcreators/react';\n\n/**\n * Internal dependencies\n */\nimport { RESULT_LABELS } from '../constants';\n\nexport default function useDashboardResultsLabel({\n  isActiveSearch,\n  currentFilter,\n  totalResults,\n  view,\n}) {\n  const resultsLabel = useMemo(() => {\n    const numResults = totalResults ?? 0;\n    const defaultLabel = RESULT_LABELS[view]?.[currentFilter] || '';\n    const interprettedDefaultLabel =\n      typeof defaultLabel === 'function'\n        ? defaultLabel(numResults)\n        : defaultLabel;\n    return isActiveSearch\n      ? sprintf(\n          /* translators: %s: number of results */\n          _n('%s result', '%s results', numResults, 'web-stories'),\n          sprintf('<strong>%s</strong>', numResults)\n        )\n      : interprettedDefaultLabel;\n  }, [isActiveSearch, totalResults, view, currentFilter]);\n\n  return resultsLabel;\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useMemo,\n  useState,\n  useRef,\n  useDebouncedCallback,\n  useResizeEffect,\n} from '@googleforcreators/react';\nimport { PAGE_RATIO } from '@googleforcreators/units';\n\n/**\n * Internal dependencies\n */\nimport {\n  DASHBOARD_LEFT_NAV_WIDTH,\n  MIN_DASHBOARD_WIDTH,\n  VIEWPORT_BREAKPOINT,\n  STORY_PREVIEW_WIDTH,\n  GRID_SPACING,\n  PAGE_WRAPPER,\n} from '../constants';\nimport useConfig from '../app/config/useConfig';\n\n/**\n * Here we need to calculate height for every pagePreview in use.\n * The height in 2:3 ratio which is consistent with poster sizes that serve as cover images\n *\n * @param {number} width  width of page to base ratios on\n * @return {Object}       heights to use in pagePreviews { fullBleedHeight: Number, storyHeight: Number}\n */\nexport const getPosterHeight = (width) => Math.round(width / PAGE_RATIO);\n\nconst getCurrentBp = (availableContainerSpace) =>\n  availableContainerSpace <= MIN_DASHBOARD_WIDTH\n    ? VIEWPORT_BREAKPOINT.TABLET\n    : VIEWPORT_BREAKPOINT.DESKTOP;\n\n// To determine the size of a story page we take the page size according to min viewport width\n// and then find the remaining width in the given space that the dashboard is showing stories in\n// if the container isn't important to size then respectSetWidth catches it (thumbnails or isn't a grid)\n// otherwise, we're taking the available space we have and finding out how many items in the default size we can fit in a row\n// then we calculate the grid column gutter and the page gutter\n// subtract those values from the availableContainer space to get remaining space\n// divide the remaining space by the itemsInRow\n// attach that extra space to the width\n// get heights for page and container in getPosterHeight\nconst sizeFromWidth = (\n  width,\n  { bp, respectSetWidth, availableContainerSpace }\n) => {\n  if (respectSetWidth) {\n    const height = getPosterHeight(width);\n    return {\n      width,\n      height,\n    };\n  }\n\n  if (bp === VIEWPORT_BREAKPOINT.DESKTOP) {\n    availableContainerSpace -= DASHBOARD_LEFT_NAV_WIDTH;\n  }\n\n  const itemsInRow = Math.floor(availableContainerSpace / width);\n  const columnGapWidth = GRID_SPACING.COLUMN_GAP * (itemsInRow - 1);\n  const pageGutter = PAGE_WRAPPER.GUTTER * 2;\n  const takenSpace = width * itemsInRow + columnGapWidth + pageGutter;\n  const remainingSpace = availableContainerSpace - takenSpace;\n  const addToWidthValue = remainingSpace / itemsInRow;\n\n  const trueWidth = width + addToWidthValue;\n  const height = getPosterHeight(trueWidth);\n\n  return {\n    width: trueWidth,\n    height,\n  };\n};\n\nconst getContainerWidth = (windowWidth) => {\n  // Because the dashboard has a min width (MIN_DASHBOARD_WIDTH) check to see if that min should be used or the actual space of the dashboard\n  const isWindowSmallerThanMinDashboardWidth =\n    window.innerWidth < MIN_DASHBOARD_WIDTH;\n  return isWindowSmallerThanMinDashboardWidth\n    ? MIN_DASHBOARD_WIDTH\n    : windowWidth;\n};\n\nexport default function usePagePreviewSize(options = {}) {\n  const { thumbnailMode = false, isGrid } = options;\n  const { containerId } = useConfig();\n  const dashboardContainerRef = useRef(document.getElementById(containerId));\n\n  // BP is contingent on the actual window size\n  const [viewportWidth, setViewportWidth] = useState(window.innerWidth);\n\n  const [bp, setBp] = useState(getCurrentBp(viewportWidth));\n\n  const [availableContainerSpace, setAvailableContainerSpace] = useState(\n    getContainerWidth(\n      dashboardContainerRef.current?.offsetWidth || window.innerWidth\n    )\n  );\n\n  const debounceSetViewportWidth = useDebouncedCallback((width) => {\n    setViewportWidth(width);\n  }, 500);\n\n  useEffect(() => {\n    setBp(getCurrentBp(viewportWidth));\n  }, [viewportWidth]);\n\n  useResizeEffect(\n    dashboardContainerRef,\n    ({ width }) => {\n      setAvailableContainerSpace(getContainerWidth(width));\n\n      if (window.innerWidth !== viewportWidth) {\n        debounceSetViewportWidth(window.innerWidth);\n      }\n    },\n    [setAvailableContainerSpace, viewportWidth, debounceSetViewportWidth]\n  );\n\n  return useMemo(\n    () => ({\n      pageSize: sizeFromWidth(\n        STORY_PREVIEW_WIDTH[thumbnailMode ? VIEWPORT_BREAKPOINT.THUMBNAIL : bp],\n        {\n          respectSetWidth: !isGrid || thumbnailMode,\n          availableContainerSpace,\n          bp,\n        }\n      ),\n    }),\n    [bp, isGrid, thumbnailMode, availableContainerSpace]\n  );\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { trackEvent } from '@googleforcreators/tracking';\nimport { clamp } from '@googleforcreators/units';\n\n/**\n * Internal dependencies\n */\nimport { SORT_DIRECTION, STORY_SORT_OPTIONS, VIEW_STYLE } from '../constants';\nimport { PageSizePropType } from '../types';\nimport usePagePreviewSize from './usePagePreviewSize';\n\nexport default function useStoryView({\n  filters,\n  isLoading = false,\n  totalPages,\n}) {\n  const [viewStyle, setViewStyle] = useState(VIEW_STYLE.GRID);\n  const [sort, _setSort] = useState(STORY_SORT_OPTIONS.LAST_MODIFIED);\n  const [filter, _setFilter] = useState(\n    filters.length > 0 ? filters[0].value : null\n  );\n  const [sortDirection, _setSortDirection] = useState(SORT_DIRECTION.DESC);\n  const [page, setPage] = useState(1);\n  const [searchKeyword, _setSearchKeyword] = useState('');\n  const [authorFilterId, _setAuthorFilterId] = useState(null);\n  const [queriedAuthors, setQueriedAuthors] = useState([]);\n  const showStoriesWhileLoading = useRef(false);\n  const [initialPageReady, setInitialPageReady] = useState(false);\n\n  const { pageSize } = usePagePreviewSize({\n    thumbnailMode: viewStyle === VIEW_STYLE.LIST,\n    isGrid: viewStyle === VIEW_STYLE.GRID,\n  });\n\n  const setPageClamped = useCallback(\n    (newPage) => {\n      const pageRange = { MIN: 1, MAX: totalPages };\n      setPage(clamp(newPage, pageRange));\n    },\n    [totalPages]\n  );\n\n  const setSort = useCallback(\n    (newSort) => {\n      _setSort(newSort);\n      setPageClamped(1);\n    },\n    [setPageClamped]\n  );\n\n  const setFilter = useCallback(\n    (newFilter) => {\n      _setFilter(newFilter);\n      setPageClamped(1);\n    },\n    [setPageClamped]\n  );\n\n  const setSortDirection = useCallback(\n    (newSortDirection) => {\n      if (newSortDirection !== sortDirection) {\n        _setSortDirection(newSortDirection);\n      }\n    },\n    [sortDirection]\n  );\n\n  const toggleViewStyle = useCallback(() => {\n    const newViewStyle =\n      viewStyle === VIEW_STYLE.LIST ? VIEW_STYLE.GRID : VIEW_STYLE.LIST;\n\n    setViewStyle(newViewStyle);\n\n    if (newViewStyle === VIEW_STYLE.LIST) {\n      const newSortDirection =\n        sort === STORY_SORT_OPTIONS.NAME\n          ? SORT_DIRECTION.ASC\n          : SORT_DIRECTION.DESC;\n\n      setSortDirection(newSortDirection);\n    }\n  }, [sort, setSortDirection, viewStyle, setViewStyle]);\n\n  const setSearchKeyword = useCallback(\n    (newSearchKeyword) => {\n      setPageClamped(1);\n      _setSearchKeyword(newSearchKeyword);\n    },\n    [setPageClamped]\n  );\n\n  const requestNextPage = useCallback(() => {\n    showStoriesWhileLoading.current = true;\n    setPageClamped(page + 1);\n  }, [page, setPageClamped]);\n\n  const toggleAuthorFilterId = useCallback(({ id }) => {\n    _setAuthorFilterId((prevFilterId) => (prevFilterId === id ? null : id));\n  }, []);\n\n  useEffect(() => {\n    if (searchKeyword.length) {\n      trackEvent('search', {\n        search_type: 'dashboard_stories',\n        search_term: searchKeyword,\n        search_filter: filter,\n        search_author_filter: authorFilterId,\n        search_order: sortDirection,\n        search_orderby: sort,\n        search_view: viewStyle,\n      });\n    }\n  }, [searchKeyword, filter, sortDirection, sort, viewStyle, authorFilterId]);\n\n  useEffect(() => {\n    // reset ref state after request is finished\n    if (!isLoading) {\n      showStoriesWhileLoading.current = false;\n    }\n  }, [isLoading]);\n\n  useEffect(() => {\n    // give views a way to prevent early excess renders by waiting until data's ready\n    if (totalPages && !initialPageReady) {\n      setInitialPageReady(true);\n    }\n  }, [totalPages, initialPageReady]);\n\n  return useMemo(\n    () => ({\n      view: {\n        style: viewStyle,\n        toggleStyle: toggleViewStyle,\n        pageSize,\n      },\n      sort: {\n        value: sort,\n        direction: sortDirection,\n        set: setSort,\n        setDirection: setSortDirection,\n      },\n      filter: {\n        value: filter,\n        set: setFilter,\n      },\n      page: {\n        value: page,\n        set: setPage,\n        requestNextPage,\n      },\n      search: {\n        keyword: searchKeyword,\n        setKeyword: setSearchKeyword,\n      },\n      author: {\n        filterId: authorFilterId,\n        toggleFilterId: toggleAuthorFilterId,\n        queriedAuthors,\n        setQueriedAuthors,\n      },\n      initialPageReady,\n      showStoriesWhileLoading,\n    }),\n    [\n      viewStyle,\n      toggleViewStyle,\n      pageSize,\n      sort,\n      setSort,\n      sortDirection,\n      setSortDirection,\n      filter,\n      initialPageReady,\n      setFilter,\n      page,\n      requestNextPage,\n      searchKeyword,\n      setSearchKeyword,\n      authorFilterId,\n      toggleAuthorFilterId,\n      queriedAuthors,\n      setQueriedAuthors,\n    ]\n  );\n}\n\nexport const ViewPropTypes = PropTypes.shape({\n  style: PropTypes.oneOf(Object.values(VIEW_STYLE)),\n  toggleStyle: PropTypes.func,\n  pageSize: PageSizePropType,\n});\n\nexport const AuthorPropTypes = PropTypes.shape({\n  filterId: PropTypes.number,\n  toggleFilterId: PropTypes.func,\n  queriedAuthors: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  setQueriedAuthors: PropTypes.func,\n});\n\nexport const FilterPropTypes = PropTypes.shape({\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  set: PropTypes.func,\n});\n\nexport const SortPropTypes = PropTypes.shape({\n  value: PropTypes.oneOf(Object.values(STORY_SORT_OPTIONS)),\n  set: PropTypes.func,\n  direction: PropTypes.oneOf(Object.values(SORT_DIRECTION)),\n  setDirection: PropTypes.func,\n});\n\nexport const PagePropTypes = PropTypes.shape({\n  value: PropTypes.number,\n  set: PropTypes.func,\n  requestNextPage: PropTypes.func,\n});\n\nexport const SearchPropTypes = PropTypes.shape({\n  keyword: PropTypes.string,\n  setKeyword: PropTypes.func,\n});\n\nexport const ShowStoriesWhileLoadingPropType = PropTypes.shape({\n  current: PropTypes.bool,\n});\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useMemo, useState } from '@googleforcreators/react';\nimport { clamp } from '@googleforcreators/units';\nimport PropTypes from 'prop-types';\n/**\n * Internal dependencies\n */\nimport {\n  TEMPLATES_GALLERY_SORT_OPTIONS,\n  TEMPLATES_GALLERY_STATUS,\n  VIEW_STYLE,\n} from '../constants';\nimport { PageSizePropType } from '../types';\nimport usePagePreviewSize from './usePagePreviewSize';\n\nexport default function useTemplateView({ totalPages }) {\n  const [searchKeyword, _setSearchKeyword] = useState('');\n  const [sort, _setSort] = useState(TEMPLATES_GALLERY_SORT_OPTIONS.POPULAR);\n  const [page, setPage] = useState(1);\n\n  const { pageSize } = usePagePreviewSize({\n    isGrid: true,\n  });\n\n  const setPageClamped = useCallback(\n    (newPage) => {\n      const pageRange = { MIN: 1, MAX: totalPages };\n      setPage(clamp(newPage, pageRange));\n    },\n    [totalPages]\n  );\n  const requestNextPage = useCallback(\n    () => setPageClamped(page + 1),\n    [page, setPageClamped]\n  );\n\n  const setSort = useCallback(\n    (newSort) => {\n      _setSort(newSort);\n      setPageClamped(1);\n    },\n    [setPageClamped]\n  );\n\n  const setSearchKeyword = useCallback(\n    (newSearchKeyword) => {\n      setPageClamped(1);\n      _setSearchKeyword(newSearchKeyword);\n    },\n    [setPageClamped]\n  );\n\n  return useMemo(\n    () => ({\n      view: {\n        style: VIEW_STYLE.GRID,\n        pageSize,\n      },\n      sort: {\n        value: sort,\n        set: setSort,\n      },\n      filter: {\n        value: TEMPLATES_GALLERY_STATUS.ALL,\n        set: () => {},\n      },\n      page: {\n        value: page,\n        set: setPage,\n        requestNextPage,\n      },\n      search: {\n        keyword: searchKeyword,\n        setKeyword: setSearchKeyword,\n      },\n    }),\n    [\n      pageSize,\n      sort,\n      setSort,\n      page,\n      requestNextPage,\n      searchKeyword,\n      setSearchKeyword,\n    ]\n  );\n}\n\nexport const ViewPropTypes = PropTypes.shape({\n  style: PropTypes.oneOf(Object.values(VIEW_STYLE)),\n  pageSize: PageSizePropType,\n});\n\nexport const FilterPropTypes = PropTypes.shape({\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  set: PropTypes.func,\n});\n\nexport const PagePropTypes = PropTypes.shape({\n  value: PropTypes.number,\n  set: PropTypes.func,\n  requestNextPage: PropTypes.func,\n});\n\nexport const SearchPropTypes = PropTypes.shape({\n  keyword: PropTypes.string,\n  setKeyword: PropTypes.func,\n});\n\nexport const SortPropTypes = PropTypes.shape({\n  value: PropTypes.oneOf(Object.values(TEMPLATES_GALLERY_SORT_OPTIONS)),\n  set: PropTypes.func,\n});\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1681821457848\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"domReady\"];","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * External dependencies\n */\nimport { addQueryArgs } from '@googleforcreators/url';\n\nexport function getAuthors(config, search) {\n  return apiFetch({\n    path: addQueryArgs(config.api.users, {\n      per_page: '100',\n      who: 'authors',\n      search,\n    }),\n  });\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const STORY_FIELDS = [\n  'id',\n  'title',\n  'status',\n  'date',\n  'date_gmt',\n  'modified',\n  'modified_gmt',\n  'link',\n  'preview_link',\n  'edit_link',\n  // _web_stories_envelope will add these fields, we need them too.\n  'body',\n  'status',\n  'headers',\n].join(',');\n\nexport const SEARCH_PAGES_FIELDS = ['id', 'title'];\nexport const GET_PAGE_FIELDS = ['title', 'link'];\n\nexport const STORY_EMBED = 'wp:lock,wp:lockuser,author,wp:featuredmedia';\n\nexport const REST_LINKS = {\n  EDIT: 'wp:action-edit',\n  DELETE: 'wp:action-delete',\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { addQueryArgs } from '@googleforcreators/url';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Gets custom fonts added by the user.\n * Used for \"Custom Fonts\" list on settings page.\n *\n * @param {string} apiPath API path.\n * @return {Promise} Request promise.\n */\nexport function getCustomFonts(apiPath) {\n  const path = addQueryArgs(apiPath, {\n    per_page: 100,\n    service: 'custom',\n  });\n\n  return apiFetch({ path });\n}\n\n/**\n * Delete a font by ID.\n *\n * @param {string} apiPath API path.\n * @param {number|string} id Font Id.\n * @return {Promise} Request promise.\n */\nexport function deleteCustomFont(apiPath, id) {\n  const path = addQueryArgs(`${apiPath}${id}/`, {\n    _method: 'DELETE',\n  });\n\n  return apiFetch({\n    path,\n    method: 'POST',\n  });\n}\n\n/**\n * Add new custom font.\n *\n * @param {string} apiPath API path.\n * @param {Object} font Font data.\n * @return {Promise} Request promise.\n */\nexport function addCustomFont(apiPath, font) {\n  return apiFetch({\n    path: apiPath,\n    data: font,\n    method: 'POST',\n  });\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useEffect, useDebouncedCallback } from '@googleforcreators/react';\nimport { useSnackbar } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { SUCCESS } from '../../constants';\nimport useEditorSettings from '../../components/editorSettings/useEditorSettings';\n\nfunction useApiAlerts() {\n  const { settingsError, mediaError, settingSaved, publisherLogosError } =\n    useEditorSettings(\n      ({\n        state: {\n          settings: { error: settingsError, settingSaved },\n          media: { error: mediaError },\n          publisherLogos: {\n            error: publisherLogosError,\n            settingSaved: publisherLogosSaved,\n          },\n        },\n      }) => ({\n        settingsError,\n        mediaError,\n        settingSaved: settingSaved || publisherLogosSaved,\n        publisherLogosError,\n      })\n    );\n  const { showSnackbar } = useSnackbar();\n\n  const debouncedShowSnackbar = useDebouncedCallback((message) => {\n    return showSnackbar({ 'aria-label': message, message, dismissible: true });\n  }, 200);\n\n  // if there is an API error, display a snackbar\n  useEffect(() => {\n    if (settingsError?.id) {\n      debouncedShowSnackbar(settingsError.message);\n    }\n  }, [settingsError, debouncedShowSnackbar]);\n\n  useEffect(() => {\n    if (settingSaved) {\n      debouncedShowSnackbar(SUCCESS.SETTINGS.UPDATED);\n    }\n  }, [debouncedShowSnackbar, settingSaved]);\n\n  useEffect(() => {\n    if (mediaError?.id) {\n      debouncedShowSnackbar(mediaError.message);\n    }\n  }, [mediaError, debouncedShowSnackbar]);\n\n  useEffect(() => {\n    if (publisherLogosError?.id) {\n      debouncedShowSnackbar(publisherLogosError.message);\n    }\n  }, [publisherLogosError, debouncedShowSnackbar]);\n}\nexport default useApiAlerts;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useEffect, useState } from '@googleforcreators/react';\nimport { useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport {\n  addCustomFont as addCustomFontCallback,\n  getCustomFonts as getCustomFontsCallback,\n  deleteCustomFont as deleteCustomFontCallback,\n} from '../fonts';\n\nexport default function useFontsApi() {\n  const {\n    api: { fonts: fontsApiPath },\n  } = useConfig();\n  const [customFonts, setCustomFonts] = useState(null);\n\n  const fetchCustomFonts = useCallback(async () => {\n    try {\n      const response = await getCustomFontsCallback(fontsApiPath);\n      const filteredFonts = response.map(({ id, family, url }) => ({\n        id,\n        family,\n        url,\n      }));\n      setCustomFonts(filteredFonts);\n      return filteredFonts;\n    } catch {\n      return null;\n    }\n  }, [fontsApiPath]);\n\n  useEffect(() => {\n    if (null === customFonts) {\n      fetchCustomFonts();\n    }\n  }, [fetchCustomFonts, customFonts]);\n\n  const deleteCustomFont = useCallback(\n    async (id) => {\n      const response = await deleteCustomFontCallback(fontsApiPath, id);\n      const newCustomFonts = customFonts.filter((font) => font.id !== id);\n      setCustomFonts(newCustomFonts);\n      return response;\n    },\n    [customFonts, fontsApiPath]\n  );\n\n  const addCustomFont = useCallback(\n    async (font) => {\n      const response = await addCustomFontCallback(fontsApiPath, font);\n      const { id, family, url } = response;\n      const newFont = { id, family, url };\n      setCustomFonts([newFont, ...customFonts]);\n      return newFont;\n    },\n    [customFonts, fontsApiPath]\n  );\n\n  return {\n    customFonts,\n    api: { addCustomFont, deleteCustomFont },\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useReducer } from '@googleforcreators/react';\nimport { useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport mediaReducer, {\n  defaultMediaState,\n  ACTION_TYPES as MEDIA_ACTION_TYPES,\n} from '../reducers/media';\nimport { ERRORS } from '../../constants';\nimport { uploadMedia as uploadMediaCallback } from '../media';\n\nexport default function useMediaApi() {\n  const [state, dispatch] = useReducer(mediaReducer, defaultMediaState);\n  const {\n    api: { media: mediaApiPath },\n  } = useConfig();\n\n  const uploadMedia = useCallback(\n    async (files) => {\n      dispatch({\n        type: MEDIA_ACTION_TYPES.LOADING_MEDIA,\n      });\n\n      try {\n        // each file needs to be uploaded separately\n        const mediaResponse = await uploadMediaCallback(mediaApiPath, files);\n\n        dispatch({\n          type: MEDIA_ACTION_TYPES.ADD_MEDIA_SUCCESS,\n          payload: {\n            media: mediaResponse,\n            newlyCreatedMediaIds: mediaResponse.map(({ id }) => id),\n          },\n        });\n      } catch (err) {\n        dispatch({\n          type: MEDIA_ACTION_TYPES.ADD_MEDIA_FAILURE,\n          payload: {\n            message:\n              ERRORS.UPLOAD_PUBLISHER_LOGO[\n                files.length > 1 ? 'MESSAGE_PLURAL' : 'MESSAGE'\n              ],\n          },\n        });\n      }\n    },\n    [mediaApiPath]\n  );\n\n  return {\n    media: state,\n    api: {\n      uploadMedia,\n    },\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback } from '@googleforcreators/react';\nimport { useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport {\n  getPageById as getPageByIdCallback,\n  searchPages as searchPagesCallback,\n} from '../pages';\n\nexport default function usePagesApi() {\n  const {\n    api: { pages: pagesApiPath },\n  } = useConfig();\n\n  const getPageById = useCallback(\n    async (id) => {\n      try {\n        const { title, link } = await getPageByIdCallback(pagesApiPath, id);\n\n        return {\n          title: title.rendered,\n          link,\n        };\n      } catch (e) {\n        return null;\n      }\n    },\n    [pagesApiPath]\n  );\n\n  const searchPages = useCallback(\n    async (searchTerm) => {\n      try {\n        const response = await searchPagesCallback(pagesApiPath, searchTerm);\n\n        return response.map(({ id, title }) => ({\n          value: id,\n          label: title.rendered,\n        }));\n      } catch (e) {\n        return [];\n      }\n    },\n    [pagesApiPath]\n  );\n\n  return {\n    api: { searchPages, getPageById },\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useReducer } from '@googleforcreators/react';\nimport { useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport publisherLogosReducer, {\n  defaultPublisherLogosState,\n  ACTION_TYPES,\n} from '../reducers/publisherLogos';\nimport { ERRORS } from '../../constants';\n\nimport {\n  fetchPublisherLogos as fetchPublisherLogosCallback,\n  addPublisherLogo as addPublisherLogoCallback,\n  removePublisherLogo as removePublisherLogoCallback,\n  setPublisherLogoAsDefault as setPublisherLogoAsDefaultCallback,\n} from '../publisherLogo';\n\nexport default function usePublisherLogosApi() {\n  const [state, dispatch] = useReducer(\n    publisherLogosReducer,\n    defaultPublisherLogosState\n  );\n  const {\n    api: { publisherLogos: publisherLogosApiPath },\n  } = useConfig();\n\n  const fetchPublisherLogos = useCallback(async () => {\n    dispatch({\n      type: ACTION_TYPES.LOADING,\n    });\n\n    try {\n      const response = await fetchPublisherLogosCallback(publisherLogosApiPath);\n\n      if (!Array.isArray(response)) {\n        dispatch({\n          type: ACTION_TYPES.FETCH_FAILURE,\n          payload: {\n            message: ERRORS.LOAD_PUBLISHER_LOGOS.MESSAGE,\n          },\n        });\n      } else {\n        dispatch({\n          type: ACTION_TYPES.FETCH_SUCCESS,\n          payload: {\n            publisherLogos: response,\n          },\n        });\n      }\n    } catch (err) {\n      dispatch({\n        type: ACTION_TYPES.FETCH_FAILURE,\n        payload: {\n          message: ERRORS.LOAD_PUBLISHER_LOGOS.MESSAGE,\n        },\n      });\n    }\n  }, [publisherLogosApiPath]);\n\n  const removePublisherLogo = useCallback(\n    async (publisherLogoId) => {\n      dispatch({\n        type: ACTION_TYPES.LOADING,\n      });\n\n      try {\n        await removePublisherLogoCallback(\n          publisherLogosApiPath,\n          publisherLogoId\n        );\n\n        dispatch({\n          type: ACTION_TYPES.REMOVE_SUCCESS,\n          payload: {\n            id: publisherLogoId,\n          },\n        });\n      } catch (err) {\n        dispatch({\n          type: ACTION_TYPES.FETCH_FAILURE,\n          payload: {\n            message: ERRORS.REMOVE_PUBLISHER_LOGO.MESSAGE,\n          },\n        });\n      }\n    },\n    [publisherLogosApiPath]\n  );\n\n  const addPublisherLogo = useCallback(\n    async (publisherLogoIds) => {\n      dispatch({\n        type: ACTION_TYPES.LOADING,\n      });\n\n      try {\n        const response = await addPublisherLogoCallback(\n          publisherLogosApiPath,\n          publisherLogoIds\n        );\n\n        const publisherLogos = Array.isArray(response) ? response : [response];\n\n        for (const publisherLogo of publisherLogos) {\n          dispatch({\n            type: ACTION_TYPES.ADD_SUCCESS,\n            payload: {\n              publisherLogo,\n            },\n          });\n        }\n      } catch (err) {\n        dispatch({\n          type: ACTION_TYPES.ADD_FAILURE,\n          payload: {\n            message: ERRORS.UPLOAD_PUBLISHER_LOGO.MESSAGE,\n          },\n        });\n      }\n    },\n    [publisherLogosApiPath]\n  );\n\n  const setPublisherLogoAsDefault = useCallback(\n    async (publisherLogoId) => {\n      dispatch({\n        type: ACTION_TYPES.LOADING,\n      });\n\n      try {\n        const response = await setPublisherLogoAsDefaultCallback(\n          publisherLogosApiPath,\n          publisherLogoId\n        );\n\n        dispatch({\n          type: ACTION_TYPES.UPDATE_SUCCESS,\n          payload: {\n            publisherLogo: response,\n          },\n        });\n      } catch (err) {\n        dispatch({\n          type: ACTION_TYPES.FETCH_FAILURE,\n          payload: {\n            message: ERRORS.UPDATE_PUBLISHER_LOGO.MESSAGE,\n          },\n        });\n      }\n    },\n    [publisherLogosApiPath]\n  );\n\n  return {\n    publisherLogos: state,\n    api: {\n      fetchPublisherLogos,\n      addPublisherLogo,\n      removePublisherLogo,\n      setPublisherLogoAsDefault,\n    },\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useReducer } from '@googleforcreators/react';\nimport { useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport settingsReducer, {\n  defaultSettingsState,\n  ACTION_TYPES as SETTINGS_ACTION_TYPES,\n} from '../reducers/settings';\nimport { ERRORS } from '../../constants';\nimport {\n  fetchSettings as fetchSettingsCallback,\n  updateSettings as updateSettingsCallback,\n} from '../settings';\n\nexport default function useSettingsApi() {\n  const [state, dispatch] = useReducer(settingsReducer, defaultSettingsState);\n  const {\n    api: { settings: settingsApiPath },\n  } = useConfig();\n\n  const fetchSettings = useCallback(async () => {\n    try {\n      const response = await fetchSettingsCallback(settingsApiPath);\n\n      dispatch({\n        type: SETTINGS_ACTION_TYPES.FETCH_SETTINGS_SUCCESS,\n        payload: response,\n      });\n    } catch (err) {\n      dispatch({\n        type: SETTINGS_ACTION_TYPES.FETCH_SETTINGS_FAILURE,\n        payload: {\n          message: ERRORS.LOAD_SETTINGS.MESSAGE,\n        },\n      });\n    }\n  }, [settingsApiPath]);\n\n  const updateSettings = useCallback(\n    async (queryParams) => {\n      dispatch({ type: SETTINGS_ACTION_TYPES.SETTING_SAVED });\n      try {\n        const response = await updateSettingsCallback(\n          settingsApiPath,\n          queryParams\n        );\n\n        dispatch({\n          type: SETTINGS_ACTION_TYPES.UPDATE_SETTINGS_SUCCESS,\n          payload: response,\n        });\n        dispatch({ type: SETTINGS_ACTION_TYPES.SETTING_SAVED, payload: true });\n      } catch (err) {\n        dispatch({\n          type: SETTINGS_ACTION_TYPES.UPDATE_SETTINGS_FAILURE,\n          payload: {\n            message: ERRORS.UPDATE_EDITOR_SETTINGS.MESSAGE,\n          },\n        });\n      }\n    },\n    [settingsApiPath]\n  );\n\n  return {\n    settings: state,\n    api: {\n      fetchSettings,\n      updateSettings,\n    },\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useEffect, useState } from '@googleforcreators/react';\nimport { useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport {\n  getUser,\n  toggleWebStoriesTrackingOptIn as toggleWebStoriesTrackingOptInCallback,\n  toggleWebStoriesMediaOptimization as toggleWebStoriesMediaOptimizationCallback,\n} from '../user';\n\nexport default function useUserApi() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  const {\n    api: { currentUser: currentUserApiPath },\n  } = useConfig();\n\n  useEffect(() => {\n    if (!Object.keys(currentUser).length) {\n      getUser(currentUserApiPath).then(setCurrentUser);\n    }\n  }, [currentUserApiPath, currentUser]);\n\n  const toggleWebStoriesTrackingOptIn = useCallback(async () => {\n    setIsUpdating(true);\n    try {\n      setCurrentUser(\n        await toggleWebStoriesTrackingOptInCallback(\n          currentUserApiPath,\n          currentUser\n        )\n      );\n    } finally {\n      setIsUpdating(false);\n    }\n  }, [currentUserApiPath, currentUser]);\n\n  const toggleWebStoriesMediaOptimization = useCallback(async () => {\n    setIsUpdating(true);\n    try {\n      setCurrentUser(\n        await toggleWebStoriesMediaOptimizationCallback(\n          currentUserApiPath,\n          currentUser\n        )\n      );\n    } finally {\n      setIsUpdating(false);\n    }\n  }, [currentUserApiPath, currentUser]);\n\n  return {\n    api: {\n      toggleWebStoriesTrackingOptIn,\n      toggleWebStoriesMediaOptimization,\n    },\n    currentUser: {\n      data: currentUser,\n      isUpdating,\n    },\n  };\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './story';\nexport * from './authors';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * External dependencies\n */\nimport { snakeToCamelCaseObjectKeys } from '@web-stories-wp/wp-utils';\n\n/**\n * Upload media\n * Used on settings page for upload button.\n *\n * @param {string} apiPath API path.\n * @param {Object} files Uploaded files.\n * @return {Promise} Request promise.\n */\nexport function uploadMedia(apiPath, files) {\n  return Promise.all(\n    Object.values(files).map((file) => {\n      const data = new window.FormData();\n\n      data.append('file', file, file.name || file.type.replace('/', '.'));\n\n      return apiFetch({\n        path: apiPath,\n        body: data,\n        method: 'POST',\n      }).then(snakeToCamelCaseObjectKeys);\n    })\n  );\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { addQueryArgs } from '@googleforcreators/url';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { SEARCH_PAGES_FIELDS, GET_PAGE_FIELDS } from './constants';\n\n/**\n * Search pages by search term.\n * Used for \"Stories Archive\" custom page selection on settings page.\n *\n * @param {string} apiPath API path.\n * @param {string} searchTerm Search term.\n * @return {Promise} Request promise.\n */\nexport function searchPages(apiPath, searchTerm) {\n  const path = addQueryArgs(apiPath, {\n    per_page: 100,\n    search: searchTerm,\n    _fields: SEARCH_PAGES_FIELDS,\n  });\n\n  return apiFetch({ path });\n}\n\n/**\n * Get page by id.\n * Used for getting the custom page by id after selection is saved on settings page\n *\n * @param {string} apiPath API path.\n * @param {number} id page id.\n * @return {Promise} Request promise.\n */\nexport function getPageById(apiPath, id) {\n  const path = addQueryArgs(`${apiPath}${id}/`, {\n    _fields: GET_PAGE_FIELDS,\n  });\n\n  return apiFetch({ path });\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * External dependencies\n */\nimport { addQueryArgs } from '@googleforcreators/url';\n\n/**\n * Fetch publisher logos.\n * Used for \"Publisher Logo\" field under editor settings page\n *\n * @param {string} apiPath API path.\n * @return {Promise} Request promise.\n */\nexport function fetchPublisherLogos(apiPath) {\n  return apiFetch({ path: apiPath });\n}\n\n/**\n * Remove publisher logo.\n *\n * @param {string} apiPath API path.\n * @param {number|string} logoId Logo id.\n * @return {Promise} Request promise.\n */\nexport function removePublisherLogo(apiPath, logoId) {\n  const path = addQueryArgs(`${apiPath}${logoId}/`, {\n    _method: 'DELETE',\n  });\n\n  return apiFetch({\n    path,\n    method: 'POST',\n  });\n}\n\n/**\n * Add publisher logo.\n *\n * @param {string} apiPath API path.\n * @param {number|Array<number>} logoId Single logo ID or array of logo IDs.\n * @return {Promise} Request promise.\n */\nexport function addPublisherLogo(apiPath, logoId) {\n  return apiFetch({\n    path: apiPath,\n    data: {\n      id: logoId,\n    },\n    method: 'POST',\n  });\n}\n\n/**\n * Set publisher logo as default.\n *\n * @param {string} apiPath API path.\n * @param {number|string} logoId Logo id.\n * @return {Promise} Request promise.\n */\nexport function setPublisherLogoAsDefault(apiPath, logoId) {\n  return apiFetch({\n    path: `${apiPath}${logoId}/`,\n    data: {\n      active: true,\n    },\n    method: 'POST',\n  });\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const ACTION_TYPES = {\n  LOADING_MEDIA: 'loading_media',\n  ADD_MEDIA_SUCCESS: 'add_media_success',\n  ADD_MEDIA_FAILURE: 'add_media_failure',\n};\n\nexport const defaultMediaState = {\n  error: {},\n  isLoading: false,\n  newlyCreatedMediaIds: [],\n};\n\nfunction mediaReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.LOADING_MEDIA: {\n      return {\n        ...state,\n        isLoading: true,\n        newlyCreatedMediaIds: [],\n      };\n    }\n\n    case ACTION_TYPES.ADD_MEDIA_FAILURE: {\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n        isLoading: false,\n      };\n    }\n\n    case ACTION_TYPES.ADD_MEDIA_SUCCESS: {\n      return {\n        ...state,\n        error: {},\n        isLoading: false,\n        newlyCreatedMediaIds:\n          action.payload.newlyCreatedMediaIds || state.newlyCreatedMediaIds,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default mediaReducer;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const ACTION_TYPES = {\n  LOADING: 'loading',\n  UPDATE_FAILURE: 'update_failure',\n  UPDATE_SUCCESS: 'update_success',\n  FETCH_FAILURE: 'fetch_failure',\n  FETCH_SUCCESS: 'fetch_success',\n  REMOVE_FAILURE: 'remove_failure',\n  REMOVE_SUCCESS: 'remove_success',\n  ADD_FAILURE: 'add_failure',\n  ADD_SUCCESS: 'add_success',\n};\n\nexport const defaultPublisherLogosState = {\n  error: {},\n  isLoading: false,\n  publisherLogos: [],\n  settingSaved: false,\n};\n\nfunction publisherLogoReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.LOADING: {\n      return {\n        ...state,\n        isLoading: true,\n        settingSaved: false,\n      };\n    }\n\n    case ACTION_TYPES.ADD_FAILURE:\n    case ACTION_TYPES.UPDATE_FAILURE:\n    case ACTION_TYPES.REMOVE_FAILURE:\n    case ACTION_TYPES.FETCH_FAILURE: {\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n        isLoading: false,\n        settingSaved: false,\n      };\n    }\n\n    case ACTION_TYPES.FETCH_SUCCESS: {\n      return {\n        ...state,\n        error: {},\n        isLoading: false,\n        publisherLogos: [...action.payload.publisherLogos],\n      };\n    }\n\n    case ACTION_TYPES.ADD_SUCCESS: {\n      const newPublisherLogos = [\n        ...state.publisherLogos,\n        action.payload.publisherLogo,\n      ];\n\n      return {\n        ...state,\n        error: {},\n        isLoading: false,\n        settingSaved: true,\n        publisherLogos: newPublisherLogos,\n      };\n    }\n\n    case ACTION_TYPES.UPDATE_SUCCESS: {\n      const newPublisherLogos = [...state.publisherLogos].map(\n        (publisherLogo) => {\n          publisherLogo.active =\n            publisherLogo.id === action.payload.publisherLogo.id;\n          return publisherLogo;\n        }\n      );\n\n      return {\n        ...state,\n        error: {},\n        isLoading: false,\n        settingSaved: true,\n        publisherLogos: newPublisherLogos,\n      };\n    }\n\n    case ACTION_TYPES.REMOVE_SUCCESS: {\n      const wasDefault = state.publisherLogos.some(\n        ({ id, active }) => id === action.payload.id && active\n      );\n\n      const newPublisherLogos = [...state.publisherLogos]\n        .filter(({ id }) => id !== action.payload.id)\n        .map((publisherLogo, index) => {\n          publisherLogo.active = wasDefault\n            ? 0 === index\n            : publisherLogo.active;\n          return publisherLogo;\n        });\n\n      return {\n        ...state,\n        error: {},\n        isLoading: false,\n        settingSaved: true,\n        publisherLogos: newPublisherLogos,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default publisherLogoReducer;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport {\n  AD_NETWORK_TYPE,\n  ARCHIVE_TYPE,\n  SHOPPING_PROVIDER_TYPE,\n} from '../../constants';\n\nexport const ACTION_TYPES = {\n  UPDATE_SETTINGS_SUCCESS: 'update_settings_success',\n  UPDATE_SETTINGS_FAILURE: 'update_settings_failure',\n  SETTING_SAVED: 'setting_saved',\n  FETCH_SETTINGS_SUCCESS: 'fetch_settings_success',\n  FETCH_SETTINGS_FAILURE: 'fetch_settings_failure',\n};\n\nexport const defaultSettingsState = {\n  error: {},\n  googleAnalyticsId: '',\n  usingLegacyAnalytics: false,\n  adSensePublisherId: '',\n  adSenseSlotId: '',\n  adManagerSlotId: '',\n  adNetwork: AD_NETWORK_TYPE.NONE,\n  archive: ARCHIVE_TYPE.DEFAULT,\n  archivePageId: 0,\n  videoCache: false,\n  settingSaved: false,\n  shoppingProvider: SHOPPING_PROVIDER_TYPE.NONE,\n  shopifyHost: '',\n  shopifyAccessToken: '',\n};\n\nfunction settingsReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.SETTING_SAVED: {\n      return {\n        ...state,\n        settingSaved: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.UPDATE_SETTINGS_FAILURE:\n    case ACTION_TYPES.FETCH_SETTINGS_FAILURE: {\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n      };\n    }\n\n    case ACTION_TYPES.FETCH_SETTINGS_SUCCESS:\n    case ACTION_TYPES.UPDATE_SETTINGS_SUCCESS: {\n      return {\n        ...state,\n        error: {},\n        googleAnalyticsId: action.payload.googleAnalyticsId,\n        usingLegacyAnalytics: action.payload.usingLegacyAnalytics,\n        adSensePublisherId: action.payload.adSensePublisherId,\n        adSenseSlotId: action.payload.adSenseSlotId,\n        adManagerSlotId: action.payload.adManagerSlotId,\n        adNetwork: action.payload.adNetwork,\n        videoCache: action.payload.videoCache,\n        archive: action.payload.archive,\n        archivePageId: action.payload.archivePageId,\n        shoppingProvider: action.payload.shoppingProvider,\n        shopifyHost: action.payload.shopifyHost,\n        shopifyAccessToken: action.payload.shopifyAccessToken,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default settingsReducer;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { addQueryArgs } from '@googleforcreators/url';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Transform settings api response.\n *\n * @param {Object} response API response.\n * @return {Object} Transformed object.\n */\nconst transformSettingResponse = (response) => ({\n  googleAnalyticsId: response.web_stories_ga_tracking_id,\n  usingLegacyAnalytics: response.web_stories_using_legacy_analytics,\n  adSensePublisherId: response.web_stories_adsense_publisher_id,\n  adSenseSlotId: response.web_stories_adsense_slot_id,\n  adManagerSlotId: response.web_stories_ad_manager_slot_id,\n  adNetwork: response.web_stories_ad_network,\n  videoCache: response.web_stories_video_cache,\n  archive: response.web_stories_archive,\n  archivePageId: response.web_stories_archive_page_id,\n  shoppingProvider: response.web_stories_shopping_provider,\n  shopifyHost: response.web_stories_shopify_host,\n  shopifyAccessToken: response.web_stories_shopify_access_token,\n});\n\n/**\n * Fetch settings.\n * Used on settings page.\n *\n * @param {string} apiPath API path.\n * @return {Promise} Request promise.\n */\nexport function fetchSettings(apiPath) {\n  return apiFetch({\n    path: apiPath,\n  }).then(transformSettingResponse);\n}\n\n/**\n * Update settings.\n *\n * @param {string} apiPath API path.\n * @param {Object} queryParams Query parameters to apply to URL.\n * @return {Promise} Request promise.\n */\nexport function updateSettings(apiPath, queryParams) {\n  const {\n    googleAnalyticsId,\n    usingLegacyAnalytics,\n    adSensePublisherId,\n    adSenseSlotId,\n    adManagerSlotId,\n    adNetwork,\n    videoCache,\n    archive,\n    archivePageId,\n    shoppingProvider,\n    shopifyHost,\n    shopifyAccessToken,\n  } = queryParams;\n\n  const query = {};\n\n  if (googleAnalyticsId !== undefined) {\n    query.web_stories_ga_tracking_id = googleAnalyticsId;\n  }\n\n  if (usingLegacyAnalytics !== undefined) {\n    query.web_stories_using_legacy_analytics = usingLegacyAnalytics;\n  }\n\n  if (adSensePublisherId !== undefined) {\n    query.web_stories_adsense_publisher_id = adSensePublisherId;\n  }\n\n  if (adSenseSlotId !== undefined) {\n    query.web_stories_adsense_slot_id = adSenseSlotId;\n  }\n\n  if (adManagerSlotId !== undefined) {\n    query.web_stories_ad_manager_slot_id = adManagerSlotId;\n  }\n\n  if (adNetwork !== undefined) {\n    query.web_stories_ad_network = adNetwork;\n  }\n\n  if (videoCache !== undefined) {\n    query.web_stories_video_cache = Boolean(videoCache);\n  }\n\n  if (archive !== undefined) {\n    query.web_stories_archive = archive;\n  }\n\n  if (archivePageId !== undefined) {\n    query.web_stories_archive_page_id = archivePageId;\n  }\n\n  if (shoppingProvider !== undefined) {\n    query.web_stories_shopping_provider = shoppingProvider;\n  }\n\n  if (shopifyHost !== undefined) {\n    query.web_stories_shopify_host = shopifyHost;\n  }\n\n  if (shopifyAccessToken !== undefined) {\n    query.web_stories_shopify_access_token = shopifyAccessToken;\n  }\n\n  const path = addQueryArgs(apiPath, query);\n\n  return apiFetch({\n    path,\n    method: 'POST',\n  }).then(transformSettingResponse);\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { addQueryArgs } from '@googleforcreators/url';\nimport {\n  ORDER_BY_SORT,\n  STORIES_PER_REQUEST,\n  STORY_SORT_OPTIONS,\n  STORY_STATUS,\n} from '@googleforcreators/dashboard';\nimport { createSolidFromString } from '@googleforcreators/patterns';\nimport { snakeToCamelCaseObjectKeys } from '@web-stories-wp/wp-utils';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { STORY_FIELDS, STORY_EMBED } from './constants';\nimport { reshapeStoryObject } from './utils';\n\n/**\n * Fetch stories ( When dashboard link is clicked. )\n *\n * @param {Object} config Configuration object.\n * @param {Object} queryParams Query params.\n * @return {Promise} Request promise.\n */\nexport function fetchStories(config, queryParams) {\n  const {\n    status = STORY_STATUS.ALL,\n    sortOption = STORY_SORT_OPTIONS.LAST_MODIFIED,\n    sortDirection,\n    searchTerm,\n    page = 1,\n    perPage = STORIES_PER_REQUEST,\n    author,\n  } = queryParams;\n\n  // Important: Keep in sync with REST API preloading definition.\n  const query = {\n    _embed: STORY_EMBED,\n    context: 'edit',\n    _web_stories_envelope: true,\n    search: searchTerm || undefined,\n    orderby: sortOption,\n    page,\n    per_page: perPage,\n    order: sortDirection || ORDER_BY_SORT[sortOption],\n    status,\n    _fields: STORY_FIELDS,\n    author,\n  };\n\n  return apiFetch({\n    path: addQueryArgs(config.api.stories, query),\n  }).then(({ body: stories, headers }) => {\n    const totalPages = headers && parseInt(headers['X-WP-TotalPages']);\n    const totalStoriesByStatus =\n      headers && JSON.parse(headers['X-WP-TotalByStatus']);\n\n    const fetchedStoryIds = [];\n    const reshapedStories = stories.reduce((acc, current) => {\n      if (!current) {\n        return acc;\n      }\n      fetchedStoryIds.push(current.id);\n      acc[current.id] = reshapeStoryObject(current);\n      return acc;\n    }, {});\n\n    return {\n      stories: reshapedStories,\n      fetchedStoryIds,\n      totalPages,\n      totalStoriesByStatus,\n    };\n  });\n}\n\n/**\n * Trash stories.\n *\n * @param {Object} config Configuration object.\n * @param {number|string} storyId Story Id.\n * @return {Promise} Request promise.\n */\nexport function trashStory(config, storyId) {\n  const path = addQueryArgs(`${config.api.stories}${storyId}`, {\n    _method: 'DELETE',\n  });\n\n  return apiFetch({\n    path,\n    method: 'POST',\n  });\n}\n\n/**\n * Update story.\n *\n * @param {Object} config Configuration object.\n * @param {Object} story Story object.\n * @return {Promise} Request promise.\n */\nexport function updateStory(config, story) {\n  const path = addQueryArgs(`${config.api.stories}${story.id}/`, {\n    _embed: STORY_EMBED,\n  });\n\n  const data = {\n    id: story.id,\n    author: story.author.id,\n    title: story.title?.raw || story.title,\n  };\n\n  return apiFetch({\n    path,\n    data,\n    method: 'POST',\n  }).then(reshapeStoryObject);\n}\n\n/**\n * Create story from template\n *\n * @param {Object} config Configuration object.\n * @param {Object} template Template object.\n * @return {Promise} Request promise.\n */\nexport const createStoryFromTemplate = async (config, template) => {\n  const path = addQueryArgs(config.api.stories, {\n    _fields: 'edit_link',\n  });\n\n  const { createdBy, pages, version, colors } = template;\n  const { getStoryMarkup } = await import(\n    /* webpackChunkName: \"chunk-getStoryMarkup\" */ '@googleforcreators/output'\n  );\n\n  const story = {\n    featuredMedia: {\n      id: 0,\n      url: '',\n    },\n    publisherLogo: {\n      url: '',\n    },\n    title: '',\n  };\n\n  const content = getStoryMarkup(story, pages, {\n    publisher: createdBy,\n  });\n\n  const storyPropsToSave = {\n    content,\n    pages,\n    featuredMedia: story.featuredMedia,\n    title: story.title,\n    status: 'auto-draft',\n    meta: {\n      web_stories_publisher_logo: story.publisherLogo.id,\n    },\n  };\n\n  const convertedColors = colors.map(({ color }) =>\n    createSolidFromString(color)\n  );\n\n  const storyData = {\n    pages,\n    version,\n    autoAdvance: true,\n    defaultPageDuration: 7,\n    currentStoryStyles: {\n      colors: convertedColors,\n    },\n  };\n\n  return apiFetch({\n    path,\n    data: {\n      ...storyPropsToSave,\n      story_data: storyData,\n    },\n    method: 'POST',\n  }).then(snakeToCamelCaseObjectKeys);\n};\n\n/**\n * Duplicate story.\n *\n * @param {Object} config Configuration object.\n * @param {Object} story Story object.\n * @return {Promise} Request promise.\n */\nexport function duplicateStory(config, story) {\n  const path = addQueryArgs(config.api.stories, {\n    _embed: STORY_EMBED,\n    _fields: STORY_FIELDS,\n  });\n\n  return apiFetch({\n    path,\n    data: {\n      original_id: story.id,\n      status: 'draft',\n    },\n    method: 'POST',\n  }).then(reshapeStoryObject);\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * External dependencies\n */\nimport { snakeToCamelCaseObjectKeys } from '@web-stories-wp/wp-utils';\n\n/**\n * Get user.\n *\n * @param {string} apiPath API path.\n * @return {Promise} Request promise.\n */\nexport function getUser(apiPath) {\n  return apiFetch({\n    path: apiPath,\n  }).then(snakeToCamelCaseObjectKeys);\n}\n\n/**\n * Toggle web stories media optimization on settings page.\n *\n * @param {string} apiPath API path.\n * @param {Object} currentUser Current user.\n * @return {Promise} Request promise.\n */\nexport function toggleWebStoriesMediaOptimization(apiPath, currentUser) {\n  return apiFetch({\n    path: apiPath,\n    data: {\n      meta: {\n        web_stories_media_optimization:\n          !currentUser.meta.webStoriesMediaOptimization,\n      },\n    },\n    method: 'POST',\n  }).then(snakeToCamelCaseObjectKeys);\n}\n\n/**\n * Handles the toggle web stories tracking opt in on settings page.\n *\n * @param {string} apiPath API path.\n * @param {Object} currentUser Current user object.\n * @return {Promise} Request promise.\n */\nexport function toggleWebStoriesTrackingOptIn(apiPath, currentUser) {\n  return apiFetch({\n    path: apiPath,\n    data: {\n      meta: {\n        web_stories_tracking_optin: !currentUser.meta.webStoriesTrackingOptin,\n      },\n    },\n    method: 'POST',\n  }).then(snakeToCamelCaseObjectKeys);\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as reshapeStoryObject } from './reshapeStoryObject';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { REST_LINKS } from '../constants';\n\nexport default function reshapeStoryObject(originalStoryData) {\n  const {\n    id,\n    title,\n    status,\n    date,\n    date_gmt,\n    modified,\n    modified_gmt,\n    link,\n    preview_link: previewLink,\n    edit_link: editStoryLink,\n    _embedded: {\n      author = [{ name: '', id: 0 }],\n      'wp:featuredmedia': featuredMedia = [{ source_url: '' }],\n      'wp:lock': lock = [{ locked: false }],\n      'wp:lockuser': lockUser = [{ id: 0, name: '' }],\n    } = {},\n    _links: links = {},\n  } = originalStoryData;\n  if (!id) {\n    return null;\n  }\n  const { source_url: featuredMediaUrl } = featuredMedia[0];\n  const capabilities = {\n    hasEditAction: Object.prototype.hasOwnProperty.call(links, REST_LINKS.EDIT),\n    hasDeleteAction: Object.prototype.hasOwnProperty.call(\n      links,\n      REST_LINKS.DELETE\n    ),\n  };\n\n  return {\n    id,\n    status,\n    title: title.raw,\n    created: date,\n    createdGmt: `${date_gmt}Z`,\n    modified,\n    modifiedGmt: `${modified_gmt}Z`,\n    author: {\n      name: author[0].name,\n      id: author[0].id,\n    },\n    locked: lock[0]?.locked,\n    lockUser: {\n      id: lockUser[0].id,\n      name: lockUser[0].name,\n      avatar: lockUser[0]?.avatar_urls?.['96'] || null,\n    },\n    bottomTargetAction: editStoryLink,\n    featuredMediaUrl,\n    editStoryLink,\n    previewLink,\n    link,\n    capabilities,\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, _x, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport { trackClick } from '@googleforcreators/tracking';\nimport { THEME_CONSTANTS, DropDown } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { InlineLink, TextInputHelperText } from '../../components';\nimport { AD_NETWORK_TYPE } from '../../../../constants';\n\nexport const TEXT = {\n  SLOT_ID_LABEL: __('Monetization type', 'web-stories'),\n\n  HELPER_MESSAGE_ADSENSE: __(\n    'Learn more about <a>how to monetize your Web Stories</a> using AdSense. Once configured, AdSense will determine where and how to insert ads into the story. Consult <help>AdSense Help</help> for any further assistance.',\n    'web-stories'\n  ),\n  HELPER_MESSAGE_ADMANAGER: __(\n    'Learn how to <a>enable programmatic demand in Web Stories</a> through Ad Manager.',\n    'web-stories'\n  ),\n  HELPER_LINK_ADSENSE: __(\n    'https://support.google.com/adsense/answer/10175505',\n    'web-stories'\n  ),\n  HELPER_LINK_ADSENSE_HELP: __(\n    'https://support.google.com/adsense/',\n    'web-stories'\n  ),\n  HELPER_LINK_ADMANAGER: __(\n    'https://support.google.com/admanager/answer/9416436',\n    'web-stories'\n  ),\n};\n\nconst OPTIONS = [\n  {\n    label: _x('None', 'ad network', 'web-stories'),\n    value: AD_NETWORK_TYPE.NONE,\n  },\n  {\n    label: __('Google AdSense', 'web-stories'),\n    value: AD_NETWORK_TYPE.ADSENSE,\n  },\n  {\n    label: __('Google Ad Manager', 'web-stories'),\n    value: AD_NETWORK_TYPE.ADMANAGER,\n  },\n];\n\nfunction AdNetworkSettings({ adNetwork: adNetworkRaw, handleUpdate }) {\n  const [adNetwork, setAdNetwork] = useState(adNetworkRaw);\n\n  useEffect(() => setAdNetwork(adNetworkRaw), [adNetworkRaw]);\n\n  const message = useMemo(() => {\n    if (AD_NETWORK_TYPE.ADMANAGER === adNetwork) {\n      return TEXT.HELPER_MESSAGE_ADMANAGER;\n    }\n\n    if (AD_NETWORK_TYPE.ADSENSE === adNetwork) {\n      return TEXT.HELPER_MESSAGE_ADSENSE;\n    }\n\n    return null;\n  }, [adNetwork]);\n\n  const link = useMemo(() => {\n    if (AD_NETWORK_TYPE.ADMANAGER === adNetwork) {\n      return TEXT.HELPER_LINK_ADMANAGER;\n    }\n\n    if (AD_NETWORK_TYPE.ADSENSE === adNetwork) {\n      return TEXT.HELPER_LINK_ADSENSE;\n    }\n\n    return null;\n  }, [adNetwork]);\n\n  const handleMonetizationClick = useCallback(\n    (evt) => trackClick(evt, 'click_monetization_docs'),\n    []\n  );\n\n  return (\n    <>\n      <DropDown\n        ariaLabel={TEXT.SLOT_ID_LABEL}\n        options={OPTIONS}\n        selectedValue={adNetwork}\n        onMenuItemClick={(_, newAdNetwork) => handleUpdate(newAdNetwork)}\n        fillWidth\n      />\n\n      {message && (\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          <TranslateWithMarkup\n            mapping={{\n              a: (\n                <InlineLink\n                  href={link}\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  onClick={handleMonetizationClick}\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                />\n              ),\n              help: (\n                <InlineLink\n                  href={TEXT.HELPER_LINK_ADSENSE_HELP}\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                />\n              ),\n            }}\n          >\n            {message}\n          </TranslateWithMarkup>\n        </TextInputHelperText>\n      )}\n    </>\n  );\n}\nAdNetworkSettings.propTypes = {\n  handleUpdate: PropTypes.func,\n  adNetwork: PropTypes.oneOf(Object.values(AD_NETWORK_TYPE)),\n};\n\nexport default AdNetworkSettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useState, useCallback, useEffect } from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { validateAdManagerSlotIdFormat } from '../../utils';\nimport {\n  InlineForm,\n  SaveButton,\n  SettingsTextInput,\n  TextInputHelperText,\n  VisuallyHiddenLabel,\n} from '../../components';\n\nexport const TEXT = {\n  SLOT_ID_CONTEXT: sprintf(\n    /* translators: %s: example value. */\n    __('Example: %s', 'web-stories'),\n    '/123456789/a4a/amp_story_dfp_example'\n  ),\n  SLOT_ID_PLACEHOLDER: __('Enter your Slot ID', 'web-stories'),\n  SLOT_ID_LABEL: __('Google Ad Manager Slot ID', 'web-stories'),\n  INPUT_ERROR: __('Invalid ID format', 'web-stories'),\n  SUBMIT_BUTTON: __('Save', 'web-stories'),\n};\n\nfunction GoogleAdManagerSettings({ slotId: adManagerSlotId, handleUpdate }) {\n  const [slotId, setSlotId] = useState(adManagerSlotId);\n  const [slotIdInputError, setSlotIdInputError] = useState('');\n  const canSaveSlotId = slotId !== adManagerSlotId && !slotIdInputError;\n  const disableSlotIdSaveButton = !canSaveSlotId;\n\n  useEffect(() => {\n    setSlotId(adManagerSlotId);\n  }, [adManagerSlotId]);\n\n  const onUpdateSlotId = useCallback((event) => {\n    const { value } = event.target;\n    setSlotId(value);\n\n    if (value.length === 0 || validateAdManagerSlotIdFormat(value)) {\n      setSlotIdInputError('');\n\n      return;\n    }\n\n    setSlotIdInputError(TEXT.INPUT_ERROR);\n  }, []);\n\n  const onSaveSlotId = useCallback(() => {\n    if (canSaveSlotId) {\n      handleUpdate(slotId);\n    }\n  }, [canSaveSlotId, slotId, handleUpdate]);\n\n  const onKeyDownSlotId = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        onSaveSlotId();\n      }\n    },\n    [onSaveSlotId]\n  );\n\n  return (\n    <>\n      <InlineForm>\n        <VisuallyHiddenLabel htmlFor=\"adManagerSlotId\">\n          {TEXT.SLOT_ID_LABEL}\n        </VisuallyHiddenLabel>\n        <SettingsTextInput\n          id=\"adManagerSlotId\"\n          aria-label={TEXT.SLOT_ID_LABEL}\n          value={slotId}\n          onChange={onUpdateSlotId}\n          onKeyDown={onKeyDownSlotId}\n          placeholder={TEXT.SLOT_ID_PLACEHOLDER}\n          hasError={Boolean(slotIdInputError)}\n          hint={slotIdInputError}\n        />\n        <SaveButton\n          type={BUTTON_TYPES.SECONDARY}\n          size={BUTTON_SIZES.SMALL}\n          disabled={disableSlotIdSaveButton}\n          onClick={onSaveSlotId}\n        >\n          {TEXT.SUBMIT_BUTTON}\n        </SaveButton>\n      </InlineForm>\n      <TextInputHelperText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n        {TEXT.SLOT_ID_CONTEXT}\n      </TextInputHelperText>\n    </>\n  );\n}\nGoogleAdManagerSettings.propTypes = {\n  handleUpdate: PropTypes.func,\n  slotId: PropTypes.string,\n};\n\nexport default GoogleAdManagerSettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useState, useCallback, useEffect } from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport { trackClick } from '@googleforcreators/tracking';\nimport {\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  validateAdSensePublisherIdFormat,\n  validateAdSenseSlotIdFormat,\n} from '../../utils';\nimport {\n  InlineForm,\n  InlineLink,\n  SaveButton,\n  SettingsTextInput,\n  TextInputHelperText,\n  VisuallyHiddenLabel,\n} from '../../components';\n\nexport const TEXT = {\n  PUBLISHER_ID_CONTEXT: sprintf(\n    /* translators: 1: first example. 2: second example. */\n    __(\n      'Example: %1$s or %2$s. <a>Find your AdSense Publisher ID</a>.',\n      'web-stories'\n    ),\n    'pub-1234567891234567',\n    'ca-pub-1234567891234567'\n  ),\n  PUBLISHER_ID_CONTEXT_LINK: __(\n    'https://support.google.com/adsense/answer/105516',\n    'web-stories'\n  ),\n  PUBLISHER_ID_PLACEHOLDER: __('Enter your Publisher ID', 'web-stories'),\n  PUBLISHER_ID_LABEL: __('Google AdSense Publisher ID', 'web-stories'),\n  SLOT_ID_CONTEXT: sprintf(\n    /* translators: %s: example value. */\n    __(\n      'Example: %s. Copy the slot ID from <a>your ad units code</a>. The same ad unit will be used for all of your Web Stories.',\n      'web-stories'\n    ),\n    '1234567890'\n  ),\n  SLOT_ID_CONTEXT_LINK: __(\n    'https://support.google.com/adsense/answer/9274019',\n    'web-stories'\n  ),\n  SLOT_ID_PLACEHOLDER: __('Enter your Slot ID', 'web-stories'),\n  SLOT_ID_LABEL: __('Google AdSense Slot ID', 'web-stories'),\n  INPUT_ERROR: __('Invalid ID format', 'web-stories'),\n  SUBMIT_BUTTON: __('Save', 'web-stories'),\n};\n\nfunction GoogleAdSenseSettings({\n  publisherId: adSensePublisherId,\n  slotId: adSenseSlotId,\n  handleUpdatePublisherId,\n  handleUpdateSlotId,\n}) {\n  const [publisherId, setPublisherId] = useState(adSensePublisherId);\n  const [publisherIdInputError, setPublisherIdInputError] = useState('');\n  const canSavePublisherId =\n    publisherId !== adSensePublisherId && !publisherIdInputError;\n  const disablePublisherIdSaveButton = !canSavePublisherId;\n\n  const [slotId, setSlotId] = useState(adSenseSlotId);\n  const [slotIdInputError, setSlotIdInputError] = useState('');\n  const canSaveSlotId = slotId !== adSenseSlotId && !slotIdInputError;\n  const disableSlotIdSaveButton = !canSaveSlotId;\n\n  useEffect(() => {\n    setPublisherId(adSensePublisherId);\n  }, [adSensePublisherId]);\n\n  const onUpdatePublisherId = useCallback((event) => {\n    const { value } = event.target;\n    setPublisherId(value);\n\n    if (value.length === 0 || validateAdSensePublisherIdFormat(value)) {\n      setPublisherIdInputError('');\n\n      return;\n    }\n\n    setPublisherIdInputError(TEXT.INPUT_ERROR);\n  }, []);\n\n  const onSavePublisherId = useCallback(() => {\n    if (canSavePublisherId) {\n      handleUpdatePublisherId(publisherId);\n    }\n  }, [canSavePublisherId, publisherId, handleUpdatePublisherId]);\n\n  const onKeyDownPublisherId = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        onSavePublisherId();\n      }\n    },\n    [onSavePublisherId]\n  );\n\n  useEffect(() => {\n    setSlotId(adSenseSlotId);\n  }, [adSenseSlotId]);\n\n  const onUpdateSlotId = useCallback((event) => {\n    const { value } = event.target;\n    setSlotId(value);\n\n    if (value.length === 0 || validateAdSenseSlotIdFormat(value)) {\n      setSlotIdInputError('');\n\n      return;\n    }\n\n    setSlotIdInputError(TEXT.INPUT_ERROR);\n  }, []);\n\n  const onSaveSlotId = useCallback(() => {\n    if (canSaveSlotId) {\n      handleUpdateSlotId(slotId);\n    }\n  }, [canSaveSlotId, slotId, handleUpdateSlotId]);\n\n  const onKeyDownSlotId = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        onSaveSlotId();\n      }\n    },\n    [onSaveSlotId]\n  );\n\n  const handleClick = useCallback(\n    (evt) => trackClick(evt, 'click_adsense_publisher_id_docs'),\n    []\n  );\n\n  return (\n    <>\n      <InlineForm>\n        <VisuallyHiddenLabel htmlFor=\"adSensePublisherId\">\n          {TEXT.PUBLISHER_ID_LABEL}\n        </VisuallyHiddenLabel>\n        <SettingsTextInput\n          aria-label={TEXT.PUBLISHER_ID_LABEL}\n          id=\"adSensePublisherId\"\n          name=\"adSensePublisherId\"\n          data-testid=\"adSensePublisherId\"\n          value={publisherId}\n          onChange={onUpdatePublisherId}\n          onKeyDown={onKeyDownPublisherId}\n          placeholder={TEXT.PUBLISHER_ID_PLACEHOLDER}\n          hasError={Boolean(publisherIdInputError)}\n          hint={publisherIdInputError}\n        />\n        <SaveButton\n          type={BUTTON_TYPES.SECONDARY}\n          size={BUTTON_SIZES.SMALL}\n          disabled={disablePublisherIdSaveButton}\n          onClick={onSavePublisherId}\n          data-testid=\"adSensePublisherIdButton\"\n        >\n          {TEXT.SUBMIT_BUTTON}\n        </SaveButton>\n      </InlineForm>\n      <TextInputHelperText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n        <TranslateWithMarkup\n          mapping={{\n            a: (\n              <InlineLink\n                href={TEXT.PUBLISHER_ID_CONTEXT_LINK}\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                onClick={handleClick}\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              />\n            ),\n          }}\n        >\n          {TEXT.PUBLISHER_ID_CONTEXT}\n        </TranslateWithMarkup>\n      </TextInputHelperText>\n\n      <InlineForm>\n        <VisuallyHiddenLabel htmlFor=\"adSenseSlotId\">\n          {TEXT.SLOT_ID_LABEL}\n        </VisuallyHiddenLabel>\n        <SettingsTextInput\n          id=\"adSenseSlotId\"\n          aria-label={TEXT.SLOT_ID_LABEL}\n          name=\"adSenseSlotId\"\n          data-testid=\"adSenseSlotId\"\n          value={slotId}\n          onChange={onUpdateSlotId}\n          onKeyDown={onKeyDownSlotId}\n          placeholder={TEXT.SLOT_ID_PLACEHOLDER}\n          hasError={Boolean(slotIdInputError)}\n          hint={slotIdInputError}\n        />\n        <SaveButton\n          type={BUTTON_TYPES.SECONDARY}\n          size={BUTTON_SIZES.SMALL}\n          disabled={disableSlotIdSaveButton}\n          onClick={onSaveSlotId}\n          data-testid=\"adSenseSlotIdButton\"\n        >\n          {TEXT.SUBMIT_BUTTON}\n        </SaveButton>\n      </InlineForm>\n      <TextInputHelperText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n        <TranslateWithMarkup\n          mapping={{\n            a: (\n              <InlineLink\n                href={TEXT.SLOT_ID_CONTEXT_LINK}\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              />\n            ),\n          }}\n        >\n          {TEXT.SLOT_ID_CONTEXT}\n        </TranslateWithMarkup>\n      </TextInputHelperText>\n    </>\n  );\n}\nGoogleAdSenseSettings.propTypes = {\n  handleUpdatePublisherId: PropTypes.func,\n  handleUpdateSlotId: PropTypes.func,\n  publisherId: PropTypes.string,\n  slotId: PropTypes.string,\n};\n\nexport default GoogleAdSenseSettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useCallback, useMemo } from '@googleforcreators/react';\nimport { __, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport { trackClick, trackEvent } from '@googleforcreators/tracking';\nimport { THEME_CONSTANTS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  InlineLink,\n  MultilineForm,\n  SettingHeading,\n  SettingSubheading,\n  TextInputHelperText,\n} from '../components';\nimport { AD_NETWORK_TYPE } from '../../../constants';\nimport AdNetworkSettings from './adNetwork';\nimport GoogleAdManagerSettings from './googleAdManager';\nimport GoogleAdSenseSettings from './googleAdSense';\n\nexport const TEXT = {\n  SECTION_HEADING: __('Monetization', 'web-stories'),\n  HELPER_MESSAGE_NONE: __(\n    'Monetize your content by showing ads in your Web Stories. <a>Learn more</a>.',\n    'web-stories'\n  ),\n  HELPER_LINK_NONE: __(\n    'https://amp.dev/documentation/guides-and-tutorials/develop/advertise_amp_stories/',\n    'web-stories'\n  ),\n  SITE_KIT_NOT_INSTALLED: __(\n    'Install <a>Site Kit by Google</a> to easily enable Google AdSense for Web Stories.',\n    'web-stories'\n  ),\n  SITE_KIT_INSTALLED: __(\n    'Use Site Kit by Google to easily<a>activate Google AdSense</a> for Web Stories.',\n    'web-stories'\n  ),\n  SITE_KIT_IN_USE: __(\n    'Site Kit by Google has already enabled Google AdSense for your Web Stories, all changes to your ad configuration should occur there.',\n    'web-stories'\n  ),\n};\n\nfunction AdManagement({\n  updateSettings,\n  adNetwork,\n  publisherId,\n  adSenseSlotId,\n  adManagerSlotId,\n  siteKitStatus,\n}) {\n  const { adsenseActive, installed, adsenseLink } = siteKitStatus;\n\n  const handleMonetizationClick = useCallback(\n    (evt) =>\n      trackClick(evt, 'monetization', 'dashboard', TEXT.HELPER_LINK_NONE),\n    []\n  );\n\n  const handleUpdateAdSensePublisherId = useCallback(\n    (newAdSensePublisherId) =>\n      updateSettings({ adSensePublisherId: newAdSensePublisherId }),\n    [updateSettings]\n  );\n\n  const handleUpdateAdSenseSlotId = useCallback(\n    (newAdSenseSlotId) => updateSettings({ adSenseSlotId: newAdSenseSlotId }),\n    [updateSettings]\n  );\n\n  const handleUpdateAdManagerSlotId = useCallback(\n    (newAdManagerSlotId) =>\n      updateSettings({ adManagerSlotId: newAdManagerSlotId }),\n    [updateSettings]\n  );\n\n  const handleUpdateAdNetwork = useCallback(\n    (newAdNetwork) => {\n      updateSettings({ adNetwork: newAdNetwork });\n      trackEvent('change_ad_network', {\n        name: newAdNetwork,\n      });\n    },\n    [updateSettings]\n  );\n\n  const onSiteKitClick = useCallback(\n    (evt) => trackClick(evt, 'click_site_kit_link'),\n    []\n  );\n\n  const siteKitDisplayText = useMemo(() => {\n    if (adsenseActive) {\n      return null;\n    }\n\n    return (\n      <TranslateWithMarkup\n        mapping={{\n          a: (\n            <InlineLink\n              href={adsenseLink}\n              rel=\"noreferrer\"\n              target=\"_blank\"\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              onClick={onSiteKitClick}\n            />\n          ),\n        }}\n      >\n        {installed ? TEXT.SITE_KIT_INSTALLED : TEXT.SITE_KIT_NOT_INSTALLED}\n      </TranslateWithMarkup>\n    );\n  }, [adsenseActive, installed, adsenseLink, onSiteKitClick]);\n\n  return (\n    <MultilineForm onSubmit={(e) => e.preventDefault()}>\n      <div>\n        <SettingHeading>{TEXT.SECTION_HEADING}</SettingHeading>\n\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          <TranslateWithMarkup\n            mapping={{\n              a: (\n                <InlineLink\n                  href={TEXT.HELPER_LINK_NONE}\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  onClick={handleMonetizationClick}\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                />\n              ),\n            }}\n          >\n            {TEXT.HELPER_MESSAGE_NONE}\n          </TranslateWithMarkup>\n        </TextInputHelperText>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {siteKitDisplayText}\n        </SettingSubheading>\n      </div>\n\n      {adsenseActive ? (\n        <div>\n          <TextInputHelperText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n          >\n            {TEXT.SITE_KIT_IN_USE}\n          </TextInputHelperText>\n        </div>\n      ) : (\n        <div>\n          <AdNetworkSettings\n            handleUpdate={handleUpdateAdNetwork}\n            adNetwork={adNetwork}\n          />\n          {AD_NETWORK_TYPE.ADSENSE === adNetwork && (\n            <GoogleAdSenseSettings\n              handleUpdatePublisherId={handleUpdateAdSensePublisherId}\n              handleUpdateSlotId={handleUpdateAdSenseSlotId}\n              publisherId={publisherId}\n              slotId={adSenseSlotId}\n              siteKitStatus={siteKitStatus}\n            />\n          )}\n          {AD_NETWORK_TYPE.ADMANAGER === adNetwork && (\n            <GoogleAdManagerSettings\n              handleUpdate={handleUpdateAdManagerSlotId}\n              slotId={adManagerSlotId}\n            />\n          )}\n        </div>\n      )}\n    </MultilineForm>\n  );\n}\n\nAdManagement.propTypes = {\n  updateSettings: PropTypes.func.isRequired,\n  adNetwork: PropTypes.string.isRequired,\n  publisherId: PropTypes.string,\n  adSenseSlotId: PropTypes.string,\n  adManagerSlotId: PropTypes.string,\n  siteKitStatus: PropTypes.shape({\n    installed: PropTypes.bool,\n    active: PropTypes.bool,\n    adsenseActive: PropTypes.bool,\n    analyticsActive: PropTypes.bool,\n    adsenseLink: PropTypes.string,\n  }),\n};\n\nexport default AdManagement;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  useCallback,\n  useDebouncedCallback,\n  useEffect,\n  useState,\n} from '@googleforcreators/react';\nimport { __, _x, TranslateWithMarkup, sprintf } from '@googleforcreators/i18n';\nimport {\n  DropDown,\n  Search,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\nimport { trackEvent } from '@googleforcreators/tracking';\nimport styled from 'styled-components';\nimport { TEXT_INPUT_DEBOUNCE } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport {\n  InlineLink,\n  SettingForm,\n  SettingHeading,\n  TextInputHelperText,\n} from '../components';\nimport { ARCHIVE_TYPE } from '../../../constants';\n\nexport const TEXT = {\n  LABEL: __('Stories Archives', 'web-stories'),\n  SECTION_HEADING: __('Stories Archives', 'web-stories'),\n  ARCHIVE_CONTENT: __(\n    \"By default WordPress automatically creates an archive page, displaying your latest stories in your theme's layout.\",\n    'web-stories'\n  ),\n  ARCHIVE_CONTENT_2: __(\n    'You can customize or disable this behavior.',\n    'web-stories'\n  ),\n  SUB_TEXT_CUSTOM: __(\n    'Choose a page to serve as your Web Stories archive. Use the Web Stories block to add stories to this page.',\n    'web-stories'\n  ),\n};\n\nconst OPTIONS = [\n  {\n    label: _x('Default', 'archive type', 'web-stories'),\n    value: ARCHIVE_TYPE.DEFAULT,\n  },\n  {\n    label: __('Disabled', 'web-stories'),\n    value: ARCHIVE_TYPE.DISABLED,\n  },\n  {\n    label: __('Create your own', 'web-stories'),\n    value: ARCHIVE_TYPE.CUSTOM,\n  },\n];\n\nconst SearchWrapper = styled.div`\n  padding-top: 12px;\n`;\n\nexport default function ArchiveSettings({\n  archive = ARCHIVE_TYPE.DEFAULT,\n  archiveURL: _archiveURL,\n  defaultArchiveURL,\n  archivePageId,\n  updateSettings,\n  searchPages,\n  getPageById,\n}) {\n  const [archiveURL, setArchiveURL] = useState(_archiveURL);\n  const [selectedPage, setSelectedPage] = useState(\n    archivePageId ? { value: archivePageId } : undefined\n  );\n  const [searchOptions, setSearchOptions] = useState([]);\n\n  const onChangeArchive = useCallback(\n    (_, newArchive) => {\n      // TODO: Get archive URL from REST API instead of config.\n      // This way, when changing from \"Custom\" to \"Default\", we can display\n      // the default \"/web-stories/\" URL again. Otherwise that's not possible.\n      setArchiveURL(_archiveURL);\n      const newArchivePageId =\n        newArchive === ARCHIVE_TYPE.CUSTOM ? archivePageId : 0;\n      setSelectedPage(newArchivePageId);\n      updateSettings({\n        archive: newArchive,\n        archivePageId: newArchivePageId,\n      });\n    },\n    [updateSettings, archivePageId, _archiveURL]\n  );\n\n  const onChangeArchivePageId = useCallback(\n    (_, newArchivePage) => {\n      const newValue = Number(newArchivePage.value);\n      if (newValue !== archivePageId) {\n        setSelectedPage(newValue ? { value: newValue } : undefined);\n        updateSettings({ archivePageId: newValue });\n      }\n    },\n    [archivePageId, updateSettings]\n  );\n\n  useEffect(() => {\n    let mounted = true;\n\n    if (archivePageId && ARCHIVE_TYPE.CUSTOM === archive) {\n      (async () => {\n        const { title, link } = await getPageById(archivePageId);\n        if (mounted && title) {\n          const newOption = { value: archivePageId, label: title };\n          setSearchOptions((options) => [newOption, ...options]);\n          setSelectedPage(newOption);\n          setArchiveURL(link);\n        }\n      })();\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [archive, archivePageId, getPageById]);\n\n  const handleSearchChange = useDebouncedCallback(async (value) => {\n    await trackEvent('archive_page_search', {\n      search_type: 'dashboard',\n      search_term: value,\n    });\n    setSearchOptions(await searchPages(value));\n  }, TEXT_INPUT_DEBOUNCE);\n  return (\n    <SettingForm>\n      <div>\n        <SettingHeading>{TEXT.SECTION_HEADING}</SettingHeading>\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          {TEXT.ARCHIVE_CONTENT}\n        </TextInputHelperText>\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          {TEXT.ARCHIVE_CONTENT_2}\n        </TextInputHelperText>\n      </div>\n      <div>\n        <DropDown\n          ariaLabel={TEXT.LABEL}\n          options={OPTIONS}\n          selectedValue={archive}\n          onMenuItemClick={onChangeArchive}\n          fillWidth\n        />\n        {ARCHIVE_TYPE.DISABLED === archive && (\n          <TextInputHelperText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n          >\n            <TranslateWithMarkup\n              mapping={{\n                code: <code />,\n              }}\n            >\n              {sprintf(\n                /* translators: %s: archive url. */\n                __(\n                  'Turn off the default archive page at <code>%s</code>. Users will see a 404 Not Found page when trying to access the default archive page.',\n                  'web-stories'\n                ),\n                archiveURL\n              )}\n            </TranslateWithMarkup>\n          </TextInputHelperText>\n        )}\n        {ARCHIVE_TYPE.CUSTOM === archive && (\n          <TextInputHelperText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n          >\n            {TEXT.SUB_TEXT_CUSTOM}\n          </TextInputHelperText>\n        )}\n        {ARCHIVE_TYPE.CUSTOM === archive && (\n          <SearchWrapper>\n            <Search\n              placeholder={__('Select page', 'web-stories')}\n              selectedValue={selectedPage}\n              options={searchOptions}\n              handleSearchValueChange={handleSearchChange}\n              emptyText={__('No pages available', 'web-stories')}\n              onMenuItemClick={onChangeArchivePageId}\n            />\n          </SearchWrapper>\n        )}\n        {ARCHIVE_TYPE.DISABLED !== archive && (\n          <TextInputHelperText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n          >\n            <TranslateWithMarkup\n              mapping={{\n                a: (\n                  <InlineLink\n                    href={archiveURL}\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                    as=\"a\"\n                  />\n                ),\n                code: <code />,\n              }}\n            >\n              {archivePageId && archiveURL !== defaultArchiveURL\n                ? sprintf(\n                    /* translators: 1. current archive url, 2. default archive url. */\n                    __(\n                      'Visit archive page at <a>%1$s</a>. <code>%2$s</code> will automatically redirect to this page.',\n                      'web-stories'\n                    ),\n                    archiveURL,\n                    defaultArchiveURL\n                  )\n                : sprintf(\n                    /* translators: %s: archive url. */\n                    __('Visit archive page at <a>%1$s</a>.', 'web-stories'),\n                    archiveURL\n                  )}\n            </TranslateWithMarkup>\n          </TextInputHelperText>\n        )}\n      </div>\n    </SettingForm>\n  );\n}\n\nArchiveSettings.propTypes = {\n  archive: PropTypes.string.isRequired,\n  archiveURL: PropTypes.string.isRequired,\n  defaultArchiveURL: PropTypes.string.isRequired,\n  updateSettings: PropTypes.func.isRequired,\n  searchPages: PropTypes.func.isRequired,\n  archivePageId: PropTypes.number.isRequired,\n  getPageById: PropTypes.func.isRequired,\n};\n\nArchiveSettings.defaultProps = {\n  archive: ARCHIVE_TYPE.DEFAULT,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport {\n  Button,\n  BUTTON_TYPES,\n  BUTTON_SIZES,\n  BUTTON_VARIANTS,\n  Headline,\n  Input,\n  Link,\n  Text,\n  THEME_CONSTANTS,\n  themeHelpers,\n} from '@googleforcreators/design-system';\nimport { StandardViewContentGutter } from '@googleforcreators/dashboard';\n\nexport const Wrapper = styled.div``;\n\nexport const Main = styled(StandardViewContentGutter)`\n  display: flex;\n  flex-direction: column;\n  padding-top: 36px;\n  margin-top: 20px;\n  margin-bottom: 56px;\n  max-width: 945px;\n`;\n\nexport const SettingForm = styled.form`\n  display: grid;\n  grid-template-columns: 27% minmax(400px, 1fr);\n  column-gap: 6.56%;\n  padding-bottom: 52px;\n\n  @media ${({ theme }) => theme.breakpoint.mobile} {\n    grid-template-columns: 100%;\n    row-gap: 20px;\n  }\n`;\n\nexport const SettingHeading = styled(Headline).attrs({\n  as: 'h3',\n})`\n  ${({ theme }) =>\n    themeHelpers.expandPresetStyles({\n      preset: {\n        ...theme.typography.presets.label[\n          THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.LARGE\n        ],\n      },\n      theme,\n    })};\n  margin: 8px 0;\n`;\n\nexport const InlineLink = styled(Link)`\n  display: inline-block;\n`;\n\nexport const HelperText = styled(Text)`\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n`;\n\nexport const CenterMutedText = styled(Text)`\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n  text-align: center;\n`;\n\nexport const SettingSubheading = styled(HelperText)`\n  padding: 8px 0;\n`;\n\nexport const TextInputHelperText = styled(HelperText)`\n  padding-top: 12px;\n`;\n\nexport const CheckboxLabel = styled(Text)`\n  display: flex;\n  justify-content: flex-start;\n  margin-top: 8px;\n  cursor: pointer;\n`;\n\nexport const CheckboxLabelText = styled(HelperText)`\n  margin-left: 8px;\n`;\n\nexport const Error = styled(CenterMutedText)`\n  padding-bottom: 10px;\n  color: ${({ theme }) => theme.colors.fg.negative};\n`;\n\nexport const UploadedContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 102px);\n  grid-auto-rows: 102px;\n  grid-column-gap: 12px;\n  grid-row-gap: 20px;\n  padding-bottom: 20px;\n  margin-bottom: 4px;\n  border: 1px solid transparent;\n\n  ${themeHelpers.focusableOutlineCSS};\n`;\n\nexport const GridItemContainer = styled.div`\n  position: relative;\n  ${({ active, theme }) =>\n    active &&\n    css`\n      border: 1px solid ${theme.colors.border.defaultActive};\n      border-radius: ${theme.borders.radius.small};\n    `};\n\n  &:hover,\n  &:focus-within {\n    button {\n      opacity: 1 !important;\n    }\n  }\n`;\n\nexport const GridItemButton = styled.button`\n  display: block;\n  background-color: transparent;\n  border: 2px solid transparent;\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  padding: 0;\n\n  ${themeHelpers.focusableOutlineCSS};\n`;\n\nexport const Logo = styled.img`\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n`;\n\nexport const MenuContainer = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const LogoMenuButton = styled(Button).attrs({\n  size: BUTTON_SIZES.SMALL,\n  type: BUTTON_TYPES.SECONDARY,\n  variant: BUTTON_VARIANTS.CIRCLE,\n})`\n  opacity: ${({ isActive, menuOpen }) => (menuOpen || isActive ? 1 : 0)};\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nexport const SaveButton = styled(Button)`\n  height: 36px;\n`;\n\nexport const InlineForm = styled.div`\n  display: flex;\n  align-items: flex-start;\n`;\n\nexport const VisuallyHiddenLabel = styled.label(themeHelpers.visuallyHidden);\n\nexport const SettingsTextInput = styled(Input)`\n  margin-right: 8px;\n`;\n\nexport const VisuallyHiddenDescription = styled.span(\n  themeHelpers.visuallyHidden\n);\n\nexport const MultilineForm = styled(SettingForm)`\n  margin-bottom: 28px;\n\n  ${InlineForm} {\n    margin-top: 20px;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createContext } from '@googleforcreators/react';\n\nexport default createContext({ state: {}, actions: {} });\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from 'styled-components';\nimport {\n  Text,\n  THEME_CONSTANTS,\n  Dialog,\n  BUTTON_TYPES,\n  BUTTON_SIZES,\n  Button,\n  theme,\n} from '@googleforcreators/design-system';\n\nfunction ConfirmationDialog({ onClose, onPrimary }) {\n  return (\n    <ThemeProvider theme={theme}>\n      <Dialog\n        isOpen\n        onClose={onClose}\n        title={__('Delete Font', 'web-stories')}\n        actions={\n          <>\n            <Button\n              type={BUTTON_TYPES.TERTIARY}\n              size={BUTTON_SIZES.SMALL}\n              onClick={() => onClose()}\n            >\n              {__('Cancel', 'web-stories')}\n            </Button>\n            <Button\n              type={BUTTON_TYPES.PRIMARY}\n              size={BUTTON_SIZES.SMALL}\n              onClick={() => onPrimary()}\n            >\n              {__('Delete Font', 'web-stories')}\n            </Button>\n          </>\n        }\n      >\n        <Text size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {__(\n            'Deleting a font will delete it from every previous story its in. Would you like to proceed?',\n            'web-stories'\n          )}\n        </Text>\n      </Dialog>\n    </ThemeProvider>\n  );\n}\n\nConfirmationDialog.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onPrimary: PropTypes.func.isRequired,\n};\n\nexport default ConfirmationDialog;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useState,\n  useCallback,\n  useRef,\n  useEffect,\n} from '@googleforcreators/react';\nimport { __, sprintf, translateToExclusiveList } from '@googleforcreators/i18n';\nimport { isValidUrl, withProtocol } from '@googleforcreators/url';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  BUTTON_VARIANTS,\n  Icons,\n  Text,\n  THEME_CONSTANTS,\n  themeHelpers,\n  useSnackbar,\n  useLiveRegion,\n} from '@googleforcreators/design-system';\n\nimport styled from 'styled-components';\nimport { trackEvent, trackError } from '@googleforcreators/tracking';\nimport { Tooltip } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  InlineForm,\n  SaveButton,\n  SettingForm,\n  SettingHeading,\n  SettingsTextInput,\n  SettingSubheading,\n  TextInputHelperText,\n} from '../components';\nimport { ERRORS } from '../../../constants';\nimport ConfirmationDialog from './confirmationDialog';\nimport getFontDataFromUrl from './utils/getFontDataFromUrl';\n\nexport const TEXT = {\n  ADD_CONTEXT: __(\n    'Add and manage your custom and brand fonts via link here. Theyll appear in your font list in the editor.',\n    'web-stories'\n  ),\n  REMOVAL: __(\n    'Removing a font from this settings page will remove it from your font list in all stories.',\n    'web-stories'\n  ),\n  SECTION_HEADING: __('Custom Fonts', 'web-stories'),\n  LABEL: __('Insert Font URL', 'web-stories'),\n  INPUT_CONTEXT: __(\n    'Insert a public URL to a font file. Allowed formats are .otf, .ttf, .woff.',\n    'web-stories'\n  ),\n  INPUT_ERROR: __('Invalid URL format', 'web-stories'),\n  SUBMIT_BUTTON: __('Add Font', 'web-stories'),\n  FONTS_HEADING: __('Current Fonts', 'web-stories'),\n  FONTS_CONTEXT: __(\n    'Deleting fonts will delete them from your in-editor font list and all previous stories.',\n    'web-stories'\n  ),\n};\n\nconst AddButton = styled(SaveButton)`\n  min-width: 90px;\n  margin-top: 32px;\n`;\n\nconst InputsWrapper = styled.div`\n  margin-top: 8px;\n`;\n\nconst FontsWrapper = styled.div`\n  margin-top: 34px;\n`;\n\nconst ListHeading = styled(Text)`\n  margin-bottom: 10px;\n  display: inline-block;\n`;\n\nconst FontsList = styled.div`\n  padding: 12px 0;\n  border: ${({ theme }) => `1px solid ${theme.colors.divider.primary}`};\n  :focus-within {\n    ${({ theme }) => themeHelpers.focusCSS(theme.colors.border.focus)}\n  }\n`;\n\n// Hidden by default.\nconst DeleteButton = styled(Button)`\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s, opacity ease-in-out 300ms;\n  &:focus {\n    ${({ theme }) => themeHelpers.focusCSS(theme.colors.border.focus)}\n  }\n`;\n\nconst FontRow = styled.div`\n  padding: 0 12px;\n  display: flex;\n  height: 32px;\n  width: 100%;\n  justify-content: space-between;\n  transition: background-color ease-in-out 300ms;\n  &[aria-selected='true'],\n  &:hover,\n  &:focus {\n    background-color: ${({ theme }) => theme.colors.bg.secondary};\n\n    button {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n`;\n\n// 32px is the button width.\nconst FontData = styled.div`\n  line-height: 32px;\n  white-space: nowrap;\n  display: flex;\n  font-size: 14px;\n  max-width: calc(100% - 32px);\n`;\n\nconst StyledText = styled(Text).attrs({\n  as: 'span',\n})``;\n\nconst FontUrl = styled(StyledText)`\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Divider = styled.div`\n  width: 4px;\n  height: 4px;\n  background-color: ${({ theme }) => theme.colors.standard.black};\n  border-radius: ${({ theme }) => theme.borders.radius.round};\n  margin: 0 6px;\n  align-self: center;\n`;\n\nconst ALLOWED_FONT_TYPES = ['.otf', '.ttf', '.woff'];\nfunction CustomFontsSettings({\n  customFonts = [],\n  addCustomFont,\n  deleteCustomFont,\n}) {\n  const speak = useLiveRegion();\n  const [fontUrl, setFontUrl] = useState('');\n  const [inputError, setInputError] = useState('');\n  const [showDialog, setShowDialog] = useState(false);\n  const [toDelete, setToDelete] = useState(null);\n  const canSave = !inputError && fontUrl;\n  const currentFontsContainerRef = useRef(null);\n  const currentFontsRowsRef = useRef([]);\n  const [currentFontsFocusIndex, setCurrentFontsFocusIndex] = useState(0);\n  const [currentFontsActiveId, setCurrentFontsActiveId] = useState();\n  const { showSnackbar } = useSnackbar();\n\n  const handleUpdateFontUrl = useCallback((event) => {\n    const { value } = event.target;\n    setFontUrl(value);\n\n    if (value.length === 0 || isValidUrl(withProtocol(value))) {\n      setInputError('');\n\n      return;\n    }\n\n    setInputError(TEXT.INPUT_ERROR);\n  }, []);\n\n  const handleDelete = useCallback(async () => {\n    try {\n      await deleteCustomFont(toDelete);\n      speak(__('Font deleted', 'web-stories'));\n    } catch (err) {\n      trackError('remove_custom_font', err?.message);\n      showSnackbar({\n        'aria-label': ERRORS.REMOVE_FONT.MESSAGE,\n        message: ERRORS.REMOVE_FONT.MESSAGE,\n        dismissible: true,\n      });\n    } finally {\n      setToDelete(null);\n      setShowDialog(false);\n      setInputError('');\n    }\n  }, [deleteCustomFont, toDelete, showSnackbar, speak]);\n\n  const handleOnSave = useCallback(async () => {\n    if (canSave) {\n      const urlWithProtocol = withProtocol(fontUrl);\n      try {\n        await fetch(urlWithProtocol, {\n          method: 'HEAD',\n        });\n      } catch (err) {\n        trackError('add_custom_font', err?.message);\n        setInputError(\n          __(\n            'Please ensure correct CORS settings for allowing font usage on this site.',\n            'web-stories'\n          )\n        );\n        return;\n      }\n      let fontData;\n      try {\n        trackEvent('add_custom_font', {\n          url: urlWithProtocol,\n        });\n        fontData = await getFontDataFromUrl(urlWithProtocol);\n        if (!fontData.family) {\n          setInputError(\n            __('Something went wrong, please try again.', 'web-stories')\n          );\n          return;\n        }\n      } catch (err) {\n        trackError('add_custom_font', err?.message);\n        setInputError(\n          sprintf(\n            /* translators: %s: list of allowed font types. */\n            __(\n              'Getting font data failed, please ensure the URL points directly to a %s file.',\n              'web-stories'\n            ),\n            translateToExclusiveList(ALLOWED_FONT_TYPES)\n          )\n        );\n        return;\n      }\n\n      try {\n        await addCustomFont({ ...fontData, url: urlWithProtocol });\n        setFontUrl('');\n      } catch (err) {\n        trackError('add_custom_font', err?.message);\n        setInputError(\n          sprintf(\n            /* translators: %s: font name. */\n            __('A font with the name %s already exists.', 'web-stories'),\n            fontData.family\n          )\n        );\n      }\n    }\n  }, [addCustomFont, canSave, fontUrl]);\n\n  const handleOnKeyDown = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        handleOnSave();\n      }\n    },\n    [handleOnSave]\n  );\n\n  useEffect(() => {\n    const el = currentFontsRowsRef.current[`row-${currentFontsFocusIndex}`];\n    if (el) {\n      el.focus();\n      setCurrentFontsActiveId(el.id);\n    }\n  }, [currentFontsFocusIndex]);\n\n  const isListBoxActiveRow = (index) => currentFontsFocusIndex === index;\n\n  // Handles managing the which `font row` index has focus\n  // Arrows move the index up or down by 1\n  // unless we're at the start or the end\n  // after we update the index using setCurrentFontsFocusIndex\n  // the element will get focus via the useEffect above el.focus();\n  const handleListBoxNav = useCallback(\n    (evt) => {\n      const { key } = evt;\n      if (key === 'ArrowUp') {\n        evt.preventDefault();\n        setCurrentFontsFocusIndex((index) => Math.max(0, index - 1));\n      } else if (key === 'ArrowDown') {\n        evt.preventDefault();\n        setCurrentFontsFocusIndex((index) =>\n          Math.min(customFonts.length - 1, index + 1)\n        );\n      }\n    },\n    [customFonts]\n  );\n\n  return (\n    <SettingForm onSubmit={(e) => e.preventDefault()}>\n      <div>\n        <SettingHeading as=\"h3\">{TEXT.SECTION_HEADING}</SettingHeading>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {TEXT.ADD_CONTEXT}\n        </SettingSubheading>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {TEXT.REMOVAL}\n        </SettingSubheading>\n      </div>\n      <InputsWrapper>\n        <InlineForm>\n          <SettingsTextInput\n            value={fontUrl}\n            onChange={handleUpdateFontUrl}\n            onKeyDown={handleOnKeyDown}\n            hasError={Boolean(inputError)}\n            hint={inputError}\n            label={TEXT.LABEL}\n          />\n          <AddButton\n            type={BUTTON_TYPES.PRIMARY}\n            size={BUTTON_SIZES.SMALL}\n            disabled={!canSave}\n            onClick={handleOnSave}\n          >\n            {TEXT.SUBMIT_BUTTON}\n          </AddButton>\n        </InlineForm>\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          {TEXT.INPUT_CONTEXT}\n        </TextInputHelperText>\n        {customFonts?.length > 0 && (\n          <FontsWrapper>\n            <ListHeading forwardedAs=\"span\">{TEXT.FONTS_HEADING}</ListHeading>\n            <FontsList\n              ref={currentFontsContainerRef}\n              role=\"listbox\"\n              tabIndex={0}\n              onKeyDown={handleListBoxNav}\n              aria-activedescendant={\n                // sets the active descendant for the listbox to font-${id}\n                // if a font \"row\" is selected\n                // defaults to the 1st font in the array which 'will' get focus by default\n                currentFontsActiveId ? currentFontsActiveId : customFonts[0]?.id\n              }\n            >\n              {customFonts.map(({ id, family, url }, index) => (\n                // eslint-disable-next-line styled-components-a11y/click-events-have-key-events, styled-components-a11y/interactive-supports-focus -- keyboard handling is via the parent\n                <FontRow\n                  id={`font-${id}`}\n                  ref={\n                    (el) => (currentFontsRowsRef.current[`row-${index}`] = el) // track the active font row\n                  }\n                  key={family}\n                  role=\"option\"\n                  onClick={() => {\n                    setCurrentFontsFocusIndex(index);\n                  }}\n                  aria-selected={isListBoxActiveRow(index)}\n                >\n                  <FontData>\n                    <StyledText>{family}</StyledText>\n                    <Divider />\n                    <FontUrl>{url}</FontUrl>\n                  </FontData>\n                  <Tooltip hasTail title={__('Delete font', 'web-stories')}>\n                    <DeleteButton\n                      aria-label={sprintf(\n                        /*translators: %s: font family. */\n                        __('Delete %s', 'web-stories'),\n                        family\n                      )}\n                      type={BUTTON_TYPES.TERTIARY}\n                      size={BUTTON_SIZES.SMALL}\n                      variant={BUTTON_VARIANTS.SQUARE}\n                      onClick={() => {\n                        setToDelete(id);\n                        setShowDialog(true);\n                      }}\n                    >\n                      <Icons.Trash />\n                    </DeleteButton>\n                  </Tooltip>\n                </FontRow>\n              ))}\n            </FontsList>\n            <TextInputHelperText\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            >\n              {TEXT.FONTS_CONTEXT}\n            </TextInputHelperText>\n          </FontsWrapper>\n        )}\n      </InputsWrapper>\n      {showDialog && (\n        <ConfirmationDialog\n          onClose={() => setShowDialog(false)}\n          onPrimary={handleDelete}\n        />\n      )}\n    </SettingForm>\n  );\n}\n\nCustomFontsSettings.propTypes = {\n  customFonts: PropTypes.array,\n  addCustomFont: PropTypes.func.isRequired,\n  deleteCustomFont: PropTypes.func.isRequired,\n};\n\nexport default CustomFontsSettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} FontMetrics font metrics.\n * @property {number} upm units per em.\n * @property {number} asc ascender.\n * @property {number} desc descender.\n * @property {number} tAsc sTypoAscender\n * @property {number} tDesc sTypoDescender.\n * @property {number} tLGap sTypoLineGap.\n * @property {number} wAsc usWinAscent.\n * @property {number} wDes usWinDescent.\n * @property {?number} xH sxHeight.\n * @property {?number} capH sCapHeight.\n * @property {number} yMin yMin.\n * @property {number} yMax yMax.\n * @property {number} hAsc ascender.\n * @property {number} hDes descender.\n * @property {number} lGap line gap.\n */\n\n/**\n * Returns font metrics for a given public font URL.\n *\n * @param {string} fontURL Public font URL.\n * @return {Object} Font data, including metrics, name.\n */\nasync function getFontDataFromUrl(fontURL) {\n  const { load } = await import(\n    /* webpackChunkName: \"chunk-opentype\" */ 'opentype.js'\n  );\n  const fontInfo = await load(fontURL);\n\n  return {\n    name: fontInfo.names.fullName.en,\n    family: fontInfo.names.fullName.en,\n    weights: [400],\n    styles: ['regular'],\n    variants: [[0, 400]],\n    service: 'custom',\n    fallbacks: ['sans-serif'],\n    metrics: {\n      upm: fontInfo.unitsPerEm,\n      asc: fontInfo.ascender,\n      des: fontInfo.descender,\n      tAsc: fontInfo.tables.os2.sTypoAscender,\n      tDes: fontInfo.tables.os2.sTypoDescender,\n      tLGap: fontInfo.tables.os2.sTypoLineGap,\n      wAsc: fontInfo.tables.os2.usWinAscent,\n      wDes: fontInfo.tables.os2.usWinDescent,\n      xH: fontInfo.tables.os2.sxHeight,\n      capH: fontInfo.tables.os2.sCapHeight,\n      yMin: fontInfo.tables.head.yMin,\n      yMax: fontInfo.tables.head.yMax,\n      hAsc: fontInfo.tables.hhea.ascender,\n      hDes: fontInfo.tables.hhea.descender,\n      lGap: fontInfo.tables.hhea.lineGap,\n    },\n  };\n}\n\nexport default getFontDataFromUrl;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useEffect, useState } from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  PageHeading,\n  Layout,\n  MIN_IMG_WIDTH,\n  MIN_IMG_HEIGHT,\n  useConfig,\n} from '@googleforcreators/dashboard';\nimport { useFeature } from 'flagged';\n\n/**\n * Internal dependencies\n */\nimport { useTelemetryOptIn, useMediaOptimization } from '../../effects';\nimport useApiAlerts from '../../api/hooks/useApiAlerts';\nimport AdManagement from './adManagement';\nimport PublisherLogoSettings from './publisherLogo';\nimport TelemetrySettings from './telemetry';\nimport MediaOptimizationSettings from './mediaOptimization';\nimport VideoCacheSettings from './videoCache';\nimport ArchiveSettings from './archive';\nimport GoogleAnalyticsSettings from './googleAnalytics';\nimport { Wrapper, Main } from './components';\nimport useEditorSettings from './useEditorSettings';\nimport CustomFontsSettings from './customFonts';\nimport Shopping from './shopping';\n\nfunction EditorSettings() {\n  const {\n    fetchSettings,\n    updateSettings,\n    googleAnalyticsId,\n    usingLegacyAnalytics,\n    adSensePublisherId,\n    adSenseSlotId,\n    adManagerSlotId,\n    adNetwork,\n    uploadMedia,\n    newlyCreatedMediaIds,\n    isMediaLoading,\n    videoCache,\n    archive,\n    archivePageId,\n    searchPages,\n    getPageById,\n    customFonts,\n    addCustomFont,\n    deleteCustomFont,\n    publisherLogos,\n    addPublisherLogo,\n    fetchPublisherLogos,\n    removePublisherLogo,\n    setPublisherLogoAsDefault,\n    shoppingProvider,\n    shopifyHost,\n    shopifyAccessToken,\n  } = useEditorSettings(\n    ({\n      actions: {\n        fontsApi: { addCustomFont, deleteCustomFont },\n        settingsApi: { fetchSettings, updateSettings },\n        pagesApi: { searchPages, getPageById },\n        mediaApi: { uploadMedia },\n        publisherLogosApi: {\n          fetchPublisherLogos,\n          addPublisherLogo,\n          removePublisherLogo,\n          setPublisherLogoAsDefault,\n        },\n      },\n      state: {\n        settings: {\n          googleAnalyticsId,\n          usingLegacyAnalytics,\n          adSensePublisherId,\n          adSenseSlotId,\n          adManagerSlotId,\n          adNetwork,\n          videoCache,\n          archive,\n          archivePageId,\n          shoppingProvider,\n          shopifyHost,\n          shopifyAccessToken,\n        },\n        media: { isLoading: isMediaLoading, newlyCreatedMediaIds },\n        publisherLogos: { publisherLogos },\n        customFonts,\n      },\n    }) => ({\n      fetchSettings,\n      updateSettings,\n      googleAnalyticsId,\n      usingLegacyAnalytics,\n      adSensePublisherId,\n      adSenseSlotId,\n      adManagerSlotId,\n      adNetwork,\n      uploadMedia,\n      isMediaLoading,\n      newlyCreatedMediaIds,\n      videoCache,\n      archive,\n      archivePageId,\n      searchPages,\n      getPageById,\n      customFonts,\n      addCustomFont,\n      deleteCustomFont,\n      fetchPublisherLogos,\n      addPublisherLogo,\n      removePublisherLogo,\n      setPublisherLogoAsDefault,\n      publisherLogos,\n      shoppingProvider,\n      shopifyHost,\n      shopifyAccessToken,\n    })\n  );\n\n  const isShoppingEnabled = useFeature('shoppingIntegration');\n\n  const {\n    capabilities: { canUploadFiles, canManageSettings } = {},\n    siteKitStatus = {},\n    maxUpload,\n    maxUploadFormatted,\n    allowedImageMimeTypes,\n    archiveURL,\n    defaultArchiveURL,\n  } = useConfig();\n\n  const {\n    disabled: disableOptedIn,\n    toggleWebStoriesTrackingOptIn,\n    optedIn,\n  } = useTelemetryOptIn();\n\n  const {\n    disabled: disableMediaOptimization,\n    toggleWebStoriesMediaOptimization,\n    mediaOptimization,\n  } = useMediaOptimization();\n\n  const [mediaError, setMediaError] = useState('');\n\n  useEffect(() => {\n    if (canManageSettings) {\n      fetchSettings();\n      fetchPublisherLogos();\n    }\n  }, [fetchSettings, fetchPublisherLogos, canManageSettings]);\n\n  useEffect(() => {\n    if (newlyCreatedMediaIds.length > 0) {\n      addPublisherLogo(newlyCreatedMediaIds);\n    }\n  }, [newlyCreatedMediaIds, addPublisherLogo]);\n\n  useApiAlerts();\n\n  const handleUpdateGoogleAnalyticsId = useCallback(\n    (newGoogleAnalyticsId) =>\n      updateSettings({ googleAnalyticsId: newGoogleAnalyticsId }),\n    [updateSettings]\n  );\n\n  const handleMigrateLegacyAnalytics = useCallback(\n    () => updateSettings({ usingLegacyAnalytics: false }),\n    [updateSettings]\n  );\n\n  const handleAddLogos = useCallback(\n    async (files) => {\n      let allFileSizesWithinMaxUpload = true;\n      let allFileTypeSupported = true;\n      let errorProcessingImages = false;\n      const imagePromises = [];\n\n      files.forEach((file) => {\n        allFileSizesWithinMaxUpload =\n          allFileSizesWithinMaxUpload && file.size <= maxUpload;\n        const fileTypeSupported = allowedImageMimeTypes.includes(file.type);\n        allFileTypeSupported = allFileTypeSupported && fileTypeSupported;\n\n        if (fileTypeSupported) {\n          return;\n        }\n\n        imagePromises.push(\n          new Promise((resolve, reject) => {\n            const img = new Image();\n\n            img.onload = () => resolve(img);\n            img.onerror = () => reject(new Error(file.name));\n\n            img.src = URL.createObjectURL(file);\n          })\n        );\n      });\n\n      if (!allFileSizesWithinMaxUpload) {\n        const errorText =\n          files.length === 1\n            ? sprintf(\n                /* translators: %s: max upload size for media */\n                __(\n                  'Sorry, this file is too big. Make sure your logo is under %s.',\n                  'web-stories'\n                ),\n                maxUploadFormatted\n              )\n            : sprintf(\n                /* translators: %s: max upload size for media */\n                __(\n                  'Sorry, one or more of these files are too big. Make sure your logos are all under %s.',\n                  'web-stories'\n                ),\n                maxUploadFormatted\n              );\n        return setMediaError(errorText);\n      }\n\n      if (!allFileTypeSupported) {\n        const errorText =\n          files.length === 1\n            ? __(\n                'Sorry, this file type is not supported. Only jpg, png, and static gifs are supported for publisher logos.',\n                'web-stories'\n              )\n            : __(\n                'Sorry, one or more of these files are of an unsupported file type. Only jpg, png, and static gifs are supported for publisher logos.',\n                'web-stories'\n              );\n        return setMediaError(errorText);\n      }\n\n      const images = await Promise.all(imagePromises).catch(() => {\n        errorProcessingImages = true;\n      });\n\n      if (errorProcessingImages) {\n        const errorText =\n          files.length === 1\n            ? __(\n                'Sorry, there was an error processing your upload. Please try again.',\n                'web-stories'\n              )\n            : __(\n                'Sorry, there was an error processing one or more of your uploads. Please try again.',\n                'web-stories'\n              );\n        return setMediaError(errorText);\n      }\n\n      const allFileDimensionsValid = images.every(\n        ({ height, width }) =>\n          height >= MIN_IMG_HEIGHT && width >= MIN_IMG_WIDTH\n      );\n\n      if (!allFileDimensionsValid) {\n        const errorText =\n          files.length === 1\n            ? sprintf(\n                /* translators: 1 = minimum width, 2 = minimum height */\n                __(\n                  'Sorry, this file is too small. Make sure your logo is larger than %s.',\n                  'web-stories'\n                ),\n                sprintf('%1$dx%2$dpx', MIN_IMG_WIDTH, MIN_IMG_HEIGHT)\n              )\n            : sprintf(\n                /* translators: %s: image dimensions in pixels. */\n                __(\n                  'Sorry, one or more files are too small. Make sure your logos are all larger than %s.',\n                  'web-stories'\n                ),\n                sprintf('%1$dx%2$dpx', MIN_IMG_WIDTH, MIN_IMG_HEIGHT)\n              );\n        return setMediaError(errorText);\n      }\n\n      setMediaError('');\n      return uploadMedia(files);\n    },\n    [maxUpload, maxUploadFormatted, uploadMedia, allowedImageMimeTypes]\n  );\n\n  const handleRemoveLogo = useCallback(\n    (publisherLogo) => {\n      removePublisherLogo(publisherLogo.id);\n    },\n    [removePublisherLogo]\n  );\n\n  const handleUpdateDefaultLogo = useCallback(\n    (newDefaultLogo) => setPublisherLogoAsDefault(newDefaultLogo.id),\n    [setPublisherLogoAsDefault]\n  );\n\n  return (\n    <Layout.Provider>\n      <Wrapper data-testid=\"editor-settings\">\n        <PageHeading heading={__('Settings', 'web-stories')} />\n        <Layout.Scrollable>\n          <Main>\n            {canManageSettings && (\n              <>\n                <GoogleAnalyticsSettings\n                  googleAnalyticsId={googleAnalyticsId}\n                  handleUpdateAnalyticsId={handleUpdateGoogleAnalyticsId}\n                  usingLegacyAnalytics={usingLegacyAnalytics}\n                  handleMigrateLegacyAnalytics={handleMigrateLegacyAnalytics}\n                  siteKitStatus={siteKitStatus}\n                />\n                <PublisherLogoSettings\n                  onAddLogos={handleAddLogos}\n                  onRemoveLogo={handleRemoveLogo}\n                  onUpdateDefaultLogo={handleUpdateDefaultLogo}\n                  publisherLogos={publisherLogos}\n                  canUploadFiles={canUploadFiles}\n                  isLoading={isMediaLoading}\n                  uploadError={mediaError}\n                />\n              </>\n            )}\n            <CustomFontsSettings\n              customFonts={customFonts}\n              addCustomFont={addCustomFont}\n              deleteCustomFont={deleteCustomFont}\n            />\n            <TelemetrySettings\n              disabled={disableOptedIn}\n              onCheckboxSelected={toggleWebStoriesTrackingOptIn}\n              selected={optedIn}\n            />\n            {canUploadFiles && (\n              <MediaOptimizationSettings\n                disabled={disableMediaOptimization}\n                onCheckboxSelected={toggleWebStoriesMediaOptimization}\n                selected={mediaOptimization}\n              />\n            )}\n            {canManageSettings && (\n              <>\n                <VideoCacheSettings\n                  isEnabled={videoCache}\n                  updateSettings={updateSettings}\n                />\n                <ArchiveSettings\n                  archive={archive}\n                  archiveURL={archiveURL}\n                  defaultArchiveURL={defaultArchiveURL}\n                  updateSettings={updateSettings}\n                  searchPages={searchPages}\n                  archivePageId={archivePageId}\n                  getPageById={getPageById}\n                />\n                <AdManagement\n                  updateSettings={updateSettings}\n                  adNetwork={adNetwork}\n                  publisherId={adSensePublisherId}\n                  adSenseSlotId={adSenseSlotId}\n                  adManagerSlotId={adManagerSlotId}\n                  siteKitStatus={siteKitStatus}\n                />\n                {isShoppingEnabled && (\n                  <Shopping\n                    updateSettings={updateSettings}\n                    shoppingProvider={shoppingProvider}\n                    shopifyHost={shopifyHost}\n                    shopifyAccessToken={shopifyAccessToken}\n                  />\n                )}\n              </>\n            )}\n          </Main>\n        </Layout.Scrollable>\n      </Wrapper>\n    </Layout.Provider>\n  );\n}\n\nexport default EditorSettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport useUsersApi from '../../api/hooks/useUserApi';\nimport useMediaApi from '../../api/hooks/useMediaApi';\nimport useSettingsApi from '../../api/hooks/useSettingsApi';\nimport usePagesApi from '../../api/hooks/usePagesApi';\nimport usePublisherLogosApi from '../../api/hooks/usePublisherLogosApi';\nimport useFontsApi from '../../api/hooks/useFontsApi';\nimport Context from './context';\n\nfunction EditorSettingsProvider({ children }) {\n  const { customFonts, api: fontsApi } = useFontsApi();\n  const { currentUser, api: usersApi } = useUsersApi();\n  const { media, api: mediaApi } = useMediaApi();\n  const { settings, api: settingsApi } = useSettingsApi();\n  const { api: pagesApi } = usePagesApi();\n  const { publisherLogos, api: publisherLogosApi } = usePublisherLogosApi();\n\n  const state = {\n    state: {\n      media,\n      settings,\n      currentUser,\n      customFonts,\n      publisherLogos,\n    },\n    actions: {\n      fontsApi,\n      mediaApi,\n      settingsApi,\n      usersApi,\n      pagesApi,\n      publisherLogosApi,\n    },\n  };\n\n  return <Context.Provider value={state}>{children}</Context.Provider>;\n}\n\nEditorSettingsProvider.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default EditorSettingsProvider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useState,\n  useCallback,\n  useEffect,\n  useMemo,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport { trackClick, trackEvent } from '@googleforcreators/tracking';\nimport {\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  THEME_CONSTANTS,\n  NotificationBubble,\n} from '@googleforcreators/design-system';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { validateGoogleAnalyticsIdFormat } from '../utils';\nimport {\n  InlineForm,\n  InlineLink,\n  SaveButton,\n  SettingForm,\n  SettingHeading,\n  SettingsTextInput,\n  SettingSubheading,\n  TextInputHelperText,\n  VisuallyHiddenLabel,\n} from '../components';\n\nconst StyledNotificationBubble = styled(NotificationBubble)`\n  display: inline-block;\n  margin-left: 10px;\n`;\n\nexport const TEXT = {\n  CONTEXT: __(\n    'The story editor will append a default, configurable AMP analytics configuration to your story. If youre interested in going beyond what the default configuration, read this <a>article</a>.',\n    'web-stories'\n  ),\n  CONTEXT_LINK:\n    'https://blog.amp.dev/2019/08/28/analytics-for-your-amp-stories/',\n  SECTION_HEADING: __('Google Analytics', 'web-stories'),\n  PLACEHOLDER: __('Enter your Google Analytics Tracking ID', 'web-stories'),\n  ARIA_LABEL: __('Enter your Google Analytics Tracking ID', 'web-stories'),\n  INPUT_ERROR: __('Invalid ID format', 'web-stories'),\n  SUBMIT_BUTTON: __('Save', 'web-stories'),\n  SITE_KIT_NOT_INSTALLED: __(\n    'Install <a>Site Kit by Google</a> to easily enable Google Analytics for Web Stories.',\n    'web-stories'\n  ),\n  SITE_KIT_INSTALLED: __(\n    'Use Site Kit by Google to easily<a>activate Google Analytics</a> for Web Stories.',\n    'web-stories'\n  ),\n  SITE_KIT_IN_USE: __(\n    'Site Kit by Google has already enabled Google Analytics for your Web Stories, all changes to your analytics tracking should occur there.',\n    'web-stories'\n  ),\n};\n\nfunction GoogleAnalyticsSettings({\n  googleAnalyticsId,\n  handleUpdateAnalyticsId,\n  usingLegacyAnalytics,\n  handleMigrateLegacyAnalytics,\n  siteKitStatus = {},\n}) {\n  const [analyticsId, setAnalyticsId] = useState(googleAnalyticsId);\n  const [inputError, setInputError] = useState('');\n  const canSave = analyticsId !== googleAnalyticsId && !inputError;\n  const disableSaveButton = !canSave;\n\n  const { analyticsActive, installed, analyticsLink } = siteKitStatus;\n\n  useEffect(() => {\n    setAnalyticsId(googleAnalyticsId);\n  }, [googleAnalyticsId]);\n\n  const onUpdateAnalyticsId = useCallback((event) => {\n    const { value } = event.target;\n    setAnalyticsId(value);\n\n    if (value.length === 0 || validateGoogleAnalyticsIdFormat(value)) {\n      setInputError('');\n\n      return;\n    }\n\n    setInputError(TEXT.INPUT_ERROR);\n  }, []);\n\n  const handleOnSave = useCallback(() => {\n    if (canSave) {\n      handleUpdateAnalyticsId(analyticsId);\n    }\n  }, [canSave, analyticsId, handleUpdateAnalyticsId]);\n\n  const handleOnKeyDown = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        handleOnSave();\n      }\n    },\n    [handleOnSave]\n  );\n\n  const handleAnalyticsMigration = useCallback(\n    (evt) => {\n      evt.preventDefault();\n      handleMigrateLegacyAnalytics();\n      trackEvent('migrate_story_auto_analytics');\n    },\n    [handleMigrateLegacyAnalytics]\n  );\n\n  const onAutoAnalyticsClick = useCallback(\n    (evt) => trackClick(evt, 'click_auto_analytics_link'),\n    []\n  );\n\n  const onSiteKitClick = useCallback(\n    (evt) => trackClick(evt, 'click_site_kit_link'),\n    []\n  );\n\n  const onContextClick = useCallback(\n    (evt) => trackClick(evt, 'click_analytics_docs'),\n    []\n  );\n\n  const siteKitDisplayText = useMemo(() => {\n    if (analyticsActive) {\n      return null;\n    }\n\n    return (\n      <TranslateWithMarkup\n        mapping={{\n          a: (\n            <InlineLink\n              href={analyticsLink}\n              rel=\"noreferrer\"\n              target=\"_blank\"\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              onClick={onSiteKitClick}\n            />\n          ),\n        }}\n      >\n        {installed ? TEXT.SITE_KIT_INSTALLED : TEXT.SITE_KIT_NOT_INSTALLED}\n      </TranslateWithMarkup>\n    );\n  }, [analyticsActive, installed, analyticsLink, onSiteKitClick]);\n\n  return (\n    <SettingForm onSubmit={(e) => e.preventDefault()}>\n      <div>\n        <SettingHeading htmlFor=\"gaTrackingID\" as=\"h3\">\n          {TEXT.SECTION_HEADING}\n          {usingLegacyAnalytics && (\n            <StyledNotificationBubble notificationCount={1} isSmall />\n          )}\n        </SettingHeading>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {siteKitDisplayText}\n        </SettingSubheading>\n        {usingLegacyAnalytics && (\n          <>\n            <SettingSubheading\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            >\n              <TranslateWithMarkup\n                mapping={{\n                  a: (\n                    <InlineLink\n                      href=\"https://wp.stories.google/docs/seo/\"\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                      size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                      onClick={onAutoAnalyticsClick}\n                    />\n                  ),\n                }}\n              >\n                {__(\n                  'An improved analytics configuration is now available. <a>Learn more</a>.',\n                  'web-stories'\n                )}\n              </TranslateWithMarkup>\n            </SettingSubheading>\n            <SettingSubheading\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            >\n              <SaveButton\n                type={BUTTON_TYPES.SECONDARY}\n                size={BUTTON_SIZES.SMALL}\n                onClick={handleAnalyticsMigration}\n              >\n                {__('Migrate', 'web-stories')}\n              </SaveButton>\n            </SettingSubheading>\n          </>\n        )}\n      </div>\n      {analyticsActive ? (\n        <div>\n          <TextInputHelperText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n          >\n            {TEXT.SITE_KIT_IN_USE}\n          </TextInputHelperText>\n        </div>\n      ) : (\n        <div>\n          <InlineForm>\n            <VisuallyHiddenLabel htmlFor=\"gaTrackingId\">\n              {TEXT.ARIA_LABEL}\n            </VisuallyHiddenLabel>\n            <SettingsTextInput\n              aria-label={TEXT.ARIA_LABEL}\n              id=\"gaTrackingId\"\n              value={analyticsId}\n              onChange={onUpdateAnalyticsId}\n              onKeyDown={handleOnKeyDown}\n              placeholder={TEXT.PLACEHOLDER}\n              hasError={Boolean(inputError)}\n              hint={inputError}\n              disabled={analyticsActive}\n            />\n            <SaveButton\n              type={BUTTON_TYPES.SECONDARY}\n              size={BUTTON_SIZES.SMALL}\n              disabled={disableSaveButton}\n              onClick={handleOnSave}\n            >\n              {TEXT.SUBMIT_BUTTON}\n            </SaveButton>\n          </InlineForm>\n          <TextInputHelperText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n          >\n            <TranslateWithMarkup\n              mapping={{\n                a: (\n                  <InlineLink\n                    href={TEXT.CONTEXT_LINK}\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                    as=\"a\"\n                    onClick={onContextClick}\n                  />\n                ),\n              }}\n            >\n              {TEXT.CONTEXT}\n            </TranslateWithMarkup>\n          </TextInputHelperText>\n        </div>\n      )}\n    </SettingForm>\n  );\n}\n\nGoogleAnalyticsSettings.propTypes = {\n  googleAnalyticsId: PropTypes.string,\n  handleUpdateAnalyticsId: PropTypes.func,\n  usingLegacyAnalytics: PropTypes.bool,\n  handleMigrateLegacyAnalytics: PropTypes.func,\n  siteKitStatus: PropTypes.shape({\n    installed: PropTypes.bool,\n    active: PropTypes.bool,\n    adsenseActive: PropTypes.bool,\n    analyticsActive: PropTypes.bool,\n    analyticsLink: PropTypes.string,\n  }),\n};\n\nexport default GoogleAnalyticsSettings;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as EditorSettings } from './editorSettings';\nexport { default as EditorSettingsProvider } from './editorSettingsProvider';\nexport { default as useEditorSettings } from './useEditorSettings';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport propTypes from 'prop-types';\nimport { useMemo } from '@googleforcreators/react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { __ } from '@googleforcreators/i18n';\nimport { Checkbox, THEME_CONSTANTS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  SettingForm,\n  SettingHeading,\n  CheckboxLabel,\n  CheckboxLabelText,\n} from '../components';\n\nexport default function MediaOptimizationSettings({\n  selected,\n  onCheckboxSelected,\n  disabled,\n}) {\n  const mediaOptimizationId = useMemo(\n    () => `media-optimization-${uuidv4()}`,\n    []\n  );\n\n  return (\n    <SettingForm>\n      <div>\n        <SettingHeading>\n          {__('Video Optimization', 'web-stories')}\n        </SettingHeading>\n      </div>\n      <div>\n        <CheckboxLabel forwardedAs=\"label\" htmlFor={mediaOptimizationId}>\n          <Checkbox\n            id={mediaOptimizationId}\n            data-testid=\"media-optimization-settings-checkbox\"\n            disabled={disabled}\n            onChange={onCheckboxSelected}\n            checked={Boolean(selected)}\n          />\n          <CheckboxLabelText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            aria-checked={Boolean(selected)}\n            forwardedAs=\"span\"\n          >\n            {__(\n              'Automatically optimize videos used in Web Stories. We recommend enabling this feature. Video files that are too large or have an unsupported format (like .mov) will otherwise not display properly.',\n              'web-stories'\n            )}\n          </CheckboxLabelText>\n        </CheckboxLabel>\n      </div>\n    </SettingForm>\n  );\n}\n\nMediaOptimizationSettings.propTypes = {\n  disabled: propTypes.bool.isRequired,\n  selected: propTypes.bool.isRequired,\n  onCheckboxSelected: propTypes.func.isRequired,\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { forwardRef } from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport { THEME_CONSTANTS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  CenterMutedText,\n  GridItemButton,\n  GridItemContainer,\n  Logo,\n} from '../components';\nimport PopoverLogoContextMenu, {\n  PopoverLogoContextMenuPropTypes,\n} from './popoverLogoContextMenu';\n\nexport const GridItem = forwardRef(\n  (\n    {\n      contextMenuId,\n      index,\n      onMenuItemToggle,\n      onRemoveLogo,\n      onUpdateDefaultLogo,\n      publisherLogo,\n      setFocusedPublisherLogoId,\n      showLogoContextMenu,\n      isFocused,\n    },\n    ref\n  ) => {\n    const items = [\n      {\n        label: __('Set as Default', 'web-stories'),\n        onClick: (ev) => {\n          ev.preventDefault();\n          onUpdateDefaultLogo(publisherLogo);\n        },\n        disabled: publisherLogo.active,\n      },\n      {\n        label: __('Delete', 'web-stories'),\n        onClick: (ev) => {\n          ev.preventDefault();\n          onRemoveLogo(publisherLogo, index);\n        },\n      },\n    ];\n\n    return (\n      <GridItemContainer\n        ref={ref}\n        role=\"listitem\"\n        active={publisherLogo.active}\n        data-testid={`publisher-logo-${index}`}\n      >\n        <GridItemButton\n          onFocus={() => {\n            setFocusedPublisherLogoId(publisherLogo.id);\n          }}\n          data-testid={`uploaded-publisher-logo-${index}`}\n          isSelected={isFocused}\n          tabIndex={isFocused ? 0 : -1}\n          onClick={(e) => {\n            e.preventDefault();\n            setFocusedPublisherLogoId(publisherLogo.id);\n          }}\n          aria-label={sprintf(\n            /* translators: %s: logo title.*/\n            __('Publisher Logo %s', 'web-stories'),\n            publisherLogo.title\n          )}\n        >\n          <Logo src={publisherLogo.url} alt={publisherLogo.title} />\n        </GridItemButton>\n        {publisherLogo.active && (\n          <CenterMutedText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}\n          >\n            {__('Default', 'web-stories')}\n          </CenterMutedText>\n        )}\n        {showLogoContextMenu && (\n          <PopoverLogoContextMenu\n            isActive={isFocused}\n            idx={index}\n            items={items}\n            publisherLogo={publisherLogo}\n            onMenuItemToggle={onMenuItemToggle}\n            contextMenuId={contextMenuId}\n          />\n        )}\n      </GridItemContainer>\n    );\n  }\n);\nGridItem.propTypes = {\n  contextMenuId: PopoverLogoContextMenuPropTypes.contextMenuId,\n  index: PopoverLogoContextMenuPropTypes.idx,\n  onMenuItemToggle: PopoverLogoContextMenuPropTypes.onMenuItemToggle,\n  onRemoveLogo: PropTypes.func.isRequired,\n  onUpdateDefaultLogo: PropTypes.func.isRequired,\n  publisherLogo: PopoverLogoContextMenuPropTypes.publisherLogo,\n  setFocusedPublisherLogoId: PropTypes.func.isRequired,\n  showLogoContextMenu: PropTypes.bool,\n  isFocused: PropTypes.bool,\n};\nGridItem.displayName = 'GridItem';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  useFocusOut,\n} from '@googleforcreators/react';\nimport { __ } from '@googleforcreators/i18n';\nimport {\n  useGridViewKeys,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\nimport { FileUpload, useConfig } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport {\n  Error,\n  SettingForm,\n  SettingSubheading,\n  UploadedContainer,\n  SettingHeading,\n} from '../components';\nimport { GridItem } from './gridItem';\nimport { PopoverLogoContextMenuPropTypes } from './popoverLogoContextMenu';\n\nexport const TEXT = {\n  SECTION_HEADING: __('Publisher Logo', 'web-stories'),\n  UPLOAD_CONTEXT: __(\n    'Upload your logos here and they will become available to any stories you create.',\n    'web-stories'\n  ),\n  CLICK_CONTEXT: __(\n    'Click on logo to set as default if you want that logo to be used on default logo for all your stories.',\n    'web-stories'\n  ),\n  REMOVAL: __(\n    \"Removing a logo from your settings won't remove it from any stories using that logo.\",\n    'web-stories'\n  ),\n  INSTRUCTIONS: __(\n    'Avoid vector files, such as svg or eps. Logos should be at least 96x96 pixels and a perfect square. The background should not be transparent.',\n    'web-stories'\n  ),\n  SUBMIT: __('Upload logo', 'web-stories'),\n  ARIA_LABEL: __('Click to upload a new logo', 'web-stories'),\n  HELPER_UPLOAD: __(\n    'Drag a jpg, png, or static gif in this box. Or click Upload logo below.',\n    'web-stories'\n  ),\n};\n\nfunction PublisherLogoSettings({\n  canUploadFiles,\n  onAddLogos,\n  onRemoveLogo,\n  onUpdateDefaultLogo,\n  isLoading,\n  publisherLogos,\n  uploadError,\n}) {\n  const { isRTL, allowedImageMimeTypes } = useConfig();\n\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const itemRefs = useRef({});\n\n  const [focusedPublisherLogoId, setFocusedPublisherLogoId] = useState(null);\n\n  const [indexRemoved, setIndexRemoved] = useState(null);\n\n  const [contextMenuId, setContextMenuId] = useState(null);\n\n  const hasOnlyOneLogo = publisherLogos.length === 1;\n\n  const publisherLogoCount = useRef(publisherLogos.length);\n\n  const handleRemoveLogoClick = useCallback(\n    (publisherLogo, idx) => {\n      setContextMenuId(-1);\n      onRemoveLogo?.(publisherLogo);\n      setIndexRemoved(idx);\n      publisherLogoCount.current = publisherLogos.length;\n    },\n    [onRemoveLogo, publisherLogos.length]\n  );\n\n  const handleUpdateDefaultLogo = useCallback(\n    (publisherLogo) => {\n      setContextMenuId(-1);\n      onUpdateDefaultLogo?.(publisherLogo);\n    },\n    [onUpdateDefaultLogo]\n  );\n\n  // Update publisher logo focus when logo is removed\n  useEffect(() => {\n    if (\n      Boolean(indexRemoved?.toString()) &&\n      publisherLogos.length !== publisherLogoCount.current\n    ) {\n      if (publisherLogos.length === 0) {\n        // if the user has removed their last publisher logo, the logo grid will not render\n        // the first element child of containerRef becomes the input upload\n        // upload will always be present unless upload is not enabled.\n        // currently only admin can get to settings, which means they have upload ability\n        // checking for current and firstElementChild are safeguards\n        return containerRef.current?.getElementsByTagName('input')[0].focus();\n      }\n\n      const moveItemFocusByIndex =\n        indexRemoved > 0 ? publisherLogos[indexRemoved - 1] : publisherLogos[0];\n\n      setFocusedPublisherLogoId(moveItemFocusByIndex.id);\n      itemRefs.current[moveItemFocusByIndex.id].firstChild.focus();\n      return setIndexRemoved(null);\n    }\n    return undefined;\n  }, [indexRemoved, publisherLogos, setFocusedPublisherLogoId]);\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs,\n    isRTL,\n    currentItemId: focusedPublisherLogoId,\n    items: publisherLogos,\n  });\n\n  const onMenuItemToggle = useCallback((newMenuId) => {\n    setFocusedPublisherLogoId(newMenuId);\n  }, []);\n\n  useFocusOut(\n    containerRef,\n    () => {\n      setFocusedPublisherLogoId(null);\n      setContextMenuId(null);\n    },\n    []\n  );\n\n  return (\n    <SettingForm>\n      <div>\n        <SettingHeading>{TEXT.SECTION_HEADING}</SettingHeading>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {TEXT.UPLOAD_CONTEXT}\n        </SettingSubheading>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {TEXT.CLICK_CONTEXT}\n        </SettingSubheading>\n        <SettingSubheading size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {TEXT.REMOVAL}\n        </SettingSubheading>\n      </div>\n      <div ref={containerRef} data-testid=\"publisher-logos-container\">\n        {publisherLogos.length > 0 && (\n          <UploadedContainer\n            tabIndex={0}\n            ref={gridRef}\n            role=\"list\"\n            aria-label={__('Viewing existing publisher logos', 'web-stories')}\n          >\n            {publisherLogos.map((publisherLogo, idx) => (\n              <GridItem\n                key={publisherLogo.id}\n                ref={(el) => {\n                  itemRefs.current[publisherLogo.id] = el;\n                }}\n                contextMenuId={{\n                  set: setContextMenuId,\n                  value: contextMenuId,\n                }}\n                index={idx}\n                isFocused={focusedPublisherLogoId === publisherLogo.id}\n                onMenuItemToggle={onMenuItemToggle}\n                onRemoveLogo={handleRemoveLogoClick}\n                onUpdateDefaultLogo={handleUpdateDefaultLogo}\n                publisherLogo={publisherLogo}\n                setFocusedPublisherLogoId={setFocusedPublisherLogoId}\n                showLogoContextMenu={!hasOnlyOneLogo}\n              />\n            ))}\n          </UploadedContainer>\n        )}\n        {uploadError && <Error role=\"alert\">{uploadError}</Error>}\n        {canUploadFiles && (\n          <>\n            <FileUpload\n              onSubmit={onAddLogos}\n              id=\"settings_publisher_logos\"\n              isLoading={isLoading}\n              label={TEXT.SUBMIT}\n              isMultiple\n              ariaLabel={TEXT.ARIA_LABEL}\n              instructionalText={TEXT.HELPER_UPLOAD}\n              acceptableFormats={Object.values(allowedImageMimeTypes)}\n            />\n            <SettingSubheading\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            >\n              {TEXT.INSTRUCTIONS}\n            </SettingSubheading>\n          </>\n        )}\n      </div>\n    </SettingForm>\n  );\n}\n\nPublisherLogoSettings.propTypes = {\n  canUploadFiles: PropTypes.bool,\n  onAddLogos: PropTypes.func,\n  onRemoveLogo: PropTypes.func,\n  onUpdateDefaultLogo: PropTypes.func,\n  isLoading: PropTypes.bool,\n  publisherLogos: PropTypes.arrayOf(\n    PropTypes.shape(PopoverLogoContextMenuPropTypes.publisherLogos)\n  ),\n  uploadError: PropTypes.string,\n};\nexport default PublisherLogoSettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { Fragment, useCallback } from '@googleforcreators/react';\nimport { __, sprintf } from '@googleforcreators/i18n';\nimport {\n  Icons,\n  ContextMenu,\n  ContextMenuComponents,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { MenuContainer, LogoMenuButton } from '../components';\n\nfunction PopoverLogoContextMenu({\n  isActive,\n  idx,\n  publisherLogo,\n  contextMenuId,\n  onMenuItemToggle,\n  items,\n}) {\n  const isPopoverMenuOpen = contextMenuId.value === publisherLogo.id;\n  const tabIndex = isActive ? 0 : -1;\n\n  const onMoreButtonSelected = useCallback(\n    (openMenuLogoId) => contextMenuId.set(openMenuLogoId),\n    [contextMenuId]\n  );\n\n  const handleDismiss = useCallback(\n    () => onMoreButtonSelected(-1),\n    [onMoreButtonSelected]\n  );\n\n  return (\n    <MenuContainer>\n      <LogoMenuButton\n        tabIndex={tabIndex}\n        isActive={isActive}\n        menuOpen={isPopoverMenuOpen}\n        data-testid={`publisher-logo-context-menu-button-${idx}`}\n        aria-label={sprintf(\n          /* translators: %s: logo title */\n          __('Publisher logo menu for %s', 'web-stories'),\n          publisherLogo.title\n        )}\n        onClick={(e) => {\n          e.preventDefault();\n          onMenuItemToggle(isPopoverMenuOpen ? null : publisherLogo.id);\n          onMoreButtonSelected(isPopoverMenuOpen ? -1 : publisherLogo.id);\n        }}\n        onFocus={() => {\n          onMenuItemToggle(isPopoverMenuOpen ? null : publisherLogo.id);\n        }}\n      >\n        <Icons.Pencil aria-hidden=\"true\" />\n      </LogoMenuButton>\n      <ContextMenu\n        animate\n        isOpen={isPopoverMenuOpen}\n        data-testid={`publisher-logo-context-menu-${idx}`}\n        onDismiss={handleDismiss}\n      >\n        {items.map(({ label, separator, ...props }) => {\n          // eslint-disable-next-line react/prop-types -- map is not picking up definition from StoryMenu proptypes.\n          const MenuItem = props.href\n            ? ContextMenuComponents.MenuLink\n            : ContextMenuComponents.MenuButton;\n\n          return (\n            <Fragment key={label}>\n              {separator === 'top' && <ContextMenuComponents.MenuSeparator />}\n              <MenuItem {...props}>{label}</MenuItem>\n              {separator === 'bottom' && (\n                <ContextMenuComponents.MenuSeparator />\n              )}\n            </Fragment>\n          );\n        })}\n      </ContextMenu>\n    </MenuContainer>\n  );\n}\n\nexport const PopoverLogoContextMenuPropTypes = {\n  contextMenuId: PropTypes.shape({\n    value: PropTypes.number,\n    set: PropTypes.func,\n  }).isRequired,\n  idx: PropTypes.number,\n  isActive: PropTypes.bool,\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      disabled: PropTypes.bool,\n      href: PropTypes.string,\n      label: PropTypes.string.isRequired,\n      openNewTab: PropTypes.bool,\n      onClick: PropTypes.func,\n      onFocus: PropTypes.func,\n    })\n  ).isRequired,\n  onMenuItemToggle: PropTypes.func.isRequired,\n  publisherLogo: PropTypes.shape({\n    url: PropTypes.string,\n    title: PropTypes.string,\n    id: PropTypes.number,\n    active: PropTypes.bool,\n  }).isRequired,\n};\n\nPopoverLogoContextMenu.propTypes = PopoverLogoContextMenuPropTypes;\n\nexport default PopoverLogoContextMenu;\n","/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useCallback } from '@googleforcreators/react';\nimport { __ } from '@googleforcreators/i18n';\nimport { THEME_CONSTANTS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  MultilineForm,\n  SettingHeading,\n  TextInputHelperText,\n} from '../components';\nimport { SHOPPING_PROVIDER_TYPE } from '../../../constants';\nimport ShopifySettings from './shopify';\nimport ShoppingProviderDropDown from './shoppingProviderDropDown';\n\nexport const TEXT = {\n  SECTION_HEADING: __('Shopping', 'web-stories'),\n  SHOPPING_PROVIDER_HELPER_MESSAGE: __(\n    'Once configured you can add products from this provider.',\n    'web-stories'\n  ),\n  HELPER_MESSAGE: __(\n    'Connect your store so you can easily add products to your stories.',\n    'web-stories'\n  ),\n};\n\nfunction Shopping({\n  updateSettings,\n  shoppingProvider,\n  shopifyHost,\n  shopifyAccessToken,\n}) {\n  const handleUpdateShoppingProvider = useCallback(\n    (newValue) => updateSettings({ shoppingProvider: newValue }),\n    [updateSettings]\n  );\n\n  const handleUpdateShopifyHost = useCallback(\n    (newValue) => updateSettings({ shopifyHost: newValue }),\n    [updateSettings]\n  );\n\n  const handleUpdateShopifyAccessToken = useCallback(\n    (newValue) => updateSettings({ shopifyAccessToken: newValue }),\n    [updateSettings]\n  );\n\n  return (\n    <MultilineForm onSubmit={(e) => e.preventDefault()}>\n      <div>\n        <SettingHeading>{TEXT.SECTION_HEADING}</SettingHeading>\n\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          {TEXT.HELPER_MESSAGE}\n        </TextInputHelperText>\n      </div>\n\n      <div>\n        <ShoppingProviderDropDown\n          shoppingProvider={shoppingProvider}\n          handleUpdate={handleUpdateShoppingProvider}\n        />\n\n        <TextInputHelperText\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n        >\n          {TEXT.SHOPPING_PROVIDER_HELPER_MESSAGE}\n        </TextInputHelperText>\n\n        {shoppingProvider === SHOPPING_PROVIDER_TYPE.SHOPIFY && (\n          <ShopifySettings\n            handleUpdateHost={handleUpdateShopifyHost}\n            handleUpdateAccessToken={handleUpdateShopifyAccessToken}\n            host={shopifyHost}\n            accessToken={shopifyAccessToken}\n          />\n        )}\n      </div>\n    </MultilineForm>\n  );\n}\n\nShopping.propTypes = {\n  updateSettings: PropTypes.func.isRequired,\n  shoppingProvider: PropTypes.string,\n  shopifyHost: PropTypes.string,\n  shopifyAccessToken: PropTypes.string,\n};\n\nexport default Shopping;\n","/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useState, useCallback, useEffect } from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport { trackClick } from '@googleforcreators/tracking';\nimport {\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  InlineForm,\n  InlineLink,\n  SaveButton,\n  SettingsTextInput,\n  TextInputHelperText,\n  VisuallyHiddenLabel,\n} from '../../components';\n\nimport { isValidShopifyHost, hostPattern } from '../../utils';\n\nexport const TEXT = {\n  HOST_CONTEXT: sprintf(\n    /* translators: 1: first example. 2: second example. */\n    __(\n      'Without <code>%1$s</code> or <code>%2$s</code>. Example: %3$s. <a>Find your URL</a>.',\n      'web-stories'\n    ),\n    'https://',\n    'www.',\n    'yourstore.myshopify.com'\n  ),\n  HOST_CONTEXT_LINK: __(\n    'https://help.shopify.com/en/manual/domains',\n    'web-stories'\n  ),\n  HOST_PLACEHOLDER: __('Enter your .myshopify.com domain', 'web-stories'),\n  HOST_LABEL: __('Shopify Domain', 'web-stories'),\n  ACCESS_TOKEN_CONTEXT: __('<a>Learn how to get one</a>.', 'web-stories'),\n  ACCESS_TOKEN_CONTEXT_LINK: __(\n    'https://help.shopify.com/en/manual/apps/custom-apps#get-the-api-credentials-for-a-custom-app',\n    'web-stories'\n  ),\n  ACCESS_TOKEN_PLACEHOLDER: __('Enter your API access token', 'web-stories'),\n  ACCESS_TOKEN_LABEL: __('Storefront API Access Token', 'web-stories'),\n  INPUT_ERROR: __('Invalid format', 'web-stories'),\n  SUBMIT_BUTTON: __('Save', 'web-stories'),\n};\nfunction ShopifySettings({\n  host: shopifyHost,\n  accessToken: shopifyAccessToken,\n  handleUpdateHost,\n  handleUpdateAccessToken,\n}) {\n  const [host, setHost] = useState(shopifyHost);\n  const [hostInputError, setHostInputError] = useState('');\n  const canSaveHost = host !== shopifyHost && !hostInputError;\n  const disableHostSaveButton = !canSaveHost;\n\n  const [accessToken, setAccessToken] = useState(shopifyAccessToken);\n  const [accessTokenInputError, setAccessTokenInputError] = useState('');\n  const canSaveAccessToken =\n    accessToken !== shopifyAccessToken && !accessTokenInputError;\n  const disableAccessTokenSaveButton = !canSaveAccessToken;\n\n  useEffect(() => {\n    setHost(shopifyHost);\n  }, [shopifyHost]);\n\n  useEffect(() => {\n    setAccessToken(shopifyAccessToken);\n  }, [shopifyAccessToken]);\n\n  const onUpdateHost = useCallback((event) => {\n    const { value } = event.target;\n    setHost(value);\n    if (value.length === 0 || isValidShopifyHost(value)) {\n      setHostInputError('');\n      return;\n    }\n    setHostInputError(TEXT.INPUT_ERROR);\n  }, []);\n\n  const onHostBlur = useCallback((event) => {\n    const { value } = event.target;\n    if (!isValidShopifyHost(value)) {\n      return;\n    }\n    setHost(value.match(hostPattern)[0]);\n  }, []);\n\n  const onSaveHost = useCallback(() => {\n    if (canSaveHost) {\n      handleUpdateHost(host);\n    }\n  }, [canSaveHost, host, handleUpdateHost]);\n\n  const onKeyDownHost = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        onSaveHost();\n      }\n    },\n    [onSaveHost]\n  );\n\n  const onUpdateAccessToken = useCallback((event) => {\n    // @todo token verification see https://github.com/GoogleForCreators/web-stories-wp/pull/11218#discussion_r847495571\n    const { value } = event.target;\n    setAccessTokenInputError('');\n    setAccessToken(value);\n  }, []);\n\n  const onSaveAccessToken = useCallback(() => {\n    if (canSaveAccessToken) {\n      handleUpdateAccessToken(accessToken);\n    }\n  }, [canSaveAccessToken, accessToken, handleUpdateAccessToken]);\n\n  const onKeyDownAccessToken = useCallback(\n    (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        onSaveAccessToken();\n      }\n    },\n    [onSaveAccessToken]\n  );\n\n  const handleClick = useCallback(\n    (evt) => trackClick(evt, 'click_shopify_docs'),\n    []\n  );\n\n  return (\n    <>\n      <InlineForm>\n        <VisuallyHiddenLabel htmlFor=\"shopifyHost\">\n          {TEXT.HOST_LABEL}\n        </VisuallyHiddenLabel>\n        <SettingsTextInput\n          aria-label={TEXT.HOST_LABEL}\n          id=\"shopifyHost\"\n          name=\"shopifyHost\"\n          data-testid=\"shopifyHost\"\n          value={host}\n          onChange={onUpdateHost}\n          onKeyDown={onKeyDownHost}\n          onBlur={onHostBlur}\n          placeholder={TEXT.HOST_PLACEHOLDER}\n          hasError={Boolean(hostInputError)}\n          hint={hostInputError}\n        />\n        <SaveButton\n          type={BUTTON_TYPES.SECONDARY}\n          size={BUTTON_SIZES.SMALL}\n          disabled={disableHostSaveButton}\n          onClick={onSaveHost}\n          data-testid=\"shopifyHostButton\"\n        >\n          {TEXT.SUBMIT_BUTTON}\n        </SaveButton>\n      </InlineForm>\n      <TextInputHelperText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n        <TranslateWithMarkup\n          mapping={{\n            a: (\n              <InlineLink\n                href={TEXT.HOST_CONTEXT_LINK}\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                onClick={handleClick}\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              />\n            ),\n          }}\n        >\n          {TEXT.HOST_CONTEXT}\n        </TranslateWithMarkup>\n      </TextInputHelperText>\n\n      <InlineForm>\n        <VisuallyHiddenLabel htmlFor=\"shopifyAccessToken\">\n          {TEXT.ACCESS_TOKEN_LABEL}\n        </VisuallyHiddenLabel>\n        <SettingsTextInput\n          id=\"shopifyAccessToken\"\n          aria-label={TEXT.ACCESS_TOKEN_LABEL}\n          name=\"shopifyAccessToken\"\n          data-testid=\"shopifyAccessToken\"\n          value={accessToken}\n          onChange={onUpdateAccessToken}\n          onKeyDown={onKeyDownAccessToken}\n          placeholder={TEXT.ACCESS_TOKEN_PLACEHOLDER}\n          hasError={Boolean(accessTokenInputError)}\n          hint={accessTokenInputError}\n        />\n        <SaveButton\n          type={BUTTON_TYPES.SECONDARY}\n          size={BUTTON_SIZES.SMALL}\n          disabled={disableAccessTokenSaveButton}\n          onClick={onSaveAccessToken}\n          data-testid=\"shopifyAccessTokenButton\"\n        >\n          {TEXT.SUBMIT_BUTTON}\n        </SaveButton>\n      </InlineForm>\n      <TextInputHelperText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n        <TranslateWithMarkup\n          mapping={{\n            a: (\n              <InlineLink\n                href={TEXT.ACCESS_TOKEN_CONTEXT_LINK}\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              />\n            ),\n          }}\n        >\n          {TEXT.ACCESS_TOKEN_CONTEXT}\n        </TranslateWithMarkup>\n      </TextInputHelperText>\n    </>\n  );\n}\nShopifySettings.propTypes = {\n  handleUpdateAccessToken: PropTypes.func,\n  handleUpdateHost: PropTypes.func,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n};\n\nexport default ShopifySettings;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { __, _x } from '@googleforcreators/i18n';\nimport { DropDown } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { SHOPPING_PROVIDER_TYPE } from '../../../constants';\n\nexport const TEXT = {\n  SLOT_ID_LABEL: __('Shopping provider', 'web-stories'),\n};\n\nconst OPTIONS = [\n  {\n    label: _x('None', 'shopping provider', 'web-stories'),\n    value: SHOPPING_PROVIDER_TYPE.NONE,\n  },\n  {\n    label: __('WooCommerce', 'web-stories'),\n    value: SHOPPING_PROVIDER_TYPE.WOOCOMMERCE,\n  },\n  {\n    label: __('Shopify', 'web-stories'),\n    value: SHOPPING_PROVIDER_TYPE.SHOPIFY,\n  },\n];\nfunction ShoppingProviderDropDown({ shoppingProvider, handleUpdate }) {\n  return (\n    <DropDown\n      ariaLabel={TEXT.SLOT_ID_LABEL}\n      options={OPTIONS}\n      selectedValue={shoppingProvider}\n      onMenuItemClick={(_, newShoppingProvider) =>\n        handleUpdate(newShoppingProvider)\n      }\n      fillWidth\n    />\n  );\n}\nShoppingProviderDropDown.propTypes = {\n  handleUpdate: PropTypes.func,\n  shoppingProvider: PropTypes.oneOf(Object.values(SHOPPING_PROVIDER_TYPE)),\n};\n\nexport default ShoppingProviderDropDown;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport propTypes from 'prop-types';\nimport { useMemo } from '@googleforcreators/react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { __, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport { Checkbox, THEME_CONSTANTS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  SettingForm,\n  SettingHeading,\n  CheckboxLabel,\n  CheckboxLabelText,\n} from '../components';\n\nexport default function TelemetrySettings({\n  selected,\n  onCheckboxSelected,\n  disabled,\n}) {\n  const telemetryOptInId = useMemo(() => `telemetry-opt-in-${uuidv4()}`, []);\n\n  return (\n    <SettingForm>\n      <div>\n        <SettingHeading>\n          {__('Data Sharing Opt-in', 'web-stories')}\n        </SettingHeading>\n      </div>\n      <div>\n        <CheckboxLabel forwardedAs=\"label\" htmlFor={telemetryOptInId}>\n          <Checkbox\n            id={telemetryOptInId}\n            data-testid=\"telemetry-settings-checkbox\"\n            disabled={disabled}\n            onChange={onCheckboxSelected}\n            checked={Boolean(selected)}\n          />\n          <CheckboxLabelText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            aria-checked={Boolean(selected)}\n            forwardedAs=\"span\"\n          >\n            <TranslateWithMarkup\n              mapping={{\n                a: (\n                  <a\n                    href={__(\n                      'https://policies.google.com/privacy',\n                      'web-stories'\n                    )}\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                    aria-label={__(\n                      'Learn more by visiting Google Privacy Policy',\n                      'web-stories'\n                    )}\n                  />\n                ),\n              }}\n            >\n              {__(\n                'Check the box to help us improve the Web Stories plugin by allowing tracking of product usage stats. All data are treated in accordance with <a>Google Privacy Policy</a>.',\n                'web-stories'\n              )}\n            </TranslateWithMarkup>\n          </CheckboxLabelText>\n        </CheckboxLabel>\n      </div>\n    </SettingForm>\n  );\n}\n\nTelemetrySettings.propTypes = {\n  disabled: propTypes.bool.isRequired,\n  selected: propTypes.bool.isRequired,\n  onCheckboxSelected: propTypes.func.isRequired,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@googleforcreators/react';\n\n/**\n * Internal dependencies\n */\nimport Context from './context';\n\nfunction useEditorSettings(selector) {\n  return useContextSelector(Context, selector ?? identity);\n}\n\nexport default useEditorSettings;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as validateAdManagerSlotIdFormat } from './validateAdManagerSlotIdFormat';\nexport { default as validateAdSensePublisherIdFormat } from './validateAdSensePublisherIdFormat';\nexport { default as validateAdSenseSlotIdFormat } from './validateAdSenseSlotIdFormat';\nexport { default as validateGoogleAnalyticsIdFormat } from './validateGoogleAnalyticsIdFormat';\nexport {\n  default as isValidShopifyHost,\n  hostPattern,\n} from './validateShopifyHost';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Example: /123456789/a4a/amp_story_dfp_example\n// Ad unit codes  (the \"amp_story_dfp_example\" part) can be up to 100 characters in length.\n// Only letters, numbers, underscores, hyphens, periods, asterisks, forward slashes, backslashes, exclamations, left angle brackets, colons and parentheses are allowed.\nconst adManagerSlotIdFormatRegex =\n  /^\\/\\d+(,\\d+)?(\\/[\\w\\d_\\-.*\\\\!<:()]{1,99}[^/])*$/;\n\nexport default function validateAdManagerSlotIdFormat(value = '') {\n  return Boolean(value.toLowerCase().match(adManagerSlotIdFormatRegex));\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst adSensePublisherIdFormatRegex = /^(ca-)?pub-\\d{16}$/;\n\nexport default function validateAdSensePublisherIdFormat(value = '') {\n  return Boolean(value.toLowerCase().match(adSensePublisherIdFormatRegex));\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst adSenseSlotIdFormatRegex = /^\\d{10}$/;\n\nexport default function validateAdSenseSlotIdFormat(value = '') {\n  return Boolean(value.toLowerCase().match(adSenseSlotIdFormatRegex));\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// GA4 measurement ID format is not yet supported in AMP.\n// See https://github.com/googleforcreators/web-stories-wp/issues/6479\nconst idFormatRegex = /^ua-\\d+-\\d+$/;\n\nexport default function validateGoogleAnalyticsIdFormat(value = '') {\n  return Boolean(value.toLowerCase().match(idFormatRegex));\n}\n","/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const hostPattern = /[\\d\\w-]+\\.myshopify\\.com/i;\n\nexport default function isValidShopifyHost(value = '') {\n  return Boolean(value.toLowerCase().match(hostPattern));\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useCallback, useMemo } from '@googleforcreators/react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { __ } from '@googleforcreators/i18n';\nimport { Checkbox, THEME_CONSTANTS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  SettingForm,\n  SettingHeading,\n  CheckboxLabel,\n  CheckboxLabelText,\n} from '../components';\n\nexport default function VideoCacheSettings({\n  isEnabled = false,\n  updateSettings,\n}) {\n  const videoCacheId = useMemo(() => `video-cache-${uuidv4()}`, []);\n\n  const onChange = useCallback(\n    () => updateSettings({ videoCache: !isEnabled }),\n    [updateSettings, isEnabled]\n  );\n\n  return (\n    <SettingForm>\n      <div>\n        <SettingHeading>{__('Video Cache', 'web-stories')}</SettingHeading>\n      </div>\n      <div>\n        <CheckboxLabel forwardedAs=\"label\" htmlFor={videoCacheId}>\n          <Checkbox\n            id={videoCacheId}\n            data-testid=\"video-cache-settings-checkbox\"\n            onChange={onChange}\n            checked={Boolean(isEnabled)}\n          />\n          <CheckboxLabelText\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n            aria-checked={Boolean(isEnabled)}\n            forwardedAs=\"span\"\n          >\n            {__(\n              'Reduce hosting costs and improve user experience by serving videos from the Google cache.',\n              'web-stories'\n            )}\n          </CheckboxLabelText>\n        </CheckboxLabel>\n      </div>\n    </SettingForm>\n  );\n}\n\nVideoCacheSettings.propTypes = {\n  isEnabled: PropTypes.bool,\n  updateSettings: PropTypes.func.isRequired,\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as Layout } from './layout';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { InterfaceSkeleton } from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport { useAdminSubMenu } from '../../effects';\nimport { EditorSettingsProvider, EditorSettings } from '../editorSettings';\nimport TelemetryBanner from '../telemetryBanner';\nimport { EDITOR_SETTINGS_ROUTE } from '../../constants';\n\nfunction Layout() {\n  useAdminSubMenu();\n\n  return (\n    <EditorSettingsProvider>\n      <InterfaceSkeleton\n        additionalRoutes={[\n          {\n            path: EDITOR_SETTINGS_ROUTE,\n            component: <EditorSettings />,\n          },\n        ]}\n      />\n      <TelemetryBanner />\n    </EditorSettingsProvider>\n  );\n}\n\nexport default Layout;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport {\n  useLayoutEffect,\n  useRef,\n  forwardRef,\n  useEffect,\n  createPortal,\n  useState,\n} from '@googleforcreators/react';\nimport PropTypes from 'prop-types';\nimport { __, TranslateWithMarkup } from '@googleforcreators/i18n';\nimport {\n  Banner,\n  Checkbox,\n  Link,\n  Text,\n  THEME_CONSTANTS,\n} from '@googleforcreators/design-system';\nimport {\n  resolveRoute,\n  APP_ROUTES,\n  useRouteHistory,\n} from '@googleforcreators/dashboard';\n\n/**\n * Internal dependencies\n */\nimport bannerBg from '../../images/analytics-banner-bg.png';\nimport useTelemetryOptIn from '../../effects/useTelemetryOptIn';\nimport { EDITOR_SETTINGS_ROUTE } from '../../constants';\n\nconst Label = styled.label.attrs({ htmlFor: 'telemetry-banner-opt-in' })`\n  display: flex;\n  cursor: pointer;\n`;\n\nconst LabelText = styled(Text)`\n  margin-bottom: 16px;\n  margin-left: 8px;\n  color: ${({ theme }) => theme.colors.fg.secondary};\n`;\n\nconst VisitSettingsText = styled(Text)`\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n`;\n\nconst NavLink = styled(Link)`\n  display: inline-block;\n  margin: 0;\n`;\n\nexport const TelemetryOptInBanner = forwardRef(\n  (\n    {\n      visible = true,\n      disabled = false,\n      onChange = () => {},\n      onClose = () => {},\n      checked = false,\n    },\n    ref\n  ) => {\n    const checkboxRef = useRef();\n    const focusOnCheckbox = useRef(false);\n    const title = checked\n      ? __(\n          'Your selection has been updated. Thank you for helping to improve the editor!',\n          'web-stories'\n        )\n      : __('Help improve the editor!', 'web-stories');\n\n    useEffect(() => {\n      if (focusOnCheckbox.current) {\n        checkboxRef.current.focus();\n      }\n    });\n\n    return visible ? (\n      <Banner\n        backgroundUrl={bannerBg}\n        closeButtonLabel={__('Dismiss telemetry banner', 'web-stories')}\n        onClose={onClose}\n        title={title}\n        ref={ref}\n        isDashboard\n      >\n        <Label>\n          <Checkbox\n            id=\"telemetry-banner-opt-in\"\n            checked={checked}\n            disabled={disabled}\n            onChange={() => {\n              onChange();\n              focusOnCheckbox.current = true;\n            }}\n            onBlur={() => {\n              focusOnCheckbox.current = false;\n            }}\n            ref={checkboxRef}\n          />\n          <LabelText\n            forwardedAs=\"span\"\n            aria-checked={checked}\n            size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}\n          >\n            <TranslateWithMarkup\n              mapping={{\n                a: (\n                  <NavLink\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}\n                    href={__(\n                      'https://policies.google.com/privacy',\n                      'web-stories'\n                    )}\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                    aria-label={__(\n                      'Learn more by visiting Google Privacy Policy',\n                      'web-stories'\n                    )}\n                  />\n                ),\n              }}\n            >\n              {__(\n                'Check the box to help us improve the Web Stories plugin by allowing tracking of product usage stats. All data are treated in accordance with <a>Google Privacy Policy</a>.',\n                'web-stories'\n              )}\n            </TranslateWithMarkup>\n          </LabelText>\n        </Label>\n        <VisitSettingsText\n          forwardedAs=\"span\"\n          size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}\n        >\n          <TranslateWithMarkup\n            mapping={{\n              a: (\n                <NavLink\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}\n                  href={resolveRoute(EDITOR_SETTINGS_ROUTE)}\n                  aria-label={__('Settings', 'web-stories')}\n                />\n              ),\n            }}\n          >\n            {__(\n              'You can update your selection later by visiting <a>Settings</a>.',\n              'web-stories'\n            )}\n          </TranslateWithMarkup>\n        </VisitSettingsText>\n      </Banner>\n    ) : null;\n  }\n);\n\nTelemetryOptInBanner.displayName = 'TelemetryOptInBanner';\n\nTelemetryOptInBanner.propTypes = {\n  visible: PropTypes.bool.isRequired,\n  checked: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport function TelemetryBannerContainer(props) {\n  const {\n    bannerVisible,\n    closeBanner,\n    optedIn,\n    disabled,\n    toggleWebStoriesTrackingOptIn,\n  } = useTelemetryOptIn();\n  const ref = useRef();\n\n  const previousBannerVisible = useRef(bannerVisible);\n\n  useLayoutEffect(() => {\n    if (\n      bannerVisible &&\n      previousBannerVisible.current === false &&\n      ref.current\n    ) {\n      previousBannerVisible.current = true;\n    } else if (!bannerVisible && previousBannerVisible.current) {\n      previousBannerVisible.current = false;\n    }\n  }, [bannerVisible]);\n\n  return (\n    <TelemetryOptInBanner\n      ref={ref}\n      visible={bannerVisible}\n      checked={optedIn}\n      disabled={disabled}\n      onChange={toggleWebStoriesTrackingOptIn}\n      onClose={closeBanner}\n      {...props}\n    />\n  );\n}\n\nexport default function TelemetryBanner() {\n  const { currentPath } = useRouteHistory(({ state }) => ({\n    currentPath: state.currentPath,\n  }));\n  const headerEl = useRef(null);\n  const [, forceUpdate] = useState(false);\n\n  useEffect(() => {\n    if (\n      [APP_ROUTES.DASHBOARD, APP_ROUTES.TEMPLATES_GALLERY].includes(currentPath)\n    ) {\n      headerEl.current = document.getElementById('body-view-options-header');\n      forceUpdate((value) => !value);\n    }\n  }, [currentPath, forceUpdate]);\n\n  return headerEl.current\n    ? createPortal(<TelemetryBannerContainer />, headerEl.current)\n    : null;\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './textConstants';\nexport * from './settings';\nexport * from './wpAdmin';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n\nexport const EDITOR_SETTINGS_ROUTE = '/editor-settings';\n\nexport const LEFT_RAIL_SECONDARY_NAVIGATION = [\n  {\n    value: EDITOR_SETTINGS_ROUTE,\n    label: __('Settings', 'web-stories'),\n  },\n  {\n    value: __(\n      'https://wordpress.org/support/plugin/web-stories/',\n      'web-stories'\n    ),\n    label: __('Support', 'web-stories'),\n    isExternal: true,\n    trackingEvent: 'click_support_page',\n  },\n];\n\nexport const AD_NETWORK_TYPE = {\n  NONE: 'none',\n  ADSENSE: 'adsense',\n  ADMANAGER: 'admanager',\n};\n\nexport const ARCHIVE_TYPE = {\n  DEFAULT: 'default',\n  DISABLED: 'disabled',\n  CUSTOM: 'custom',\n};\n\nexport const SHOPPING_PROVIDER_TYPE = {\n  NONE: 'none',\n  WOOCOMMERCE: 'woocommerce',\n  SHOPIFY: 'shopify',\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { __ } from '@googleforcreators/i18n';\n\nexport const SUCCESS = {\n  SETTINGS: {\n    UPDATED: __('Setting saved.', 'web-stories'),\n  },\n};\n\nexport const ERRORS = {\n  UPLOAD_PUBLISHER_LOGO: {\n    MESSAGE: __('Unable to add publisher logo', 'web-stories'),\n    MESSAGE_PLURAL: __('Unable to add publisher logos', 'web-stories'),\n  },\n  REMOVE_PUBLISHER_LOGO: {\n    MESSAGE: __('Unable to remove publisher logo', 'web-stories'),\n  },\n  REMOVE_FONT: {\n    MESSAGE: __('Unable to remove font', 'web-stories'),\n  },\n  UPDATE_PUBLISHER_LOGO: {\n    MESSAGE: __('Unable to update publisher logo', 'web-stories'),\n  },\n  LOAD_PUBLISHER_LOGOS: {\n    MESSAGE: __('Unable to load publisher logos', 'web-stories'),\n  },\n  LOAD_SETTINGS: {\n    MESSAGE: __('Unable to load settings', 'web-stories'),\n  },\n  UPDATE_EDITOR_SETTINGS: {\n    MESSAGE: __('Unable to update settings data', 'web-stories'),\n  },\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const TOOLBAR_HEIGHT = 0;\nexport const MENU_WIDTH = 0;\nexport const MENU_FOLDED_WIDTH = 36;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as useAdminSubMenu } from './useAdminSubMenu';\nexport { default as useMediaOptimization } from './useMediaOptimization';\nexport { default as useTelemetryOptIn } from './useTelemetryOptIn';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { useRouteHistory } from '@googleforcreators/dashboard';\nimport { useEffect } from '@googleforcreators/react';\n\nfunction useAdminSubMenu() {\n  const { currentPath } = useRouteHistory(({ state: { currentPath } }) => ({\n    currentPath,\n  }));\n\n  // Sync up WP navigation bar with our hash location.\n  useEffect(() => {\n    let query = `a[href$=\"#${currentPath}\"]`;\n    // `Dashboard` link in WP doesn't have a hash in the href\n    if (currentPath.length <= 1) {\n      query = 'a[href$=\"page=stories-dashboard\"]';\n    }\n\n    const WPSubmenuItems = document.querySelectorAll(\n      '#menu-posts-web-story ul.wp-submenu li'\n    );\n    WPSubmenuItems?.forEach((el) => {\n      el.classList.remove('current');\n      el.querySelector('a')?.classList.remove('current');\n      el.querySelector('a')?.removeAttribute('aria-current');\n    });\n    WPSubmenuItems?.forEach((el) => {\n      if (el.querySelector(query)) {\n        el.classList.add('current');\n        el.querySelector('a')?.classList.add('current');\n        el.querySelector('a')?.setAttribute('aria-current', 'page');\n      }\n    });\n  }, [currentPath]);\n}\n\nexport default useAdminSubMenu;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback } from '@googleforcreators/react';\nimport { trackEvent } from '@googleforcreators/tracking';\nimport { useSnackbar } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { SUCCESS } from '../constants';\nimport useEditorSettings from '../components/editorSettings/useEditorSettings';\n\nexport default function useMediaOptimization() {\n  const { showSnackbar } = useSnackbar();\n\n  const { currentUser, toggleWebStoriesMediaOptimization } = useEditorSettings(\n    ({\n      state: { currentUser },\n      actions: {\n        usersApi: { toggleWebStoriesMediaOptimization },\n      },\n    }) => ({\n      currentUser,\n      toggleWebStoriesMediaOptimization,\n    })\n  );\n\n  const mediaOptimization = Boolean(\n    currentUser.data.meta?.webStoriesMediaOptimization\n  );\n\n  const _toggleWebStoriesMediaOptimization = useCallback(() => {\n    toggleWebStoriesMediaOptimization();\n    trackEvent('video_optimization_optin', {\n      status: mediaOptimization ? 'off' : 'on',\n    });\n    showSnackbar({\n      'aria-label': SUCCESS.SETTINGS.UPDATED,\n      message: SUCCESS.SETTINGS.UPDATED,\n      dismissible: true,\n    });\n  }, [mediaOptimization, showSnackbar, toggleWebStoriesMediaOptimization]);\n\n  return {\n    mediaOptimization,\n    disabled: currentUser.isUpdating,\n    toggleWebStoriesMediaOptimization: _toggleWebStoriesMediaOptimization,\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { useCallback, useState, useEffect } from '@googleforcreators/react';\nimport { enableTracking, disableTracking } from '@googleforcreators/tracking';\nimport { useSnackbar, localStore } from '@googleforcreators/design-system';\nimport { useRouteHistory } from '@googleforcreators/dashboard';\n/**\n * Internal dependencies\n */\nimport useEditorSettings from '../components/editorSettings/useEditorSettings';\n\n/**\n * Internal dependencies\n */\nimport { SUCCESS, EDITOR_SETTINGS_ROUTE } from '../constants';\n\n// The value associated with this key indicates if the user has interacted with\n// the banner previously. If they have, we do not show the banner again.\nconst LOCAL_STORAGE_KEY = 'web_stories_tracking_optin_banner_closed';\n\nfunction setInitialBannerPreviouslyClosed() {\n  const storageValue = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n  return Boolean(JSON.parse(storageValue));\n}\n\nexport default function useTelemetryOptIn() {\n  const { showSnackbar } = useSnackbar();\n\n  const [bannerPreviouslyClosed, setBannerPreviouslyClosed] = useState(\n    setInitialBannerPreviouslyClosed\n  );\n  const [optInCheckboxClicked, setOptInCheckboxClicked] = useState(false);\n  const { currentUser, toggleWebStoriesTrackingOptIn } = useEditorSettings(\n    ({\n      state: { currentUser },\n      actions: {\n        usersApi: { toggleWebStoriesTrackingOptIn },\n      },\n    }) => ({ currentUser, toggleWebStoriesTrackingOptIn })\n  );\n  const { currentPath } = useRouteHistory(({ state: { currentPath } }) => ({\n    currentPath,\n  }));\n\n  const dataIsLoaded =\n    currentUser.data.meta?.webStoriesTrackingOptin !== undefined;\n\n  const optedIn = Boolean(currentUser.data.meta?.webStoriesTrackingOptin);\n\n  useEffect(() => {\n    if (optedIn) {\n      enableTracking();\n    } else {\n      disableTracking();\n    }\n  }, [optedIn]);\n\n  const _toggleWebStoriesTrackingOptIn = useCallback(() => {\n    toggleWebStoriesTrackingOptIn();\n    localStore.setItemByKey(LOCAL_STORAGE_KEY, true);\n    setOptInCheckboxClicked(true);\n    showSnackbar({\n      'aria-label': SUCCESS.SETTINGS.UPDATED,\n      message: SUCCESS.SETTINGS.UPDATED,\n      dismissible: true,\n    });\n  }, [showSnackbar, toggleWebStoriesTrackingOptIn]);\n\n  const closeBanner = useCallback(() => {\n    setBannerPreviouslyClosed(true);\n    localStore.setItemByKey(LOCAL_STORAGE_KEY, true);\n  }, []);\n\n  let bannerVisible = true;\n\n  if (\n    bannerPreviouslyClosed || // The banner has been closed before\n    currentPath === EDITOR_SETTINGS_ROUTE || // The user is on the settings page\n    !dataIsLoaded || // currentUser is not loaded yet\n    (!optInCheckboxClicked && optedIn) // currentUser is loaded and optedIn is true but the user has not checked the opt in checkbox\n  ) {\n    bannerVisible = false;\n  }\n\n  return {\n    bannerVisible,\n    optedIn,\n    disabled: currentUser.isUpdating,\n    closeBanner,\n    toggleWebStoriesTrackingOptIn: _toggleWebStoriesTrackingOptIn,\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\n// The __webpack_public_path__ assignment will be done after the imports.\n// That's why the public path assignment is in its own dedicated module and imported here at the very top.\n// See https://webpack.js.org/guides/public-path/#on-the-fly\nimport './publicPath';\nimport './style.css'; // This way the general dashboard styles are loaded before all the component styles.\n\n// We need to load translations before any other imports happen.\n// That's why this is in its own dedicated module imported here at the very top.\nimport './setLocaleData';\n\n/**\n * External dependencies\n */\nimport { Dashboard } from '@googleforcreators/dashboard';\nimport { setAppElement } from '@googleforcreators/design-system';\nimport { StrictMode, render } from '@googleforcreators/react';\nimport { updateSettings } from '@googleforcreators/date';\nimport { initializeTracking } from '@googleforcreators/tracking';\nimport { bindToCallbacks } from '@web-stories-wp/wp-utils';\nimport { __ } from '@googleforcreators/i18n';\nimport { registerElementType } from '@googleforcreators/elements';\nimport { elementTypes } from '@googleforcreators/element-library';\n\n/**\n * WordPress dependencies\n */\nimport '@wordpress/dom-ready'; // Just imported here so it's part of the bundle. Usage is in inline scripts.\n\n/**\n * Internal dependencies\n */\nimport * as apiCallbacks from './api';\nimport { GlobalStyle } from './theme';\nimport {\n  LEFT_RAIL_SECONDARY_NAVIGATION,\n  TOOLBAR_HEIGHT,\n  MENU_FOLDED_WIDTH,\n} from './constants';\nimport { Layout } from './components';\n\nwindow.webStories = window.webStories || {};\n\n/**\n * Initializes the Web Stories dashboard screen.\n *\n * @param {string} id       ID of the root element to render the screen in.\n * @param {Object} config   Story editor settings.\n */\nwindow.webStories.initializeStoryDashboard = (id, config) => {\n  const appElement = document.getElementById(id);\n\n  // see http://reactcommunity.org/react-modal/accessibility/\n  setAppElement(appElement);\n\n  updateSettings(config.locale);\n\n  // Already tracking screen views in AppContent, no need to send page views as well.\n  initializeTracking('Dashboard', false);\n\n  elementTypes.forEach(registerElementType);\n\n  const dashboardConfig = {\n    ...config,\n    apiCallbacks: bindToCallbacks(apiCallbacks, config),\n    leftRailSecondaryNavigation: LEFT_RAIL_SECONDARY_NAVIGATION,\n    documentTitleSuffix: __('Web Stories \\u2212 WordPress', 'web-stories'),\n    styleConstants: {\n      topOffset: TOOLBAR_HEIGHT,\n      leftOffset: MENU_FOLDED_WIDTH,\n    },\n    containerId: 'wpbody',\n  };\n\n  render(\n    <StrictMode>\n      <Dashboard config={dashboardConfig}>\n        <GlobalStyle />\n        <Layout />\n      </Dashboard>\n    </StrictMode>,\n    appElement\n  );\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n__webpack_public_path__ = window.webStories.publicPath;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { setLocaleData } from '@googleforcreators/i18n';\n\nfor (const localeData of window?.webStories?.localeData || []) {\n  setLocaleData(localeData);\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createGlobalStyle } from 'styled-components';\nimport { themeHelpers, OVERLAY_CLASS } from '@googleforcreators/design-system';\n\n/**\n * Internal dependencies\n */\nimport { TOOLBAR_HEIGHT, MENU_WIDTH, MENU_FOLDED_WIDTH } from './constants';\n\nexport const GlobalStyle = createGlobalStyle`\n  body.web-story_page_stories-dashboard #wpbody {\n    ${themeHelpers.scrollbarCSS};\n  }\n\n  .${OVERLAY_CLASS} {\n    top: ${TOOLBAR_HEIGHT}px !important;\n    left: ${MENU_WIDTH}px !important;\n  }\n\n  body.folded .${OVERLAY_CLASS} {\n    left: ${MENU_FOLDED_WIDTH}px !important;\n  }\n`;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\tif (cachedModule.error !== undefined) throw cachedModule.error;\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\ttry {\n\t\tvar execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: __webpack_require__ };\n\t\t__webpack_require__.i.forEach(function(handler) { handler(execOptions); });\n\t\tmodule = execOptions.module;\n\t\texecOptions.factory.call(module.exports, module, module.exports, execOptions.require);\n\t} catch(e) {\n\t\tmodule.error = e;\n\t\tthrow e;\n\t}\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n// expose the module execution interceptor\n__webpack_require__.i = [];\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames not based on template\n\tif ({\"chunk-web-stories-templates\":1,\"chunk-getStoryMarkup\":1}[chunkId]) return \"\" + chunkId + \".js\";\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js?v=\" + {\"chunk-resize-observer-polyfill\":\"cd63125229ed18db9604\",\"chunk-focus-visible\":\"5c47e73bd4f3278a792e\",\"chunk-web-animations-js\":\"523d8008522b41bb0c68\",\"vendors-node_modules_opentype_js_dist_opentype_module_js\":\"9dbd9b95b5a4dfee3d5e\",\"chunk-opentype\":\"c6c5dcba88f11f46eda7\",\"chunk-web-stories-template-0\":\"0893fbef17cddc2e2c8a\",\"chunk-web-stories-template-1\":\"3147db534029a55e9b08\",\"chunk-web-stories-template-2\":\"44911f29025918080bef\",\"chunk-web-stories-template-3\":\"60ef5487b915825f7446\",\"chunk-web-stories-template-4\":\"041460a43ef0a523553c\",\"chunk-web-stories-template-5\":\"c7f05578ef851533c5a7\",\"chunk-web-stories-template-6\":\"a49de8d265231860d9c7\",\"chunk-web-stories-template-7\":\"4870d414e0c8cb8fa154\",\"chunk-web-stories-template-8\":\"a45d3ab4c3bc890cd5a6\",\"chunk-web-stories-template-9\":\"fcb53fbe25a7279448b9\",\"chunk-web-stories-template-10\":\"10533861f8d78a3a2bce\",\"chunk-web-stories-template-11\":\"eceaa52a2d1c9a3464ac\",\"chunk-web-stories-template-12\":\"a91e75a9d5701b3b15ef\",\"chunk-web-stories-template-13\":\"5cd4d347b412822357cd\",\"chunk-web-stories-template-14\":\"2f012d27d2faf0958031\",\"chunk-web-stories-template-15\":\"93ae9bcbc1f7abaababe\",\"chunk-web-stories-template-16\":\"59214d1fba2fac78eb87\",\"chunk-web-stories-template-17\":\"70e43a16f30ca4b01ee0\",\"chunk-web-stories-template-18\":\"bea8c9fb5238fc79ab5a\",\"chunk-web-stories-template-19\":\"6d856d1d705549968052\",\"chunk-web-stories-template-20\":\"4a2e9ef6193163d22018\",\"chunk-web-stories-template-21\":\"29479416d9a907214912\",\"chunk-web-stories-template-22\":\"0f4c448c51de511a6b19\",\"chunk-web-stories-template-23\":\"c79a7f8e957057af8ed1\",\"chunk-web-stories-template-24\":\"df7f05ce9a9b80e5f95f\",\"chunk-web-stories-template-25\":\"f5792175427edca9d590\",\"chunk-web-stories-template-26\":\"dce590b3359c07f39d89\",\"chunk-web-stories-template-27\":\"fdb731ac54a0bd690538\",\"chunk-web-stories-template-28\":\"1c61ddebe3fe1f636179\",\"chunk-web-stories-template-29\":\"4e5f06adb612f0642783\",\"chunk-web-stories-template-30\":\"fe0032b37ade7bb76333\",\"chunk-web-stories-template-31\":\"3388621f70c7a6dddec4\",\"chunk-web-stories-template-32\":\"1ef2c44bb864b7b4d0ca\",\"chunk-web-stories-template-33\":\"f3a4878b744b375a263d\",\"chunk-web-stories-template-34\":\"28a81f23a8b7971f42d1\",\"chunk-web-stories-template-35\":\"e732705f51838ea0d289\",\"chunk-web-stories-template-36\":\"a46aee8f52214e8d7bf1\",\"chunk-web-stories-template-37\":\"6a1619d973b795fdab8e\",\"chunk-web-stories-template-38\":\"503e034bfdc0fd1a1bc2\",\"chunk-web-stories-template-39\":\"c990ed1c2371a7501441\",\"chunk-web-stories-template-40\":\"d78004f357aff9b4f9ef\",\"chunk-web-stories-template-41\":\"6f9516cafa3b9224ddc6\",\"chunk-web-stories-template-42\":\"c0afb3609cdff44935ff\",\"chunk-web-stories-template-43\":\"e14ca5b354effad57609\",\"chunk-web-stories-template-44\":\"4a7fcad89137d94b023d\",\"chunk-web-stories-template-45\":\"61b0650f026b3d0dc005\",\"chunk-web-stories-template-46\":\"98c02f38a3f341d250b7\",\"chunk-web-stories-template-47\":\"2a9a872f5a6a28ecf60c\",\"chunk-web-stories-template-48\":\"73be683878f56ede1bf0\",\"chunk-web-stories-template-49\":\"29d84d604d4674720070\",\"chunk-web-stories-template-50\":\"987a38ea11afd02bdff8\",\"chunk-web-stories-template-51\":\"4284ce0986faa1200a1a\",\"chunk-web-stories-template-52\":\"1aa1be926442e7620240\",\"chunk-web-stories-template-53\":\"75d3838d9d47c8081c36\",\"chunk-web-stories-template-54\":\"cfc5e8f93b9b33319a93\",\"chunk-web-stories-template-55\":\"496e06e4d8958c96294d\",\"chunk-web-stories-template-56\":\"65447bea01e3a27360af\",\"chunk-web-stories-template-57\":\"9f332b2f49fbfa393b54\",\"chunk-web-stories-template-58\":\"c1d85ce1f854c740c9bd\",\"chunk-web-stories-template-59\":\"0531af03dc868bb7498f\",\"chunk-web-stories-template-60\":\"3b1a1da77c60745a3216\",\"chunk-web-stories-template-0-metaData\":\"e10b7ad8d6667304d511\",\"chunk-web-stories-template-1-metaData\":\"f2e9f3712523150e65bc\",\"chunk-web-stories-template-2-metaData\":\"bf02dffdc07fccd8fe97\",\"chunk-web-stories-template-3-metaData\":\"3f84995c3bb681367ade\",\"chunk-web-stories-template-4-metaData\":\"0f56b23cf544bc4916f5\",\"chunk-web-stories-template-5-metaData\":\"e97ee1fe2c8d127f52cd\",\"chunk-web-stories-template-6-metaData\":\"d1e822577dc9e90ee388\",\"chunk-web-stories-template-7-metaData\":\"685f4f01bf7b302e8cea\",\"chunk-web-stories-template-8-metaData\":\"48ee929073bbd25f8214\",\"chunk-web-stories-template-9-metaData\":\"7260bc281076d060845e\",\"chunk-web-stories-template-10-metaData\":\"3cfaefb03958fd386d3a\",\"chunk-web-stories-template-11-metaData\":\"60f0d4117fc25c4e3588\",\"chunk-web-stories-template-12-metaData\":\"8ef48288770d41e933c7\",\"chunk-web-stories-template-13-metaData\":\"5e009cd7347a4a32cdc7\",\"chunk-web-stories-template-14-metaData\":\"69e3ec215418239db2b0\",\"chunk-web-stories-template-15-metaData\":\"10f4f2b2dd04363398c0\",\"chunk-web-stories-template-16-metaData\":\"b4dcad681d218128a0a5\",\"chunk-web-stories-template-17-metaData\":\"1c8b8be5ee9c820ea36d\",\"chunk-web-stories-template-18-metaData\":\"50f87a6fc9068ff8b352\",\"chunk-web-stories-template-19-metaData\":\"89d1a2b3865926ce0782\",\"chunk-web-stories-template-20-metaData\":\"a9fa9795d05b59839551\",\"chunk-web-stories-template-21-metaData\":\"dc6008b6ca30b85b11f2\",\"chunk-web-stories-template-22-metaData\":\"42a5bcf1a3b2ef0e3f6b\",\"chunk-web-stories-template-23-metaData\":\"9284c41cdeddc1db61fc\",\"chunk-web-stories-template-24-metaData\":\"d9c3fafe245e6af221a6\",\"chunk-web-stories-template-25-metaData\":\"d2978913d081c947ef10\",\"chunk-web-stories-template-26-metaData\":\"a965359a93ca5d233fac\",\"chunk-web-stories-template-27-metaData\":\"e31967b24503ccfdbc98\",\"chunk-web-stories-template-28-metaData\":\"7f58d71d50565fb537e9\",\"chunk-web-stories-template-29-metaData\":\"bb0f56b9eb6f09e9337a\",\"chunk-web-stories-template-30-metaData\":\"f9ffdd0b012e7eee2d57\",\"chunk-web-stories-template-31-metaData\":\"3694e74b033764ee86d4\",\"chunk-web-stories-template-32-metaData\":\"355123c6efda37b26994\",\"chunk-web-stories-template-33-metaData\":\"b7cd16f179d94a98a659\",\"chunk-web-stories-template-34-metaData\":\"dba5221a4c639d8f8bbd\",\"chunk-web-stories-template-35-metaData\":\"7285308d78aaed619677\",\"chunk-web-stories-template-36-metaData\":\"9d704cbc9ab75f74159b\",\"chunk-web-stories-template-37-metaData\":\"f8f05bfdd5b3f98c85af\",\"chunk-web-stories-template-38-metaData\":\"a9fbace16b493773f2eb\",\"chunk-web-stories-template-39-metaData\":\"739e1becb52a568ac9ba\",\"chunk-web-stories-template-40-metaData\":\"f87f6ebaab3499595d59\",\"chunk-web-stories-template-41-metaData\":\"2b48ab1a14f7983ab6ef\",\"chunk-web-stories-template-42-metaData\":\"f2b6672dcf2c728baf74\",\"chunk-web-stories-template-43-metaData\":\"e3446168e06050bb625f\",\"chunk-web-stories-template-44-metaData\":\"f8c3730f75b4f532657d\",\"chunk-web-stories-template-45-metaData\":\"bb784067a900bf1f6d2b\",\"chunk-web-stories-template-46-metaData\":\"c73f4a4581c4d1f6f3b8\",\"chunk-web-stories-template-47-metaData\":\"d453cd55b6f3adf734c0\",\"chunk-web-stories-template-48-metaData\":\"ad897a1cf62778a9fd3c\",\"chunk-web-stories-template-49-metaData\":\"1476cfccd43b38ad38e4\",\"chunk-web-stories-template-50-metaData\":\"67a45fcc5f99c79fc024\",\"chunk-web-stories-template-51-metaData\":\"e8d91e67e419a8ce0b8c\",\"chunk-web-stories-template-52-metaData\":\"d2b14cfe6ad8d284e0a2\",\"chunk-web-stories-template-53-metaData\":\"b43f02ad6e9986a5bd53\",\"chunk-web-stories-template-54-metaData\":\"3f7ca8210beb11a3c578\",\"chunk-web-stories-template-55-metaData\":\"3023fb7ee52e3fc4c5f8\",\"chunk-web-stories-template-56-metaData\":\"632888ac074c8096d49f\",\"chunk-web-stories-template-57-metaData\":\"f976697e30fdc97546f9\",\"chunk-web-stories-template-58-metaData\":\"e236002bdecb554c5edf\",\"chunk-web-stories-template-59-metaData\":\"5259436c9cc9becce442\",\"chunk-web-stories-template-60-metaData\":\"f34261925115f9e444a5\"}[chunkId] + \"\";\n};","// This function allow to reference all chunks\n__webpack_require__.hu = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + __webpack_require__.h() + \".hot-update.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.hmrF = () => (\"wp-dashboard.\" + __webpack_require__.h() + \".hot-update.json\");","__webpack_require__.h = () => (\"a2ff5570e8acc374879f\")","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web-story-creation-tool:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var currentModuleData = {};\nvar installedModules = __webpack_require__.c;\n\n// module and require creation\nvar currentChildModule;\nvar currentParents = [];\n\n// status\nvar registeredStatusHandlers = [];\nvar currentStatus = \"idle\";\n\n// while downloading\nvar blockingPromises = 0;\nvar blockingPromisesWaiting = [];\n\n// The update info\nvar currentUpdateApplyHandlers;\nvar queuedInvalidatedModules;\n\n// eslint-disable-next-line no-unused-vars\n__webpack_require__.hmrD = currentModuleData;\n\n__webpack_require__.i.push(function (options) {\n\tvar module = options.module;\n\tvar require = createRequire(options.require, options.id);\n\tmodule.hot = createModuleHotObject(options.id, module);\n\tmodule.parents = currentParents;\n\tmodule.children = [];\n\tcurrentParents = [];\n\toptions.require = require;\n});\n\n__webpack_require__.hmrC = {};\n__webpack_require__.hmrI = {};\n\nfunction createRequire(require, moduleId) {\n\tvar me = installedModules[moduleId];\n\tif (!me) return require;\n\tvar fn = function (request) {\n\t\tif (me.hot.active) {\n\t\t\tif (installedModules[request]) {\n\t\t\t\tvar parents = installedModules[request].parents;\n\t\t\t\tif (parents.indexOf(moduleId) === -1) {\n\t\t\t\t\tparents.push(moduleId);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentParents = [moduleId];\n\t\t\t\tcurrentChildModule = request;\n\t\t\t}\n\t\t\tif (me.children.indexOf(request) === -1) {\n\t\t\t\tme.children.push(request);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\n\t\t\t\t\"[HMR] unexpected require(\" +\n\t\t\t\t\trequest +\n\t\t\t\t\t\") from disposed module \" +\n\t\t\t\t\tmoduleId\n\t\t\t);\n\t\t\tcurrentParents = [];\n\t\t}\n\t\treturn require(request);\n\t};\n\tvar createPropertyDescriptor = function (name) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn require[name];\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\trequire[name] = value;\n\t\t\t}\n\t\t};\n\t};\n\tfor (var name in require) {\n\t\tif (Object.prototype.hasOwnProperty.call(require, name) && name !== \"e\") {\n\t\t\tObject.defineProperty(fn, name, createPropertyDescriptor(name));\n\t\t}\n\t}\n\tfn.e = function (chunkId) {\n\t\treturn trackBlockingPromise(require.e(chunkId));\n\t};\n\treturn fn;\n}\n\nfunction createModuleHotObject(moduleId, me) {\n\tvar _main = currentChildModule !== moduleId;\n\tvar hot = {\n\t\t// private stuff\n\t\t_acceptedDependencies: {},\n\t\t_acceptedErrorHandlers: {},\n\t\t_declinedDependencies: {},\n\t\t_selfAccepted: false,\n\t\t_selfDeclined: false,\n\t\t_selfInvalidated: false,\n\t\t_disposeHandlers: [],\n\t\t_main: _main,\n\t\t_requireSelf: function () {\n\t\t\tcurrentParents = me.parents.slice();\n\t\t\tcurrentChildModule = _main ? undefined : moduleId;\n\t\t\t__webpack_require__(moduleId);\n\t\t},\n\n\t\t// Module API\n\t\tactive: true,\n\t\taccept: function (dep, callback, errorHandler) {\n\t\t\tif (dep === undefined) hot._selfAccepted = true;\n\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n\t\t\telse if (typeof dep === \"object\" && dep !== null) {\n\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function () {};\n\t\t\t\t\thot._acceptedErrorHandlers[dep[i]] = errorHandler;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thot._acceptedDependencies[dep] = callback || function () {};\n\t\t\t\thot._acceptedErrorHandlers[dep] = errorHandler;\n\t\t\t}\n\t\t},\n\t\tdecline: function (dep) {\n\t\t\tif (dep === undefined) hot._selfDeclined = true;\n\t\t\telse if (typeof dep === \"object\" && dep !== null)\n\t\t\t\tfor (var i = 0; i < dep.length; i++)\n\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n\t\t\telse hot._declinedDependencies[dep] = true;\n\t\t},\n\t\tdispose: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\taddDisposeHandler: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\tremoveDisposeHandler: function (callback) {\n\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n\t\t},\n\t\tinvalidate: function () {\n\t\t\tthis._selfInvalidated = true;\n\t\t\tswitch (currentStatus) {\n\t\t\t\tcase \"idle\":\n\t\t\t\t\tcurrentUpdateApplyHandlers = [];\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tsetStatus(\"ready\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ready\":\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"prepare\":\n\t\t\t\tcase \"check\":\n\t\t\t\tcase \"dispose\":\n\t\t\t\tcase \"apply\":\n\t\t\t\t\t(queuedInvalidatedModules = queuedInvalidatedModules || []).push(\n\t\t\t\t\t\tmoduleId\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// ignore requests in error states\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t// Management API\n\t\tcheck: hotCheck,\n\t\tapply: hotApply,\n\t\tstatus: function (l) {\n\t\t\tif (!l) return currentStatus;\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\taddStatusHandler: function (l) {\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\tremoveStatusHandler: function (l) {\n\t\t\tvar idx = registeredStatusHandlers.indexOf(l);\n\t\t\tif (idx >= 0) registeredStatusHandlers.splice(idx, 1);\n\t\t},\n\n\t\t//inherit from previous dispose call\n\t\tdata: currentModuleData[moduleId]\n\t};\n\tcurrentChildModule = undefined;\n\treturn hot;\n}\n\nfunction setStatus(newStatus) {\n\tcurrentStatus = newStatus;\n\tvar results = [];\n\n\tfor (var i = 0; i < registeredStatusHandlers.length; i++)\n\t\tresults[i] = registeredStatusHandlers[i].call(null, newStatus);\n\n\treturn Promise.all(results);\n}\n\nfunction unblock() {\n\tif (--blockingPromises === 0) {\n\t\tsetStatus(\"ready\").then(function () {\n\t\t\tif (blockingPromises === 0) {\n\t\t\t\tvar list = blockingPromisesWaiting;\n\t\t\t\tblockingPromisesWaiting = [];\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\tlist[i]();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction trackBlockingPromise(promise) {\n\tswitch (currentStatus) {\n\t\tcase \"ready\":\n\t\t\tsetStatus(\"prepare\");\n\t\t/* fallthrough */\n\t\tcase \"prepare\":\n\t\t\tblockingPromises++;\n\t\t\tpromise.then(unblock, unblock);\n\t\t\treturn promise;\n\t\tdefault:\n\t\t\treturn promise;\n\t}\n}\n\nfunction waitForBlockingPromises(fn) {\n\tif (blockingPromises === 0) return fn();\n\treturn new Promise(function (resolve) {\n\t\tblockingPromisesWaiting.push(function () {\n\t\t\tresolve(fn());\n\t\t});\n\t});\n}\n\nfunction hotCheck(applyOnUpdate) {\n\tif (currentStatus !== \"idle\") {\n\t\tthrow new Error(\"check() is only allowed in idle status\");\n\t}\n\treturn setStatus(\"check\")\n\t\t.then(__webpack_require__.hmrM)\n\t\t.then(function (update) {\n\t\t\tif (!update) {\n\t\t\t\treturn setStatus(applyInvalidatedModules() ? \"ready\" : \"idle\").then(\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn setStatus(\"prepare\").then(function () {\n\t\t\t\tvar updatedModules = [];\n\t\t\t\tcurrentUpdateApplyHandlers = [];\n\n\t\t\t\treturn Promise.all(\n\t\t\t\t\tObject.keys(__webpack_require__.hmrC).reduce(function (\n\t\t\t\t\t\tpromises,\n\t\t\t\t\t\tkey\n\t\t\t\t\t) {\n\t\t\t\t\t\t__webpack_require__.hmrC[key](\n\t\t\t\t\t\t\tupdate.c,\n\t\t\t\t\t\t\tupdate.r,\n\t\t\t\t\t\t\tupdate.m,\n\t\t\t\t\t\t\tpromises,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers,\n\t\t\t\t\t\t\tupdatedModules\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn promises;\n\t\t\t\t\t},\n\t\t\t\t\t[])\n\t\t\t\t).then(function () {\n\t\t\t\t\treturn waitForBlockingPromises(function () {\n\t\t\t\t\t\tif (applyOnUpdate) {\n\t\t\t\t\t\t\treturn internalApply(applyOnUpdate);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn setStatus(\"ready\").then(function () {\n\t\t\t\t\t\t\t\treturn updatedModules;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n}\n\nfunction hotApply(options) {\n\tif (currentStatus !== \"ready\") {\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow new Error(\n\t\t\t\t\"apply() is only allowed in ready status (state: \" +\n\t\t\t\t\tcurrentStatus +\n\t\t\t\t\t\")\"\n\t\t\t);\n\t\t});\n\t}\n\treturn internalApply(options);\n}\n\nfunction internalApply(options) {\n\toptions = options || {};\n\n\tapplyInvalidatedModules();\n\n\tvar results = currentUpdateApplyHandlers.map(function (handler) {\n\t\treturn handler(options);\n\t});\n\tcurrentUpdateApplyHandlers = undefined;\n\n\tvar errors = results\n\t\t.map(function (r) {\n\t\t\treturn r.error;\n\t\t})\n\t\t.filter(Boolean);\n\n\tif (errors.length > 0) {\n\t\treturn setStatus(\"abort\").then(function () {\n\t\t\tthrow errors[0];\n\t\t});\n\t}\n\n\t// Now in \"dispose\" phase\n\tvar disposePromise = setStatus(\"dispose\");\n\n\tresults.forEach(function (result) {\n\t\tif (result.dispose) result.dispose();\n\t});\n\n\t// Now in \"apply\" phase\n\tvar applyPromise = setStatus(\"apply\");\n\n\tvar error;\n\tvar reportError = function (err) {\n\t\tif (!error) error = err;\n\t};\n\n\tvar outdatedModules = [];\n\tresults.forEach(function (result) {\n\t\tif (result.apply) {\n\t\t\tvar modules = result.apply(reportError);\n\t\t\tif (modules) {\n\t\t\t\tfor (var i = 0; i < modules.length; i++) {\n\t\t\t\t\toutdatedModules.push(modules[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn Promise.all([disposePromise, applyPromise]).then(function () {\n\t\t// handle errors in accept handlers and self accepted module load\n\t\tif (error) {\n\t\t\treturn setStatus(\"fail\").then(function () {\n\t\t\t\tthrow error;\n\t\t\t});\n\t\t}\n\n\t\tif (queuedInvalidatedModules) {\n\t\t\treturn internalApply(options).then(function (list) {\n\t\t\t\toutdatedModules.forEach(function (moduleId) {\n\t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n\t\t\t\t});\n\t\t\t\treturn list;\n\t\t\t});\n\t\t}\n\n\t\treturn setStatus(\"idle\").then(function () {\n\t\t\treturn outdatedModules;\n\t\t});\n\t});\n}\n\nfunction applyInvalidatedModules() {\n\tif (queuedInvalidatedModules) {\n\t\tif (!currentUpdateApplyHandlers) currentUpdateApplyHandlers = [];\n\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\tqueuedInvalidatedModules.forEach(function (moduleId) {\n\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\tmoduleId,\n\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tqueuedInvalidatedModules = undefined;\n\t\treturn true;\n\t}\n}","__webpack_require__.p = \"\";","__webpack_require__.i.push((options) => {\n\tconst originalFactory = options.factory;\n\toptions.factory = function (moduleObject, moduleExports, webpackRequire) {\n\t\t__webpack_require__.$Refresh$.setup(options.id);\n\t\ttry {\n\t\t\toriginalFactory.call(this, moduleObject, moduleExports, webpackRequire);\n\t\t} finally {\n\t\t\tif (typeof Promise !== 'undefined' && moduleObject.exports instanceof Promise) {\n\t\t\t\toptions.module.exports = options.module.exports.then(\n\t\t\t\t\t(result) => {\n\t\t\t\t\t\t__webpack_require__.$Refresh$.cleanup(options.id);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\t(reason) => {\n\t\t\t\t\t\t__webpack_require__.$Refresh$.cleanup(options.id);\n\t\t\t\t\t\treturn Promise.reject(reason);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t__webpack_require__.$Refresh$.cleanup(options.id)\n\t\t\t}\n\t\t}\n\t};\n})\n\n__webpack_require__.$Refresh$ = {\n\tregister: () => (undefined),\n\tsignature: () => ((type) => (type)),\n\truntime: {\n\t\tcreateSignatureFunctionForTransform: () => ((type) => (type)),\n\t\tregister: () => (undefined)\n\t},\n\tsetup: (currentModuleId) => {\n\t\tconst prevModuleId = __webpack_require__.$Refresh$.moduleId;\n\t\tconst prevRegister = __webpack_require__.$Refresh$.register;\n\t\tconst prevSignature = __webpack_require__.$Refresh$.signature;\n\t\tconst prevCleanup = __webpack_require__.$Refresh$.cleanup;\n\n\t\t__webpack_require__.$Refresh$.moduleId = currentModuleId;\n\n\t\t__webpack_require__.$Refresh$.register = (type, id) => {\n\t\t\tconst typeId = currentModuleId + \" \" + id;\n\t\t\t__webpack_require__.$Refresh$.runtime.register(type, typeId);\n\t\t}\n\n\t\t__webpack_require__.$Refresh$.signature = () => (__webpack_require__.$Refresh$.runtime.createSignatureFunctionForTransform());\n\n\t\t__webpack_require__.$Refresh$.cleanup = (cleanupModuleId) => {\n\t\t\tif (currentModuleId === cleanupModuleId) {\n\t\t\t\t__webpack_require__.$Refresh$.moduleId = prevModuleId;\n\t\t\t\t__webpack_require__.$Refresh$.register = prevRegister;\n\t\t\t\t__webpack_require__.$Refresh$.signature = prevSignature;\n\t\t\t\t__webpack_require__.$Refresh$.cleanup = prevCleanup;\n\t\t\t}\n\t\t}\n\t}\n};","var createStylesheet = (chunkId, fullhref, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// no chunk loading\n\nvar oldTags = [];\nvar newTags = [];\nvar applyHandler = (options) => {\n\treturn { dispose: () => {\n\t\tfor(var i = 0; i < oldTags.length; i++) {\n\t\t\tvar oldTag = oldTags[i];\n\t\t\tif(oldTag.parentNode) oldTag.parentNode.removeChild(oldTag);\n\t\t}\n\t\toldTags.length = 0;\n\t}, apply: () => {\n\t\tfor(var i = 0; i < newTags.length; i++) newTags[i].rel = \"stylesheet\";\n\t\tnewTags.length = 0;\n\t} };\n}\n__webpack_require__.hmrC.miniCss = (chunkIds, removedChunks, removedModules, promises, applyHandlers, updatedModulesList) => {\n\tapplyHandlers.push(applyHandler);\n\tchunkIds.forEach((chunkId) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tvar oldTag = findStylesheet(href, fullhref);\n\t\tif(!oldTag) return;\n\t\tpromises.push(new Promise((resolve, reject) => {\n\t\t\tvar tag = createStylesheet(chunkId, fullhref, () => {\n\t\t\t\ttag.as = \"style\";\n\t\t\t\ttag.rel = \"preload\";\n\t\t\t\tresolve();\n\t\t\t}, reject);\n\t\t\toldTags.push(oldTag);\n\t\t\tnewTags.push(tag);\n\t\t}));\n\t});\n}","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = __webpack_require__.hmrS_jsonp = __webpack_require__.hmrS_jsonp || {\n\t\"wp-dashboard\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\nvar currentUpdatedModulesList;\nvar waitingUpdateResolves = {};\nfunction loadUpdateChunk(chunkId, updatedModulesList) {\n\tcurrentUpdatedModulesList = updatedModulesList;\n\treturn new Promise((resolve, reject) => {\n\t\twaitingUpdateResolves[chunkId] = resolve;\n\t\t// start update chunk loading\n\t\tvar url = __webpack_require__.p + __webpack_require__.hu(chunkId);\n\t\t// create error before stack unwound to get useful stacktrace later\n\t\tvar error = new Error();\n\t\tvar loadingEnded = (event) => {\n\t\t\tif(waitingUpdateResolves[chunkId]) {\n\t\t\t\twaitingUpdateResolves[chunkId] = undefined\n\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\terror.message = 'Loading hot update chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\terror.type = errorType;\n\t\t\t\terror.request = realSrc;\n\t\t\t\treject(error);\n\t\t\t}\n\t\t};\n\t\t__webpack_require__.l(url, loadingEnded);\n\t});\n}\n\nglobalThis[\"webpackHotUpdateweb_story_creation_tool\"] = (chunkId, moreModules, runtime) => {\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\tcurrentUpdate[moduleId] = moreModules[moduleId];\n\t\t\tif(currentUpdatedModulesList) currentUpdatedModulesList.push(moduleId);\n\t\t}\n\t}\n\tif(runtime) currentUpdateRuntime.push(runtime);\n\tif(waitingUpdateResolves[chunkId]) {\n\t\twaitingUpdateResolves[chunkId]();\n\t\twaitingUpdateResolves[chunkId] = undefined;\n\t}\n};\n\nvar currentUpdateChunks;\nvar currentUpdate;\nvar currentUpdateRemovedChunks;\nvar currentUpdateRuntime;\nfunction applyHandler(options) {\n\tif (__webpack_require__.f) delete __webpack_require__.f.jsonpHmr;\n\tcurrentUpdateChunks = undefined;\n\tfunction getAffectedModuleEffects(updateModuleId) {\n\t\tvar outdatedModules = [updateModuleId];\n\t\tvar outdatedDependencies = {};\n\n\t\tvar queue = outdatedModules.map(function (id) {\n\t\t\treturn {\n\t\t\t\tchain: [id],\n\t\t\t\tid: id\n\t\t\t};\n\t\t});\n\t\twhile (queue.length > 0) {\n\t\t\tvar queueItem = queue.pop();\n\t\t\tvar moduleId = queueItem.id;\n\t\t\tvar chain = queueItem.chain;\n\t\t\tvar module = __webpack_require__.c[moduleId];\n\t\t\tif (\n\t\t\t\t!module ||\n\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n\t\t\t)\n\t\t\t\tcontinue;\n\t\t\tif (module.hot._selfDeclined) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"self-declined\",\n\t\t\t\t\tchain: chain,\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (module.hot._main) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"unaccepted\",\n\t\t\t\t\tchain: chain,\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n\t\t\t\tvar parentId = module.parents[i];\n\t\t\t\tvar parent = __webpack_require__.c[parentId];\n\t\t\t\tif (!parent) continue;\n\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"declined\",\n\t\t\t\t\t\tchain: chain.concat([parentId]),\n\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\tparentId: parentId\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n\t\t\t\t\tif (!outdatedDependencies[parentId])\n\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tdelete outdatedDependencies[parentId];\n\t\t\t\toutdatedModules.push(parentId);\n\t\t\t\tqueue.push({\n\t\t\t\t\tchain: chain.concat([parentId]),\n\t\t\t\t\tid: parentId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: \"accepted\",\n\t\t\tmoduleId: updateModuleId,\n\t\t\toutdatedModules: outdatedModules,\n\t\t\toutdatedDependencies: outdatedDependencies\n\t\t};\n\t}\n\n\tfunction addAllToSet(a, b) {\n\t\tfor (var i = 0; i < b.length; i++) {\n\t\t\tvar item = b[i];\n\t\t\tif (a.indexOf(item) === -1) a.push(item);\n\t\t}\n\t}\n\n\t// at begin all updates modules are outdated\n\t// the \"outdated\" status can propagate to parents if they don't accept the children\n\tvar outdatedDependencies = {};\n\tvar outdatedModules = [];\n\tvar appliedUpdate = {};\n\n\tvar warnUnexpectedRequire = function warnUnexpectedRequire(module) {\n\t\tconsole.warn(\n\t\t\t\"[HMR] unexpected require(\" + module.id + \") to disposed module\"\n\t\t);\n\t};\n\n\tfor (var moduleId in currentUpdate) {\n\t\tif (__webpack_require__.o(currentUpdate, moduleId)) {\n\t\t\tvar newModuleFactory = currentUpdate[moduleId];\n\t\t\t/** @type {TODO} */\n\t\t\tvar result;\n\t\t\tif (newModuleFactory) {\n\t\t\t\tresult = getAffectedModuleEffects(moduleId);\n\t\t\t} else {\n\t\t\t\tresult = {\n\t\t\t\t\ttype: \"disposed\",\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\t/** @type {Error|false} */\n\t\t\tvar abortError = false;\n\t\t\tvar doApply = false;\n\t\t\tvar doDispose = false;\n\t\t\tvar chainInfo = \"\";\n\t\t\tif (result.chain) {\n\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n\t\t\t}\n\t\t\tswitch (result.type) {\n\t\t\t\tcase \"self-declined\":\n\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n\t\t\t\t\tif (!options.ignoreDeclined)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n\t\t\t\t\t\t\t\tresult.moduleId +\n\t\t\t\t\t\t\t\tchainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"declined\":\n\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n\t\t\t\t\tif (!options.ignoreDeclined)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n\t\t\t\t\t\t\t\tresult.moduleId +\n\t\t\t\t\t\t\t\t\" in \" +\n\t\t\t\t\t\t\t\tresult.parentId +\n\t\t\t\t\t\t\t\tchainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"unaccepted\":\n\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n\t\t\t\t\tif (!options.ignoreUnaccepted)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"accepted\":\n\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n\t\t\t\t\tdoApply = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"disposed\":\n\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n\t\t\t\t\tdoDispose = true;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n\t\t\t}\n\t\t\tif (abortError) {\n\t\t\t\treturn {\n\t\t\t\t\terror: abortError\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (doApply) {\n\t\t\t\tappliedUpdate[moduleId] = newModuleFactory;\n\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n\t\t\t\t\tif (__webpack_require__.o(result.outdatedDependencies, moduleId)) {\n\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n\t\t\t\t\t\taddAllToSet(\n\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (doDispose) {\n\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n\t\t\t}\n\t\t}\n\t}\n\tcurrentUpdate = undefined;\n\n\t// Store self accepted outdated modules to require them later by the module system\n\tvar outdatedSelfAcceptedModules = [];\n\tfor (var j = 0; j < outdatedModules.length; j++) {\n\t\tvar outdatedModuleId = outdatedModules[j];\n\t\tvar module = __webpack_require__.c[outdatedModuleId];\n\t\tif (\n\t\t\tmodule &&\n\t\t\t(module.hot._selfAccepted || module.hot._main) &&\n\t\t\t// removed self-accepted modules should not be required\n\t\t\tappliedUpdate[outdatedModuleId] !== warnUnexpectedRequire &&\n\t\t\t// when called invalidate self-accepting is not possible\n\t\t\t!module.hot._selfInvalidated\n\t\t) {\n\t\t\toutdatedSelfAcceptedModules.push({\n\t\t\t\tmodule: outdatedModuleId,\n\t\t\t\trequire: module.hot._requireSelf,\n\t\t\t\terrorHandler: module.hot._selfAccepted\n\t\t\t});\n\t\t}\n\t}\n\n\tvar moduleOutdatedDependencies;\n\n\treturn {\n\t\tdispose: function () {\n\t\t\tcurrentUpdateRemovedChunks.forEach(function (chunkId) {\n\t\t\t\tdelete installedChunks[chunkId];\n\t\t\t});\n\t\t\tcurrentUpdateRemovedChunks = undefined;\n\n\t\t\tvar idx;\n\t\t\tvar queue = outdatedModules.slice();\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tvar moduleId = queue.pop();\n\t\t\t\tvar module = __webpack_require__.c[moduleId];\n\t\t\t\tif (!module) continue;\n\n\t\t\t\tvar data = {};\n\n\t\t\t\t// Call dispose handlers\n\t\t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n\t\t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n\t\t\t\t\tdisposeHandlers[j].call(null, data);\n\t\t\t\t}\n\t\t\t\t__webpack_require__.hmrD[moduleId] = data;\n\n\t\t\t\t// disable module (this disables requires from this module)\n\t\t\t\tmodule.hot.active = false;\n\n\t\t\t\t// remove module from cache\n\t\t\t\tdelete __webpack_require__.c[moduleId];\n\n\t\t\t\t// when disposing there is no need to call dispose handler\n\t\t\t\tdelete outdatedDependencies[moduleId];\n\n\t\t\t\t// remove \"parents\" references from all children\n\t\t\t\tfor (j = 0; j < module.children.length; j++) {\n\t\t\t\t\tvar child = __webpack_require__.c[module.children[j]];\n\t\t\t\t\tif (!child) continue;\n\t\t\t\t\tidx = child.parents.indexOf(moduleId);\n\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\tchild.parents.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// remove outdated dependency from module children\n\t\t\tvar dependency;\n\t\t\tfor (var outdatedModuleId in outdatedDependencies) {\n\t\t\t\tif (__webpack_require__.o(outdatedDependencies, outdatedModuleId)) {\n\t\t\t\t\tmodule = __webpack_require__.c[outdatedModuleId];\n\t\t\t\t\tif (module) {\n\t\t\t\t\t\tmoduleOutdatedDependencies =\n\t\t\t\t\t\t\toutdatedDependencies[outdatedModuleId];\n\t\t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n\t\t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n\t\t\t\t\t\t\tidx = module.children.indexOf(dependency);\n\t\t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tapply: function (reportError) {\n\t\t\t// insert new code\n\t\t\tfor (var updateModuleId in appliedUpdate) {\n\t\t\t\tif (__webpack_require__.o(appliedUpdate, updateModuleId)) {\n\t\t\t\t\t__webpack_require__.m[updateModuleId] = appliedUpdate[updateModuleId];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// run new runtime modules\n\t\t\tfor (var i = 0; i < currentUpdateRuntime.length; i++) {\n\t\t\t\tcurrentUpdateRuntime[i](__webpack_require__);\n\t\t\t}\n\n\t\t\t// call accept handlers\n\t\t\tfor (var outdatedModuleId in outdatedDependencies) {\n\t\t\t\tif (__webpack_require__.o(outdatedDependencies, outdatedModuleId)) {\n\t\t\t\t\tvar module = __webpack_require__.c[outdatedModuleId];\n\t\t\t\t\tif (module) {\n\t\t\t\t\t\tmoduleOutdatedDependencies =\n\t\t\t\t\t\t\toutdatedDependencies[outdatedModuleId];\n\t\t\t\t\t\tvar callbacks = [];\n\t\t\t\t\t\tvar errorHandlers = [];\n\t\t\t\t\t\tvar dependenciesForCallbacks = [];\n\t\t\t\t\t\tfor (var j = 0; j < moduleOutdatedDependencies.length; j++) {\n\t\t\t\t\t\t\tvar dependency = moduleOutdatedDependencies[j];\n\t\t\t\t\t\t\tvar acceptCallback =\n\t\t\t\t\t\t\t\tmodule.hot._acceptedDependencies[dependency];\n\t\t\t\t\t\t\tvar errorHandler =\n\t\t\t\t\t\t\t\tmodule.hot._acceptedErrorHandlers[dependency];\n\t\t\t\t\t\t\tif (acceptCallback) {\n\t\t\t\t\t\t\t\tif (callbacks.indexOf(acceptCallback) !== -1) continue;\n\t\t\t\t\t\t\t\tcallbacks.push(acceptCallback);\n\t\t\t\t\t\t\t\terrorHandlers.push(errorHandler);\n\t\t\t\t\t\t\t\tdependenciesForCallbacks.push(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var k = 0; k < callbacks.length; k++) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcallbacks[k].call(null, moduleOutdatedDependencies);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\tif (typeof errorHandlers[k] === \"function\") {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\terrorHandlers[k](err, {\n\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k]\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (err2) {\n\t\t\t\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"accept-error-handler-errored\",\n\t\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k],\n\t\t\t\t\t\t\t\t\t\t\t\terror: err2,\n\t\t\t\t\t\t\t\t\t\t\t\toriginalError: err\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\t\t\t\treportError(err2);\n\t\t\t\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k],\n\t\t\t\t\t\t\t\t\t\t\terror: err\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Load self accepted modules\n\t\t\tfor (var o = 0; o < outdatedSelfAcceptedModules.length; o++) {\n\t\t\t\tvar item = outdatedSelfAcceptedModules[o];\n\t\t\t\tvar moduleId = item.module;\n\t\t\t\ttry {\n\t\t\t\t\titem.require(moduleId);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (typeof item.errorHandler === \"function\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\titem.errorHandler(err, {\n\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\tmodule: __webpack_require__.c[moduleId]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (err2) {\n\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n\t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\t\terror: err2,\n\t\t\t\t\t\t\t\t\toriginalError: err\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\treportError(err2);\n\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\ttype: \"self-accept-errored\",\n\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\terror: err\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn outdatedModules;\n\t\t}\n\t};\n}\n__webpack_require__.hmrI.jsonp = function (moduleId, applyHandlers) {\n\tif (!currentUpdate) {\n\t\tcurrentUpdate = {};\n\t\tcurrentUpdateRuntime = [];\n\t\tcurrentUpdateRemovedChunks = [];\n\t\tapplyHandlers.push(applyHandler);\n\t}\n\tif (!__webpack_require__.o(currentUpdate, moduleId)) {\n\t\tcurrentUpdate[moduleId] = __webpack_require__.m[moduleId];\n\t}\n};\n__webpack_require__.hmrC.jsonp = function (\n\tchunkIds,\n\tremovedChunks,\n\tremovedModules,\n\tpromises,\n\tapplyHandlers,\n\tupdatedModulesList\n) {\n\tapplyHandlers.push(applyHandler);\n\tcurrentUpdateChunks = {};\n\tcurrentUpdateRemovedChunks = removedChunks;\n\tcurrentUpdate = removedModules.reduce(function (obj, key) {\n\t\tobj[key] = false;\n\t\treturn obj;\n\t}, {});\n\tcurrentUpdateRuntime = [];\n\tchunkIds.forEach(function (chunkId) {\n\t\tif (\n\t\t\t__webpack_require__.o(installedChunks, chunkId) &&\n\t\t\tinstalledChunks[chunkId] !== undefined\n\t\t) {\n\t\t\tpromises.push(loadUpdateChunk(chunkId, updatedModulesList));\n\t\t\tcurrentUpdateChunks[chunkId] = true;\n\t\t} else {\n\t\t\tcurrentUpdateChunks[chunkId] = false;\n\t\t}\n\t});\n\tif (__webpack_require__.f) {\n\t\t__webpack_require__.f.jsonpHmr = function (chunkId, promises) {\n\t\t\tif (\n\t\t\t\tcurrentUpdateChunks &&\n\t\t\t\t__webpack_require__.o(currentUpdateChunks, chunkId) &&\n\t\t\t\t!currentUpdateChunks[chunkId]\n\t\t\t) {\n\t\t\t\tpromises.push(loadUpdateChunk(chunkId));\n\t\t\t\tcurrentUpdateChunks[chunkId] = true;\n\t\t\t}\n\t\t};\n\t}\n};\n\n__webpack_require__.hmrM = () => {\n\tif (typeof fetch === \"undefined\") throw new Error(\"No browser support: need fetch API\");\n\treturn fetch(__webpack_require__.p + __webpack_require__.hmrF()).then((response) => {\n\t\tif(response.status === 404) return; // no update available\n\t\tif(!response.ok) throw new Error(\"Failed to fetch update manifest \" + response.statusText);\n\t\treturn response.json();\n\t});\n};\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkweb_story_creation_tool\"] = globalThis[\"webpackChunkweb_story_creation_tool\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\n__webpack_require__.O(undefined, [\"vendors-node_modules_pmmmwh_react-refresh-webpack-plugin_lib_runtime_RefreshUtils_js-node_mod-c789df\",\"vendors-node_modules_history_index_js\",\"packages_date_src_index_js-packages_design-system_src_index_js-packages_element-library_src_i-30be8d\"], () => (__webpack_require__(\"./node_modules/@pmmmwh/react-refresh-webpack-plugin/client/ReactRefreshEntry.js\")))\n__webpack_require__.O(undefined, [\"vendors-node_modules_pmmmwh_react-refresh-webpack-plugin_lib_runtime_RefreshUtils_js-node_mod-c789df\",\"vendors-node_modules_history_index_js\",\"packages_date_src_index_js-packages_design-system_src_index_js-packages_element-library_src_i-30be8d\"], () => (__webpack_require__(\"./node_modules/webpack-dev-server/client/index.js?protocol=ws%3A&hostname=localhost&port=8080&pathname=%2Fws&logging=info&reconnect=10\")))\n__webpack_require__.O(undefined, [\"vendors-node_modules_pmmmwh_react-refresh-webpack-plugin_lib_runtime_RefreshUtils_js-node_mod-c789df\",\"vendors-node_modules_history_index_js\",\"packages_date_src_index_js-packages_design-system_src_index_js-packages_element-library_src_i-30be8d\"], () => (__webpack_require__(\"./node_modules/webpack/hot/dev-server.js\")))\n__webpack_require__.O(undefined, [\"vendors-node_modules_pmmmwh_react-refresh-webpack-plugin_lib_runtime_RefreshUtils_js-node_mod-c789df\",\"vendors-node_modules_history_index_js\",\"packages_date_src_index_js-packages_design-system_src_index_js-packages_element-library_src_i-30be8d\"], () => (__webpack_require__(\"./node_modules/@pmmmwh/react-refresh-webpack-plugin/client/ErrorOverlayEntry.js?sockHost=localhost&sockPort=auto&sockProtocol=http\")))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_pmmmwh_react-refresh-webpack-plugin_lib_runtime_RefreshUtils_js-node_mod-c789df\",\"vendors-node_modules_history_index_js\",\"packages_date_src_index_js-packages_design-system_src_index_js-packages_element-library_src_i-30be8d\"], () => (__webpack_require__(\"./packages/wp-dashboard/src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["PropTypes","createContext","useStoryApi","useTemplateApi","useUsersApi","ApiContext","state","actions","ApiProvider","children","api","usersApi","templates","templateApi","stories","storyApi","value","propTypes","node","default","identity","useContextSelector","useApi","selector","useEffect","useDebouncedCallback","useSnackbar","useApiAlerts","storyError","templateError","error","showSnackbar","debouncedShowSnackbar","message","dismissible","id","useCallback","useMemo","useReducer","useRef","getTimeTracker","storyReducer","defaultStoriesState","ACTION_TYPES","STORY_ACTION_TYPES","ERRORS","useConfig","isInitialFetch","initialFetchListeners","Map","dispatch","apiCallbacks","isMounted","current","fetchStories","queryParams","type","LOADING_STORIES","payload","trackTiming","fetchedStoryIds","totalPages","totalStoriesByStatus","forEach","listener","FETCH_STORIES_SUCCESS","page","err","FETCH_STORIES_FAILURE","LOAD_STORIES","MESSAGE","code","updateStory","story","response","UPDATE_STORY","UPDATE_STORY_FAILURE","trashStory","TRASH_STORY","storyStatus","status","TRASH_STORY_FAILURE","DELETE_STORY","createStoryFromTemplate","template","CREATING_STORY_FROM_TEMPLATE","CREATE_STORY_FROM_TEMPLATE_SUCCESS","window","location","editLink","CREATE_STORY_FROM_TEMPLATE_FAILURE","CREATE_STORY_FROM_TEMPLATE","duplicateStory","DUPLICATE_STORY","DUPLICATE_STORY_FAILURE","addInitialFetchListener","key","Symbol","set","delete","compareDesc","templateReducer","defaultTemplatesState","TEMPLATE_ACTION_TYPES","reshapeTemplateObject","cdnURL","fetchExternalTemplates","LOADING_TEMPLATES","templatesByTag","getAllTemplates","reshapedTemplates","map","reshapedTemplate","tags","tag","push","sort","a","b","creationDate","FETCH_TEMPLATES_SUCCESS","totalTemplates","length","fetchExternalTemplateById","templateId","Promise","resolve","reject","Error","getAuthors","Context","ConfigProvider","config","object","isRequired","STORY_STATUS","isLoading","storiesOrderById","action","Date","now","storyGroupStatus","DRAFT","PUBLISH","filter","all","Object","keys","reduce","memo","storyId","parseInt","payloadStories","combinedStoryIds","uniqueStoryIds","Set","allPagesFetched","groupBy","FETCH_TEMPLATES_FAILURE","PLACEHOLDER","templatesOrderById","fetchedTemplatesById","combinedTemplateIds","uniqueTemplateIds","RouterProvider","RouterContext","useRouteHistory","Route","matchPath","resolveRoute","parentRoute","potentialParent","hash","split","slice","join","startsWith","route","toLowerCase","currentPath","path","availableRoutes","defaultRoute","isDefault","exact","match","RegExp","exec","matchUrl","isValidDefaultRoute","isExactMatch","component","string","bool","useState","createHashHistory","APP_ROUTES","getActiveRoute","matchingRoutes","props","history","setCurrentPath","pathname","setAvailableRoutes","DASHBOARD","activeRoute","parse","search","params","URLSearchParams","fromEntries","setQueryParams","listen","replace","toUTCDate","toDate","getOptions","originalTemplateData","isLocal","slug","modified","__","LOAD_TEMPLATES","DEFAULT_MESSAGE","RENDER_PREVIEW","LOAD_TEMPLATE","TEMPLATE_META_DATA_TYPES","VERTICAL","COLOR","TAG","TITLE","styled","Gradient","Scrim","Poster","CardWrapper","div","$isSelected","TemplateDisplayContent","PicturePoster","attrs","as","theme","borders","radius","medium","sprintf","Button","BUTTON_SIZES","BUTTON_TYPES","Headline","LoadingSpinner","THEME_CONSTANTS","InfiniteScroller","Layout","StandardViewContentGutter","LoadingContainer","ViewPropTypes","PagePropTypes","SearchPropTypes","TemplatesPropType","TemplateActionsPropType","EmptyContentMessage","TemplateGridView","Content","view","templateActions","newStoryURL","pageContent","pageSize","requestNextPage","TYPOGRAPHY","PRESET_SIZES","SMALL","keyword","PRIMARY","MEDIUM","number","noop","forwardRef","DEFAULT_GRID_IMG_HEIGHT","DEFAULT_GRID_IMG_WIDTH","TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS","CardGridItem","Container","FOCUS_TEMPLATE_CLASS","SeeDetailsButton","TERTIARY","size","colors","standard","white","TemplateGridItem","ref","onCreateStory","onFocus","height","isActive","posterSrc","title","onSeeDetailsClick","tabIndex","posterAltText","webp","png","displayName","detailLink","func","shape","useFocusOut","useGridViewKeys","CardGrid","PageSizePropType","filteredTemplates","isRTL","containerRef","gridRef","itemRefs","activeGridItemId","setActiveGridItemId","handleDetailsToggle","canCreateStory","Boolean","currentItemId","items","querySelector","focus","memoizedTemplateItems","postersByPage","el","useFeature","DASHBOARD_VIEWS","TEMPLATES_GALLERY_SORT_MENU_ITEMS","TEXT_INPUT_DEBOUNCE","FilterPropTypes","SortPropTypes","useDashboardResultsLabel","PageHeading","BodyViewOptions","Header","searchOptions","enableInProgressTemplateActions","setKeyword","debouncedSearchChange","clearSearch","resultsLabel","totalResults","currentFilter","TEMPLATES_GALLERY","style","toggleStyle","arrayOf","trackEvent","trackScreenView","uniqueEntriesByKey","useLiveRegion","ScrollToTop","useTemplateView","getTemplateFilters","composeTemplateFilter","TemplateDetailsModal","ExploreTemplates","speak","isDetailsViewOpen","setIsDetailsViewOpen","activeTemplate","setActiveTemplate","activeTemplateIndex","setActiveTemplateIndex","templateIdParam","idRef","templateFilters","selectFilters","opt","label","includes","orderedTemplates","totalVisibleTemplates","handleCreateStoryFromTemplate","name","template_id","updateTemplateView","currentTemplate","find","templateItem","findIndex","undefined","prevIsOpen","newIsOpen","switchToTemplateByOffset","offset","newTemplate","isValidId","some","Modal","TemplatePropType","DetailsContent","filteredTemplatesLength","backgroundColor","opacity","overlayDark","display","width","Panel","section","Inner","DetailContainer","TemplateDetails","RowContainer","BUTTON_VARIANTS","Chip","Display","Icons","Text","CardGallery","ColorList","StyledPanel","ByLineText","fg","tertiary","DescriptionText","PaginationContainer","alignLeft","TemplateTag","forwardedAs","primary","MetadataContainer","description","galleryPosters","setGalleryPosters","values","poster","index","NextButton","PrevButton","nextIndex","previousIndex","disablePrevious","disableNext","Previous","SQUARE","Next","byLine","createdBy","Nav","nav","CTAButton","templateTitle","MyStoriesView","ExploreTemplatesView","StoriesPropType","StoryActionsPropType","ShowStoriesWhileLoadingPropType","StoriesView","canViewDefaultTemplates","loading","storyActions","showStoriesWhileLoading","css","themeHelpers","focusableOutlineCSS","ListView","ArrowIcon","active","asc","EmptyIconSpace","ArrowIconWithTitle","breakpoint","mobile","SelectableTitle","isBold","blue","border","bg","secondary","RenameStoryPropType","StoryMenuPropType","Table","TableAuthorHeaderCell","TableBody","TableDateHeaderCell","StickyTableHeader","TablePreviewHeaderCell","TableRow","TableStatusHeaderCell","TableTitleHeaderCell","ORDER_BY_SORT","SORT_DIRECTION","STORY_SORT_OPTIONS","StoryListItem","toggleSortLookup","DESC","ASC","StoryListView","handleSortChange","handleSortDirectionChange","hideStoryList","renameStory","sortDirection","storyMenu","storySort","userId","styleConstants","topOffset","onSortTitleSelected","newStorySort","onKeyDownSort","sortBy","tableContents","NAME","e","CREATED_BY","DATE_CREATED","LAST_MODIFIED","oneOf","titleFormatted","Dialog","VIEW_STYLE","STORY_CONTEXT_MENU_ACTIONS","STORY_CONTEXT_MENU_ITEMS","StoryGridView","ACTIVE_DIALOG_DELETE_STORY","filterValue","contextMenuId","setContextMenuId","titleRenameId","setTitleRenameId","activeDialog","setActiveDialog","activeStory","setActiveStory","focusedStory","setFocusedStory","returnStoryFocusId","setReturnStoryFocusId","isActiveDeleteStoryDialog","storiesById","storyArrayIndex","indexOf","isDeletedAdjustmentDirection","adjustedIndex","isDeleted","focusIndex","storyIdToFocus","handleOnRenameStory","newTitle","raw","handleOnDeleteStory","handleOpenStoryInEditor","handleRenameStory","handleDuplicateStory","handleDeleteStory","handleCopyStoryLink","navigator","clipboard","writeText","link","menuItems","item","COPY_STORY_LINK","DELETE","DUPLICATE","OPEN_STORY_LINK","RENAME","handleMenuToggle","handleCancelRename","ActiveView","LIST","setDirection","direction","CustomCardGridItem","$posterHeight","ScrimAnchor","interactiveBg","StyledStoryDisplayContent","Row","LockedRow","CardDetailsGrid","CardDetailsColumn","Title","X_SMALL","inverted","DetailCopy","LockAvatar","img","brandNormal","small","LockIcon","LockClosed","VisuallyHidden","getRelativeDisplayDate","StoryMenu","generateStoryMenu","StoryPropType","StoryDisplayContent","StoryGridItem","titleRenameProps","editMode","onEditComplete","onEditCancel","isLocked","locked","lockUser","generatedMenuItems","storyDate","modifiedGmt","createdGmt","formattedTitle","memoizedStoryMenu","featuredMediaUrl","alt","src","decoding","capabilities","hasEditAction","editStoryLink","author","TOOLTIP_PLACEMENT","InlineInputForm","Tooltip","DashboardStatusesPropType","contextMenu","displayDate","displayDateText","FUTURE","avatar","storyLockedTitle","BOTTOM_START","PENDING","oneOfType","PAGE_WRAPPER","StoryGrid","GUTTER","activeGridItemIdRef","gridItemIds","newFocusId","firstFocusableElement","querySelectorAll","evt","keyCode","isNext","shiftKey","idToFocus","manuallySetFocusOut","modifiedStoryMenu","_item","memoizedStoryGrid","STORY_PREVIEW_WIDTH","VIEWPORT_BREAKPOINT","MoreVerticalButton","PreviewImage","gradient","placeholder","THUMBNAIL","PreviewWrapper","round","StyledTableRow","TitleTableCellContainer","TableCell","TablePreviewCell","TableStatusCell","DISPLAY_STATUS","onFocusSelectAll","getSelection","selectAllChildren","target","onBlurDeselectAll","removeAllRanges","_","XXX_SMALL","Pill","useLayoutContext","STORY_STATUSES","STORY_SORT_MENU_ITEMS","TotalStoriesByStatusPropType","AuthorPropTypes","getSearchOptions","StyledPill","gray","initialPageReady","queryAuthorsBySearch","showAuthorDropdown","scrollToTop","isActiveSearch","filterKey","handleClick","HeaderToggleButtons","count","ariaLabel","onSortChange","newSort","search_type","search_term","useStoryView","MyStories","filters","setQueriedAuthors","authorSearchTerm","then","data","userData","existingUsers","existingUsersIds","newUsers","newUser","searchTerm","sortOption","filterId","orderedStories","TranslateWithMarkup","DropDown","Datalist","ViewStyleBar","DROPDOWN_TYPES","DisplayFormatContainer","StorySortDropdownContainer","ControlsContainer","StyledDropDown","BodyViewOptionsHeader","StyledDatalist","defaultAuthor","toggleFilterId","queriedAuthors","currentSort","handleLayoutSelect","layoutStyle","pageSortOptions","showGridToggle","showSortDropdown","sortDropdownAriaLabel","GRID","MENU","DesertColor","Message","EmptyImage","posterOverlay","black3","Search","NavMenuButton","HeadingContainer","divider","StyledHeadline","HeadlineFilters","HeaderSearch","MobileViewPortWrapper","HeadingWrapper","span","heading","searchPlaceholder","showSearch","handleSearchChange","searchValue","onClear","color","vertical","options","acc","option","trim","templatesArr","flatMap","t","c","family","verticals","pictureCss","defaultNormal","GalleryContainer","DisplayPage","$isThreeRows","Thumbnails","ThumbnailButton","PLAIN","getPosterAltCopy","pageNumber","galleryLabel","selectedGridItemIndex","setSelectedGridItemIndex","focusedGridItemIndex","setFocusedGridItemIndex","posterRefs","handleMiniCardClick","handleGalleryItemFocus","GalleryItems","isFocusIndex","ThemeGlobals","GRID_SPACING","DashboardGrid","COLUMN_GAP","ROW_GAP","columnWidth","columnHeight","FOCUS_VISIBLE_SELECTOR","focusCSS","role","createSolidFromString","ColorType","borderLookup","ColorContainer","ul","Color","li","$backgroundColor","spacing","rest","r","g","ThemeProvider","StyledDialog","onClose","onSecondary","onPrimary","primaryText","secondaryText","primaryRest","secondaryRest","_PrimaryButton","_SecondaryButton","open","DEFAULT_FILE_UPLOAD_TYPES","StyledButton","Input","input","visuallyHidden","UploadFormArea","isDragging","UploadHelperText","LoadingIndicator","disableDefaults","preventDefault","stopPropagation","FileUpload","onSubmit","isMultiple","instructionalText","acceptableFormats","uploadFileContainer","fileInputRef","setDragging","handleUploadFile","files","handleChange","handleDragDrop","dataTransfer","handleDrag","prevIsDragging","clearData","addEventListener","removeEventListener","AppFrame","LeftRail","PageContent","NavProvider","useNavContext","CONTEXT_MENU_BUTTON_CLASS","TableHeader","TableHeaderCell","TableTitleCell","TableContentCell","TableContentHeaderCell","ScrollMessage","AriaOnlyAlert","STATE","loadable","loading_internal","loading_external","complete","ACTION","ON_INTERNAL_LOAD","ON_EXTERNAL_LOAD","ON_ALL_LOADED","ON_LOAD_SUCCESS","ON_CAN_LOAD_MORE","machine","loadReducer","allDataLoadedMessage","allDataLoadedAriaMessage","onLoadMore","canLoadMore","loadingAriaMessage","loadingRef","onLoadMoreRef","loadState","loadingAlert","observer","IntersectionObserver","entries","entry","isIntersecting","rootMargin","threshold","triggerEl","observe","unobserve","loadingContent","StyledInput","$isInverted","noAutoFocus","isInverted","inputContainerRef","newValue","setNewValue","handleKeyPress","nativeEvent","usePrevious","Snackbar","ROUTE_TITLES","InterfaceSkeleton","additionalRoutes","leftRailSecondaryNavigation","documentTitleSuffix","isFirstLoadOnMyStories","isRedirectComplete","setIsRedirectComplete","storyStatuses","additionalPaths","additionalRouteTitle","dynamicPageTitle","DEFAULT","document","clearSnackbar","removeSnack","placement","currentSnacks","prevPath","routeProps","array","Z_INDEX","FixedContent","LAYOUT_FIXED","Fixed","Provider","Scrollable","LayoutContext","firstFocusableContentRef","scrollFrameRef","getElementById","documentElement","scrollTo","top","behavior","ScrollContent","useContext","context","NavContext","sideBarVisible","setSideBarVisible","toggleSideBar","useLayoutEffect","trackClick","LogoWithTypeCircleColor","PRIMARY_PATHS","AppInfo","NavLink","NavList","NavListItem","PathName","LeftRailContainer","IconWrap","version","leftRailRef","upperContentRef","onContainerClickCapture","handleSideBarClose","onCreateNewStoryClick","onExternalLinkClick","trackingEvent","QUATERNARY","Icon","isTemplatesDisabled","isExternal","rel","onClick","getFullYear","MIN_DASHBOARD_WIDTH","Menu","MenuSvg","MenuIcon","interactiveFg","TransparentButton","button","showOnlyOnSmallViewport","Link","activeLinkCss","brandPress","isIconLink","BEZIER","DASHBOARD_LEFT_NAV_WIDTH","fullWidth","outCubic","isOpen","defaultFn","getMenuItem","menuItemsFiltered","isEnabled","capability","menuItem","menu","extraProperties","OPEN_IN_EDITOR","href","bottomTargetAction","openNewTab","previewLink","disabled","$isVisible","white64","Number","DropUpArrowIcon","ChevronUp","isVisible","setIsVisible","handleScroll","scrollY","passive","CIRCLE","Fragment","ContextMenu","ContextMenuComponents","MoreVertical","MoreVerticalSvg","menuOpen","black","MenuContainer","verticalAlign","$menuStyleOverrides","onMoreButtonSelected","itemActive","menuStyleOverrides","menuLabel","isPopoverMenuOpen","handleDismiss","separator","MenuItem","MenuLink","MenuButton","CELL_PADDING","table","expandTextPreset","paragraph","tbody","thead","th","tabletMax","tr","td","TOOLTIP_RTL_PLACEMENT","BaseTooltip","TooltipPropTypes","BOTTOM","derivedPlacement","VIEW_STYLE_LABELS","ToggleButton","hover","onPress","BOTTOM_END","CTA","SECONDARY","PANEL","COLOR_PANEL","Compass","HomeWithHeart","STORY_VIEWING_LABELS","TEMPLATES_GALLERY_VIEWING_LABELS","KEYBOARD_USER_CLASS","LAYOUT_SQUISHABLE","STICKY_TABLE","POPOVER_MENU","POPOVER_PANEL","TEMPLATE_DETAIL","RESULT_LABELS","STORIES_PER_REQUEST","MIN_IMG_HEIGHT","MIN_IMG_WIDTH","PAGE_RATIO","PAGE_WIDTH","PAGE_HEIGHT","TABLET","DESKTOP","_n","CLOSE","hasDeleteAction","BASE_STATUSES","PRIVATE","ALL","PUBLISHED_AND_FUTURE","n","STORY_ANIMATION_STATE","RESET","PAUSED","SCRUBBING","PLAYING","_x","TEMPLATE_CATEGORIES","DIY_CRAFTS","MOVIES_TV","BEAUTY_STYLE","FITNESS_WELLBEING","FOOD","TRAVEL","MUSIC","SPORTS","TEMPLATE_CATEGORY_ITEMS","TEMPLATE_COLORS","WHITE","BLACK","GRAY","BROWN","RED","ORANGE","YELLOW","GREEN","BLUE","PINK","PURPLE","TEMPLATE_COLOR_ITEMS","hex","TEMPLATES_GALLERY_STATUS","TEMPLATES_GALLERY_SORT_OPTIONS","POPULAR","RECENT","lightMode","ModalGlobalStyle","SnackbarProvider","PopupProvider","externalDesignSystemTheme","deepMerge","StyleSheetManager","stylisRTLPlugin","defineProperty","FlagsProvider","GlobalStyle","KeyboardOnlyOutline","getDefaultConfig","Dashboard","_config","activeTheme","flags","leftOffset","locale","dateFormat","timeFormat","gmtOffset","timezone","months","monthsShort","weekdays","weekdaysShort","weekdaysInitials","weekStartsOn","archiveURL","defaultArchiveURL","allowedImageMimeTypes","encodeMarkup","maxUpload","maxUploadFormatted","canManageSettings","canUploadFiles","localeData","FloppyDisk","DashboardGlobalStyle","DashboardKeyboardOnlyOutline","createGlobalStyle","pages","TagPropType","CategoryPropType","parent","UserPropType","avatarUrls","draft","publish","url","arr","prev","curr","usePagePreviewSize","getPosterHeight","OutlineStyles","ACCEPTED_KEYS","usingKeyboard","setUsingKeyboard","handleKeydown","handleMousedown","cleanup","body","classList","toggle","rawTitle","numResults","defaultLabel","interprettedDefaultLabel","useResizeEffect","Math","getCurrentBp","availableContainerSpace","sizeFromWidth","bp","respectSetWidth","itemsInRow","floor","columnGapWidth","pageGutter","takenSpace","remainingSpace","addToWidthValue","trueWidth","getContainerWidth","windowWidth","isWindowSmallerThanMinDashboardWidth","innerWidth","thumbnailMode","isGrid","containerId","dashboardContainerRef","viewportWidth","setViewportWidth","setBp","setAvailableContainerSpace","offsetWidth","debounceSetViewportWidth","clamp","viewStyle","setViewStyle","_setSort","_setFilter","_setSortDirection","setPage","searchKeyword","_setSearchKeyword","authorFilterId","_setAuthorFilterId","setInitialPageReady","setPageClamped","newPage","pageRange","MIN","MAX","setSort","setFilter","newFilter","setSortDirection","newSortDirection","toggleViewStyle","newViewStyle","setSearchKeyword","newSearchKeyword","toggleAuthorFilterId","prevFilterId","search_filter","search_author_filter","search_order","search_orderby","search_view","apiFetch","addQueryArgs","users","per_page","who","STORY_FIELDS","SEARCH_PAGES_FIELDS","GET_PAGE_FIELDS","STORY_EMBED","REST_LINKS","EDIT","getCustomFonts","apiPath","service","deleteCustomFont","_method","method","addCustomFont","font","SUCCESS","useEditorSettings","settingsError","mediaError","settingSaved","publisherLogosError","settings","media","publisherLogos","publisherLogosSaved","SETTINGS","UPDATED","addCustomFontCallback","getCustomFontsCallback","deleteCustomFontCallback","useFontsApi","fonts","fontsApiPath","customFonts","setCustomFonts","fetchCustomFonts","filteredFonts","newCustomFonts","newFont","mediaReducer","defaultMediaState","MEDIA_ACTION_TYPES","uploadMedia","uploadMediaCallback","useMediaApi","mediaApiPath","LOADING_MEDIA","mediaResponse","ADD_MEDIA_SUCCESS","newlyCreatedMediaIds","ADD_MEDIA_FAILURE","UPLOAD_PUBLISHER_LOGO","getPageById","getPageByIdCallback","searchPages","searchPagesCallback","usePagesApi","pagesApiPath","rendered","publisherLogosReducer","defaultPublisherLogosState","fetchPublisherLogos","fetchPublisherLogosCallback","addPublisherLogo","addPublisherLogoCallback","removePublisherLogo","removePublisherLogoCallback","setPublisherLogoAsDefault","setPublisherLogoAsDefaultCallback","usePublisherLogosApi","publisherLogosApiPath","LOADING","Array","isArray","FETCH_FAILURE","LOAD_PUBLISHER_LOGOS","FETCH_SUCCESS","publisherLogoId","REMOVE_SUCCESS","REMOVE_PUBLISHER_LOGO","publisherLogoIds","publisherLogo","ADD_SUCCESS","ADD_FAILURE","UPDATE_SUCCESS","UPDATE_PUBLISHER_LOGO","settingsReducer","defaultSettingsState","SETTINGS_ACTION_TYPES","fetchSettings","fetchSettingsCallback","updateSettings","updateSettingsCallback","useSettingsApi","settingsApiPath","FETCH_SETTINGS_SUCCESS","FETCH_SETTINGS_FAILURE","LOAD_SETTINGS","SETTING_SAVED","UPDATE_SETTINGS_SUCCESS","UPDATE_SETTINGS_FAILURE","UPDATE_EDITOR_SETTINGS","getUser","toggleWebStoriesTrackingOptIn","toggleWebStoriesTrackingOptInCallback","toggleWebStoriesMediaOptimization","toggleWebStoriesMediaOptimizationCallback","useUserApi","currentUser","setCurrentUser","isUpdating","setIsUpdating","currentUserApiPath","snakeToCamelCaseObjectKeys","file","FormData","append","_fields","logoId","UPDATE_FAILURE","REMOVE_FAILURE","publisherLogoReducer","newPublisherLogos","wasDefault","AD_NETWORK_TYPE","ARCHIVE_TYPE","SHOPPING_PROVIDER_TYPE","googleAnalyticsId","usingLegacyAnalytics","adSensePublisherId","adSenseSlotId","adManagerSlotId","adNetwork","NONE","archive","archivePageId","videoCache","shoppingProvider","shopifyHost","shopifyAccessToken","transformSettingResponse","web_stories_ga_tracking_id","web_stories_using_legacy_analytics","web_stories_adsense_publisher_id","web_stories_adsense_slot_id","web_stories_ad_manager_slot_id","web_stories_ad_network","web_stories_video_cache","web_stories_archive","web_stories_archive_page_id","web_stories_shopping_provider","web_stories_shopify_host","web_stories_shopify_access_token","query","reshapeStoryObject","perPage","_embed","_web_stories_envelope","orderby","order","headers","JSON","reshapedStories","getStoryMarkup","featuredMedia","content","publisher","storyPropsToSave","meta","web_stories_publisher_logo","convertedColors","storyData","autoAdvance","defaultPageDuration","currentStoryStyles","story_data","original_id","web_stories_media_optimization","webStoriesMediaOptimization","web_stories_tracking_optin","webStoriesTrackingOptin","originalStoryData","date","date_gmt","modified_gmt","preview_link","edit_link","_embedded","source_url","lock","_links","links","prototype","hasOwnProperty","call","created","avatar_urls","InlineLink","TextInputHelperText","TEXT","SLOT_ID_LABEL","HELPER_MESSAGE_ADSENSE","HELPER_MESSAGE_ADMANAGER","HELPER_LINK_ADSENSE","HELPER_LINK_ADSENSE_HELP","HELPER_LINK_ADMANAGER","OPTIONS","ADSENSE","ADMANAGER","AdNetworkSettings","adNetworkRaw","handleUpdate","setAdNetwork","handleMonetizationClick","newAdNetwork","help","validateAdManagerSlotIdFormat","InlineForm","SaveButton","SettingsTextInput","VisuallyHiddenLabel","SLOT_ID_CONTEXT","SLOT_ID_PLACEHOLDER","INPUT_ERROR","SUBMIT_BUTTON","GoogleAdManagerSettings","slotId","setSlotId","slotIdInputError","setSlotIdInputError","canSaveSlotId","disableSlotIdSaveButton","onUpdateSlotId","event","onSaveSlotId","onKeyDownSlotId","validateAdSensePublisherIdFormat","validateAdSenseSlotIdFormat","PUBLISHER_ID_CONTEXT","PUBLISHER_ID_CONTEXT_LINK","PUBLISHER_ID_PLACEHOLDER","PUBLISHER_ID_LABEL","SLOT_ID_CONTEXT_LINK","GoogleAdSenseSettings","publisherId","handleUpdatePublisherId","handleUpdateSlotId","setPublisherId","publisherIdInputError","setPublisherIdInputError","canSavePublisherId","disablePublisherIdSaveButton","onUpdatePublisherId","onSavePublisherId","onKeyDownPublisherId","MultilineForm","SettingHeading","SettingSubheading","SECTION_HEADING","HELPER_MESSAGE_NONE","HELPER_LINK_NONE","SITE_KIT_NOT_INSTALLED","SITE_KIT_INSTALLED","SITE_KIT_IN_USE","AdManagement","siteKitStatus","adsenseActive","installed","adsenseLink","handleUpdateAdSensePublisherId","newAdSensePublisherId","handleUpdateAdSenseSlotId","newAdSenseSlotId","handleUpdateAdManagerSlotId","newAdManagerSlotId","handleUpdateAdNetwork","onSiteKitClick","siteKitDisplayText","analyticsActive","SettingForm","LABEL","ARCHIVE_CONTENT","ARCHIVE_CONTENT_2","SUB_TEXT_CUSTOM","DISABLED","CUSTOM","SearchWrapper","ArchiveSettings","_archiveURL","setArchiveURL","selectedPage","setSelectedPage","setSearchOptions","onChangeArchive","newArchive","newArchivePageId","onChangeArchivePageId","newArchivePage","mounted","newOption","defaultProps","Wrapper","Main","form","expandPresetStyles","preset","typography","presets","LARGE","HelperText","CenterMutedText","CheckboxLabel","CheckboxLabelText","negative","UploadedContainer","GridItemContainer","defaultActive","GridItemButton","Logo","LogoMenuButton","variant","VisuallyHiddenDescription","ConfirmationDialog","translateToExclusiveList","isValidUrl","withProtocol","trackError","getFontDataFromUrl","ADD_CONTEXT","REMOVAL","INPUT_CONTEXT","FONTS_HEADING","FONTS_CONTEXT","AddButton","InputsWrapper","FontsWrapper","ListHeading","FontsList","DeleteButton","FontRow","FontData","StyledText","FontUrl","Divider","ALLOWED_FONT_TYPES","CustomFontsSettings","fontUrl","setFontUrl","inputError","setInputError","showDialog","setShowDialog","toDelete","setToDelete","canSave","currentFontsContainerRef","currentFontsRowsRef","currentFontsFocusIndex","setCurrentFontsFocusIndex","currentFontsActiveId","setCurrentFontsActiveId","handleUpdateFontUrl","handleDelete","REMOVE_FONT","handleOnSave","urlWithProtocol","fetch","fontData","handleOnKeyDown","isListBoxActiveRow","handleListBoxNav","max","min","fontURL","load","fontInfo","names","fullName","en","weights","styles","variants","fallbacks","metrics","upm","unitsPerEm","ascender","des","descender","tAsc","tables","os2","sTypoAscender","tDes","sTypoDescender","tLGap","sTypoLineGap","wAsc","usWinAscent","wDes","usWinDescent","xH","sxHeight","capH","sCapHeight","yMin","head","yMax","hAsc","hhea","hDes","lGap","lineGap","useTelemetryOptIn","useMediaOptimization","PublisherLogoSettings","TelemetrySettings","MediaOptimizationSettings","VideoCacheSettings","GoogleAnalyticsSettings","Shopping","EditorSettings","isMediaLoading","fontsApi","settingsApi","pagesApi","mediaApi","publisherLogosApi","isShoppingEnabled","disableOptedIn","optedIn","disableMediaOptimization","mediaOptimization","setMediaError","handleUpdateGoogleAnalyticsId","newGoogleAnalyticsId","handleMigrateLegacyAnalytics","handleAddLogos","allFileSizesWithinMaxUpload","allFileTypeSupported","errorProcessingImages","imagePromises","fileTypeSupported","Image","onload","onerror","URL","createObjectURL","errorText","images","catch","allFileDimensionsValid","every","handleRemoveLogo","handleUpdateDefaultLogo","newDefaultLogo","EditorSettingsProvider","NotificationBubble","validateGoogleAnalyticsIdFormat","StyledNotificationBubble","CONTEXT","CONTEXT_LINK","ARIA_LABEL","handleUpdateAnalyticsId","analyticsId","setAnalyticsId","disableSaveButton","analyticsLink","onUpdateAnalyticsId","handleAnalyticsMigration","onAutoAnalyticsClick","onContextClick","v4","uuidv4","Checkbox","selected","onCheckboxSelected","mediaOptimizationId","PopoverLogoContextMenu","PopoverLogoContextMenuPropTypes","GridItem","onMenuItemToggle","onRemoveLogo","onUpdateDefaultLogo","setFocusedPublisherLogoId","showLogoContextMenu","isFocused","ev","idx","UPLOAD_CONTEXT","CLICK_CONTEXT","INSTRUCTIONS","SUBMIT","HELPER_UPLOAD","onAddLogos","uploadError","focusedPublisherLogoId","indexRemoved","setIndexRemoved","hasOnlyOneLogo","publisherLogoCount","handleRemoveLogoClick","toString","getElementsByTagName","moveItemFocusByIndex","firstChild","newMenuId","openMenuLogoId","ShopifySettings","ShoppingProviderDropDown","SHOPPING_PROVIDER_HELPER_MESSAGE","HELPER_MESSAGE","handleUpdateShoppingProvider","handleUpdateShopifyHost","handleUpdateShopifyAccessToken","SHOPIFY","isValidShopifyHost","hostPattern","HOST_CONTEXT","HOST_CONTEXT_LINK","HOST_PLACEHOLDER","HOST_LABEL","ACCESS_TOKEN_CONTEXT","ACCESS_TOKEN_CONTEXT_LINK","ACCESS_TOKEN_PLACEHOLDER","ACCESS_TOKEN_LABEL","host","accessToken","handleUpdateHost","handleUpdateAccessToken","setHost","hostInputError","setHostInputError","canSaveHost","disableHostSaveButton","setAccessToken","accessTokenInputError","setAccessTokenInputError","canSaveAccessToken","disableAccessTokenSaveButton","onUpdateHost","onHostBlur","onSaveHost","onKeyDownHost","onUpdateAccessToken","onSaveAccessToken","onKeyDownAccessToken","WOOCOMMERCE","newShoppingProvider","telemetryOptInId","adManagerSlotIdFormatRegex","adSensePublisherIdFormatRegex","adSenseSlotIdFormatRegex","idFormatRegex","videoCacheId","onChange","useAdminSubMenu","TelemetryBanner","EDITOR_SETTINGS_ROUTE","createPortal","Banner","bannerBg","Label","htmlFor","LabelText","VisitSettingsText","TelemetryOptInBanner","visible","checked","checkboxRef","focusOnCheckbox","TelemetryBannerContainer","bannerVisible","closeBanner","previousBannerVisible","headerEl","forceUpdate","LEFT_RAIL_SECONDARY_NAVIGATION","MESSAGE_PLURAL","TOOLBAR_HEIGHT","MENU_WIDTH","MENU_FOLDED_WIDTH","WPSubmenuItems","remove","removeAttribute","add","setAttribute","_toggleWebStoriesMediaOptimization","enableTracking","disableTracking","localStore","LOCAL_STORAGE_KEY","setInitialBannerPreviouslyClosed","storageValue","localStorage","getItem","bannerPreviouslyClosed","setBannerPreviouslyClosed","optInCheckboxClicked","setOptInCheckboxClicked","dataIsLoaded","_toggleWebStoriesTrackingOptIn","setItemByKey","setAppElement","StrictMode","render","initializeTracking","bindToCallbacks","registerElementType","elementTypes","webStories","initializeStoryDashboard","appElement","dashboardConfig","__webpack_public_path__","publicPath","setLocaleData","OVERLAY_CLASS","scrollbarCSS"],"sourceRoot":""}